
<!DOCTYPE html>
<!--
Template Name: Metronic - Responsive Admin Dashboard Template build with Twitter Bootstrap 3.3.6
Version: 4.5.6
Author: KeenThemes
Website: http://www.keenthemes.com/
Contact: support@keenthemes.com
Follow: www.twitter.com/keenthemes
Dribbble: www.dribbble.com/keenthemes
Like: www.facebook.com/keenthemes
Purchase: http://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469?ref=keenthemes
Renew Support: http://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469?ref=keenthemes
License: You must have a valid license purchased only from themeforest(the above link) in order to legally use the theme for your project.
-->

<html>
    <!--<![endif]-->
    <!-- BEGIN HEAD -->
    <head>
        <title>Banco Galicia</title>
        

        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="X-UA-Compatible" content="IE=9"/>
        <meta content="width=device-width, initial-scale=1" name="viewport" />
        <meta content="" name="description" />
        <meta content="" name="author" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

        <!-- Hojas de estilo extras -->
        
        

        <!-- BEGIN GLOBAL MANDATORY STYLES -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" />
        <link rel="shortcut icon" href="https://cdn.takesecurity.com/static/assets/pages/img/favicon_redondo.png" />

        <link href="https://cdn.takesecurity.com/static/assets/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css" />
        <!-- END GLOBAL MANDATORY STYLES -->

        <!-- BEGIN THEME STYLES -->
        <!-- DOC: To use 'rounded corners' style just load 'components-rounded.css' stylesheet instead of 'components.css' in the below style tag -->
        <link href="https://cdn.takesecurity.com/static/assets/global/css/components-rounded.min.css" id="style_components" rel="stylesheet" type="text/css" />

        <link href="https://cdn.takesecurity.com/static/assets/pages/css/custom_users.css" rel="stylesheet" type="text/css" />
        <link href="https://cdn.takesecurity.com/static/assets/pages/css/custom.css" rel="stylesheet" type="text/css" />
        <link href="https://cdn.takesecurity.com/static/assets2/plugins/custom/fullcalendar/fullcalendar.bundle.css" rel="stylesheet" type="text/css" />

        <!-- BEGIN Metronic-->
        <link href="https://cdn.takesecurity.com/static/assets2/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" />
        <link href="https://cdn.takesecurity.com/static/assets2/plugins/custom/prismjs/prismjs.bundle.css" rel="stylesheet" type="text/css" />
        <link href="https://cdn.takesecurity.com/static/assets2/css/style.bundle.css" rel="stylesheet" type="text/css" />
        <!-- END Metronic-->
        <!--begin::Layout Themes(used by all pages)-->
        <link href="https://cdn.takesecurity.com/static/assets2/css/themes/layout/header/base/light.min.css" rel="stylesheet" type="text/css" />
        <link href="https://cdn.takesecurity.com/static/assets2/css/themes/layout/header/menu/light.min.css" rel="stylesheet" type="text/css" />
        <link href="https://cdn.takesecurity.com/static/assets2/css/themes/layout/brand/light.min.css" rel="stylesheet" type="text/css" />
        <link href="https://cdn.takesecurity.com/static/assets2/css/themes/layout/aside/light.min.css" rel="stylesheet" type="text/css" />
        <!--end::Layout Themes-->
        <!-- font-awesome -->
        <script src="https://kit.fontawesome.com/665a57b5d1.js" crossorigin="anonymous"></script>
        <!-- select2 -->
        <link href="https://cdn.takesecurity.com/static/assets2/plugins/global/select2/select2.min.css" rel="stylesheet" type="text/css" />
        <link href="https://cdn.takesecurity.com/static/assets2/plugins/global/select2/select2-bootstrap4.min.css" rel="stylesheet" type="text/css" />

        <link rel="stylesheet" href="https://cdn.takesecurity.com/static/assets/global/css/final_user/introjs.css">
        <link rel="stylesheet" href="https://cdn.takesecurity.com/static/assets/global/css/final_user/themes/introjs-flattener.css">
        <link href="https://cdn.takesecurity.com/static/assets/pages/css/introjs-admin.css" rel="stylesheet" type="text/css" />
        <!-- Hojas de estilo extras -->
        
	<link rel="canonical" href="https://keenthemes.com/metronic" />
	<!--begin::Fonts-->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" />
	<!--end::Fonts-->
	<!--begin::Page Custom Styles(used by this page)-->

	<link href="https://cdn.takesecurity.com/static/assets2/css/pages/login/classic/login-4.min.css" rel="stylesheet" type="text/css" />
	<!--end::Page Custom Styles-->

	<!--Login style-->
	<link rel="stylesheet" href="https://cdn.takesecurity.com/static/assets2/css/pages/login/login.css">

	<style>
    .text-primary-login {
        color: #0052F7;
    }
    a.text-hover-primary-login,
    .text-hover-primary-login {
        -webkit-transition: color 0.15s ease, background-color 0.15s ease, border-color 0.15s ease, -webkit-box-shadow 0.15s ease;
        transition: color 0.15s ease, background-color 0.15s ease, border-color 0.15s ease, -webkit-box-shadow 0.15s ease;
        transition: color 0.15s ease, background-color 0.15s ease, border-color 0.15s ease, box-shadow 0.15s ease;
        transition: color 0.15s ease, background-color 0.15s ease, border-color 0.15s ease, box-shadow 0.15s ease, -webkit-box-shadow 0.15s ease;
    }
    a.text-hover-primary-login:hover,
    .text-hover-primary-login:hover {
        -webkit-transition: color 0.15s ease, background-color 0.15s ease, border-color 0.15s ease, -webkit-box-shadow 0.15s ease;
        transition: color 0.15s ease, background-color 0.15s ease, border-color 0.15s ease, -webkit-box-shadow 0.15s ease;
        transition: color 0.15s ease, background-color 0.15s ease, border-color 0.15s ease, box-shadow 0.15s ease;
        transition: color 0.15s ease, background-color 0.15s ease, border-color 0.15s ease, box-shadow 0.15s ease, -webkit-box-shadow 0.15s ease;
        color: #007df7;
    }

    .text-muted-login {
        color: #B5B5C3;
    }
</style>


	
		<style>
    .text-primary-login {
        color: #fa6400;
    }
    a.text-hover-primary-login:hover,
    .text-hover-primary-login:hover {
        color: #fa6400;
    }
    .alert.alert-custom.alert-light-primary .alert-text{
        color: #fa6400;
    }
    #warning_icon{
        color: #fa6400;
    }
    .btn.btn-primary{
        border-color: transparent;
        background-color: #fa6400;
    }
    .btn.btn-primary:hover:not(.btn-text):not(:disabled):not(.disabled){
        background-color: #fa6400;
        border-color: transparent;
    }
    #forgot-password-note{
        background-color: #fa6400;
    }
    .bg__answer-video:hover{
        background-color: #f1b66c;
    }
</style>

<script>
    document.documentElement.style.setProperty('--primario', '#9508a0');
    document.documentElement.style.setProperty('--primariooscuro', '#9508a0');
    document.documentElement.style.setProperty('--celeste', '#9508a0');
    document.documentElement.style.setProperty('--rosado', '#f1b66c');
    document.documentElement.style.setProperty('--violeta', '#f4ddce');
    document.documentElement.style.setProperty('--amarillo', '#f4ddce');
    document.documentElement.style.setProperty('--verde', '#9508a0');
    document.documentElement.style.setProperty('--azul', '#f1b66c');

    primary_buttons = document.getElementsByClassName('btn-primary');
    for (let i = 0; i < primary_buttons.length; i++) {
        primary_buttons[i].style.borderColor = "transparent";
        primary_buttons[i].addEventListener('mouseover', () => {
            primary_buttons[i].style.backgroundColor = '#fa6400';
        });

        primary_buttons[i].addEventListener('mouseout', () => {
            primary_buttons[i].style.backgroundColor = '#fa6400';
        });
    }

    hovers_primary = document.getElementsByClassName('text-hover-primary-login');
    for (let i = 0; i < hovers_primary.length; i++){
        hovers_primary[i].addEventListener('mouseover', () => {
            hovers_primary[i].style.color = '#fa6400';
        });
        hovers_primary[i].addEventListener('mouseout', () => {
            hovers_primary[i].style.color = '#B5B5C3';
        });
    }
</script>

	



        <!-- Scripts extras -->
        
        

        
        <script type="text/javascript" src="/jsi18n/"></script>

        </head>
    <!-- END HEAD -->
    <!-- BEGIN BODY -->
    <body class="login" >
        
		<!-- BEGIN LOGIN -->
		<div class="content">

			<!-- BEGIN LOGO -->
			<div class="logo" id="tenant-logo" style="display: flex; align-items: center;">
				
					<img class="img-responsive"  src="https://cdn.takesecurity.com/media/tenant/587/logo_e15d4e852eaa20b317d9dc0d16260bf7e863b780.jpeg" alt="Banco Galicia" style="max-height: 180px; margin: 0 auto; max-width: 50%;" />
				
			</div>
			<!-- END LOGO -->
			<h3 class="text-primary-login" id="platform_title" style="margin-bottom:30px; text-align:center;">Capacitación y Concientización en Ciberseguridad</h3>
			
				
<div  style="display: flex; flex-direction: column;" class="login-azuread">
    <div class="">
        <div class="col-xs-12 text-center mt-10 mb-10">
            
                
                    <a id="btn-login"  href="/login/azuread-oauth2/?next=/validate_user/&lang=" class="btn btn-primary px-9 py-4 my-3 mx-4  kt_btn_2" data-style="zoom-in"  data-size="l"><span class="kt_btn_2">Ingresar con Microsoft Entra ID</span></a>
                
            
        </div>
        
    </div>
</div>

			

			
				<h3 class="text-primary-login" id="platform-text" style="text-align:center;">
					O ingresando sus credenciales de SMARTFENSE
				</h3>

				
<div class="d-flex flex-column flex-root">
    <!--begin::Login-->
    <div class="login login-4 login-signin-on d-flex flex-row-fluid" id="kt_login">
        <div class="d-flex flex-center flex-row-fluid bgi-size-cover bgi-position-top bgi-no-repeat">
            <div class="login-form-4 text-center p-7 position-relative overflow-hidden">

                <!--begin::Login Sign in form-->
                <div class="login-signin">
                    <form id="kt_login_signin_form" class="login-form form"  action="/validate_user/" method="post"  >
                        <input type="hidden" name="csrfmiddlewaretoken" value="TGgP9YxMFBRXb0ZAUuwfR3yFPHXJvwa2JescEixAZQZLVAMBowfViz87SNsRBCjR">

                        <div class="form-group mb-5">
                            <label class="control-label visible-ie8 visible-ie9" style="display: none;">Nombre de usuario o correo electrónico</label>
                            <input class="form-control h-auto form-control-solid py-4 px-8" type="text"
                            placeholder='Nombre de usuario o correo electrónico' name="username" autocomplete="off" />
                        </div>
                        <div class="form-group mb-5">
                            <label class="control-label visible-ie8 visible-ie9" style="display: none;">Contraseña</label>
                            <input class="form-control h-auto form-control-solid py-4 px-8" type="password"
                            placeholder='Contraseña' name="password" />
                        </div>

                        <input type="hidden" autocomplete="off" name="next" value="" />
                        <input type="hidden" autocomplete="off" name="lang" value="" />
                        <input type="hidden" autocomplete="off" name="admin_login" value="True" />

                        <div class="form-group d-flex flex-wrap justify-content-end align-items-center">
                            <a href="javascript:;" id="kt_login_forgot" class="text-muted-login text-hover-primary-login">¿Olvidó su contraseña?</a>
                        </div>

                        

                        <button id="btn_forgot"
                            class="btn btn-primary px-9 py-4 my-3 mx-4 btn_forgot kt_btn_1"  type="submit">Ingresar
                        </button>

                    </form>
                </div>
                <!--end::Login Sign in form-->

                <!--begin::Login forgot password form-->
                <div class="login-forgot">
                    <div class="mb-10">
                        <h3>¿Olvidó su contraseña?</h3>
                        <div class="text-muted font-weight-bold" >Para restablecer su contraseña, ingrese su dirección de correo electrónico o nombre de usuario debajo y presione el botón <b>Enviar correo</b></div>
                    </div>
                    <div class="mb-10" style="margin: auto;">
                        <div class="text-muted font-weight-bold">Luego, revise la bandeja de entrada de su correo electrónico. Recibirá un mensaje proveniente de la plataforma que le permitirá crear una nueva contraseña.</div>
                    </div>
                    <div class="mb-10" style="margin: auto;">
                        <div class="alert alert-custom  alert-light-primary col-12" role="alert" style="right: 0;" id="forgot-password-note">
                            <div class="alert-icon"><i class="fa fa-warning" id="warning_icon"></i></div>
                            <div class="alert-text"><b>Importante:</b> Este correo electrónico puede demorar algunos minutos en ser recibido. </div>
                        </div>
                    </div>

                    <form class="forget-form form" id="kt_login_forgot_form" method="post" >
                        <input type="hidden" name="csrfmiddlewaretoken" value="TGgP9YxMFBRXb0ZAUuwfR3yFPHXJvwa2JescEixAZQZLVAMBowfViz87SNsRBCjR">
                        <div class="form-group mb-10">
                            <input class="form-control form-control-solid h-auto py-4 px-8" type="text"
                            placeholder="Correo electrónico o nombre de usuario" name="username_or_email" autocomplete="off" />
                        </div>

                        <div class="form-group hidden" id="captcha-reset">
                            <div class="g-recaptcha" data-sitekey="6Ldcx4QUAAAAAANkjq3MldA2CZ-Xyx1Ujb7kPfje" data-callback="recaptchaResetCallback"></div>
                            <input type="hidden" class="hiddenRecaptchaReset" name="hiddenRecaptchaReset" id="hiddenRecaptchaReset">
                        </div>

                        <div class="form-group d-flex flex-wrap flex-center mt-10">
                            <button id="kt_login_forgot_cancel" class="btn btn-outline-secondary font-weight-bold px-9 py-4 my-3 mx-2">Volver</button>
                            <button id="kt_login_forgot_submit " class="btn btn-primary px-9 py-4 my-3 mx-2 reset-password kt_btn_3"  href="/profile/reset-password/">Enviar correo</button>
                        </div>

                    </form>
                </div>

                <!--REVISAR PORQUE ESTE FORM TIENE QUE ESTAR, SINO NO ANDA BOTON VOLVER DEL FORGET PASSWORD-->
                <form class="form forget-form" hidden id="kt_login_signup_form">
                </form>
                <!--end::Login forgot password form-->
            </div>
        </div>
    </div>
    <!--end::Login-->
</div>

			
		</div>
    

        <!-- BEGIN JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->

        
		<script>
			var HOST_URL = "https://preview.keenthemes.com/metronic/theme/html/tools/preview";
		</script>
		<!--begin::Global Config(global config for global JS scripts)-->
		<script>
			var KTAppSettings = {
				"breakpoints": {
					"sm": 576,
					"md": 768,
					"lg": 992,
					"xl": 1200,
					"xxl": 1400
				},
				"colors": {
					"theme": {
						"base": {
							"white": "#ffffff",
							"primary": "#007df7",
							"secondary": "#E5EAEE",
							"success": "#cfb27e",
							"info": "#7332E9",
							"warning": "#FFA800",
							"danger": "#F64E60",
							"light": "#E4E6EF",
							"dark": "#030342"
						},
						"light": {
							"white": "#ffffff",
							"primary": "#E1F0FF",
							"secondary": "#EBEDF3",
							"success": "#C9F7F5",
							"info": "#EEE5FF",
							"warning": "#FFF4DE",
							"danger": "#FFE2E5",
							"light": "#F3F6F9",
							"dark": "#D6D6E0"
						},
						"inverse": {
							"white": "#ffffff",
							"primary": "#ffffff",
							"secondary": "#3F4254",
							"success": "#ffffff",
							"info": "#ffffff",
							"warning": "#ffffff",
							"danger": "#ffffff",
							"light": "#464E5F",
							"dark": "#ffffff"
						}
					},
					"gray": {
						"gray-100": "#F3F6F9",
						"gray-200": "#EBEDF3",
						"gray-300": "#E4E6EF",
						"gray-400": "#D1D3E0",
						"gray-500": "#B5B5C3",
						"gray-600": "#7E8299",
						"gray-700": "#5E6278",
						"gray-800": "#3F4254",
						"gray-900": "#181C32"
					}
				},
				"font-family": "Poppins"
			};
		</script>
		<!--end::Global Config-->
    

        

        <!-- metronic -->
        <script src="https://cdn.takesecurity.com/static/assets2/plugins/global/plugins.bundle.js" type="text/javascript"></script>
        <script src="https://cdn.takesecurity.com/static/assets2/plugins/custom/prismjs/prismjs.bundle.js" type="text/javascript"></script>
        <script src="https://cdn.takesecurity.com/static/assets2/js/scripts.bundle.js" type="text/javascript"></script>

        <script src="https://cdn.takesecurity.com/static/assets/global/plugins/js.cookie.min.js" type="text/javascript"></script>
        <script src="https://cdn.takesecurity.com/static/assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js" type="text/javascript"></script>
        <script src="https://cdn.takesecurity.com/static/assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
        <script src="https://cdn.takesecurity.com/static/assets/pages/scripts/general.js" type="text/javascript"></script>

        <script type="text/javascript">
            moment.locale('es-ar');
        </script>

        <script src="https://cdn.takesecurity.com/static/assets/global/plugins/bootstrap-daterangepicker/daterangepicker.min.js" type="text/javascript"></script>
        <script src="https://cdn.takesecurity.com/static/assets/pages/scripts/extras/messages.js" type="text/javascript"></script>
        <script src="https://cdn.takesecurity.com/static/assets2/js/pages/widgets.js" type="text/javascript"></script>
        <script src="https://cdn.takesecurity.com/static/assets/pages/scripts/common/select2.js" type="text/javascript"></script>
        <script src="https://cdn.takesecurity.com/static/assets/pages/scripts/general-popover.js" type="text/javascript"></script>
        <script src="https://cdn.takesecurity.com/static/assets/global/scripts/final_user/intro.js"></script>

        
            <script src="https://cdn.takesecurity.com/static/assets/global/plugins/select2/js/i18n/es-ar.min.js" type="text/javascript"></script>
        

        
          <script type="text/javascript" src="https://cdn.takesecurity.com/static/assets/global/plugins/tz/jstz-1.0.4.min.js"></script>
          <script>
              $(document).ready(function(){
                   var timezone = jstz.determine();
                   var timezone_name = timezone.name();
                   $.ajax({
                      url : '/set_user_timezone/',
                      action : "GET",
                      data : {
                          timezone : timezone_name
                      },
                      success : function(data){
                      },
                      error : function(data){
                      }
                   })
              });
          </script>
        
        <!-- END JAVASCRIPTS -->

        <!-- Js extrascripts -->
        
        <script src="https://cdn.takesecurity.com/static/assets/global/plugins/ladda/spin.min.js" type="text/javascript"></script>
        <script src="https://cdn.takesecurity.com/static/assets/global/plugins/ladda/ladda.min.js" type="text/javascript"></script>
        <script src="https://cdn.takesecurity.com/static/assets/global/plugins/jquery-validation/js/jquery.validate.min.js" type="text/javascript"></script>
        <script src="https://cdn.takesecurity.com/static/assets/global/plugins/jquery-validation/js/additional-methods.min.js" type="text/javascript"></script>

        
            <script src="https://cdn.takesecurity.com/static/assets/global/plugins/jquery-validation/js/localization/messages_es-ar.min.js" type="text/javascript"></script>
        

		
			<script src="https://cdn.takesecurity.com/static/assets2/js/pages/custom/login/login-general.js"></script>
		

        <script>
            var assetsPath = 'https://cdn.takesecurity.com/static/assets/';
            var captcha;
            const message = "Espere";
            const messageLogin = "Ingresar";
            const messageDefault = "Enviar correo";

            $("#kt_login_forgot").click(function(){
                captcha = '';
                $('#tenant-logo').hide()
                $('#platform_title').hide()
                $('#platform-text').hide()
                $('#btn-login').hide()
                $('.login-google').hide()
                $('.login-azuread').hide()
                $('.login-auth0').hide()
            });
            $("#kt_login_forgot_cancel").click(function(){
                $('#tenant-logo').show()
                $('#platform_title').show()
                $('#platform-text').show()
                $('#btn-login').show()
                $('.login-google').show()
                $('.login-azuread').show()
                $('.login-auth0').show()
            });

            $(".kt_btn_2").click(function(){
                $(this).addClass("spinner spinner-right spinner-white pr-15")
                $(this).html(message);
            });

            $("#kt_login_forgot_cancel").click(function(){
                $(".kt_btn_1").html(messageLogin);
            });

            $("#kt_login_forgot").click(function(){
                $(".kt_btn_1").html(messageDefault);
            });
        </script>

        <script src="https://cdn.takesecurity.com/static/assets/pages/scripts/users/login.js" type="text/javascript"></script>
        <script src="https://cdn.takesecurity.com/static/assets/pages/scripts/extras/messages.js" type="text/javascript"></script>
        <script src="https://cdn.takesecurity.com/static/assets/pages/scripts/async-tasks-utils.js"></script>

        <script src="https://cdn.takesecurity.com/static/assets/pages/scripts/extras/ui-alerts-api.js" type="text/javascript"></script>
        <script src="https://cdn.takesecurity.com/static/assets/pages/scripts/campaigns/common/reset-password.js"></script>
        <script src="https://www.google.com/recaptcha/api.js" async defer></script>

        
            <style>
    .text-primary-login {
        color: #fa6400;
    }
    a.text-hover-primary-login:hover,
    .text-hover-primary-login:hover {
        color: #fa6400;
    }
    .alert.alert-custom.alert-light-primary .alert-text{
        color: #fa6400;
    }
    #warning_icon{
        color: #fa6400;
    }
    .btn.btn-primary{
        border-color: transparent;
        background-color: #fa6400;
    }
    .btn.btn-primary:hover:not(.btn-text):not(:disabled):not(.disabled){
        background-color: #fa6400;
        border-color: transparent;
    }
    #forgot-password-note{
        background-color: #fa6400;
    }
    .bg__answer-video:hover{
        background-color: #f1b66c;
    }
</style>

<script>
    document.documentElement.style.setProperty('--primario', '#9508a0');
    document.documentElement.style.setProperty('--primariooscuro', '#9508a0');
    document.documentElement.style.setProperty('--celeste', '#9508a0');
    document.documentElement.style.setProperty('--rosado', '#f1b66c');
    document.documentElement.style.setProperty('--violeta', '#f4ddce');
    document.documentElement.style.setProperty('--amarillo', '#f4ddce');
    document.documentElement.style.setProperty('--verde', '#9508a0');
    document.documentElement.style.setProperty('--azul', '#f1b66c');

    primary_buttons = document.getElementsByClassName('btn-primary');
    for (let i = 0; i < primary_buttons.length; i++) {
        primary_buttons[i].style.borderColor = "transparent";
        primary_buttons[i].addEventListener('mouseover', () => {
            primary_buttons[i].style.backgroundColor = '#fa6400';
        });

        primary_buttons[i].addEventListener('mouseout', () => {
            primary_buttons[i].style.backgroundColor = '#fa6400';
        });
    }

    hovers_primary = document.getElementsByClassName('text-hover-primary-login');
    for (let i = 0; i < hovers_primary.length; i++){
        hovers_primary[i].addEventListener('mouseover', () => {
            hovers_primary[i].style.color = '#fa6400';
        });
        hovers_primary[i].addEventListener('mouseout', () => {
            hovers_primary[i].style.color = '#B5B5C3';
        });
    }
</script>

        
	

        <script type="application/javascript">
            

            let activeAjaxRequests = 0;
            const submenu_active_condition = ["training_shared","video_shared","newsletter_shared","phishing_shared","smishing_shared","ransomware_shared","exam_shared","survey_shared","teachable_shared","videogame_shared"].includes("");

            function checkIfAllRequestsAreComplete() {
              let tour_trigger_condition = (activeAjaxRequests <= 0 && !submenu_active_condition) || (submenu_active_condition && activeAjaxRequests === -1);

              if (tour_trigger_condition) {
                  const queryString = window.location.search;
                  const urlParams = new URLSearchParams(queryString);

                  if (urlParams.toString() !== ""){
                    if (urlParams.has('tour')){
                      const screen_id = urlParams.get('screen_id');
                      const registerStepCompleted = (step_id) => {
                          $.ajax({
                              type: "POST",
                              cache: false,
                              url: "/tours/custom/register-step-completed/",
                              data: {
                                  step_id: step_id,
                                  csrfmiddlewaretoken: "TGgP9YxMFBRXb0ZAUuwfR3yFPHXJvwa2JescEixAZQZLVAMBowfViz87SNsRBCjR",
                              },
                          });
                      }

                      $.ajax({
                          type: "POST",
                          cache: false,
                          url: "/tours/custom/get-screen-steps/",
                          data: {
                              screen_id: screen_id,
                              csrfmiddlewaretoken: "TGgP9YxMFBRXb0ZAUuwfR3yFPHXJvwa2JescEixAZQZLVAMBowfViz87SNsRBCjR",
                          },
                          success: function(response) {
                              const intro_js_steps = [];
                              response.steps.forEach(step => {
                                const step_config = {
                                  title: `<h4 class="modal-title text-primary">${step.title}</h4>`,
                                  intro: step.content,
                                  element: document.querySelector(`#${step.element_id}`),
                                  step_id: step.step_id,
                                }

                                if (step.element_id.includes("sidebar")) {
                                  step_config.position = "top";
                                  const $menu = $('#kt_aside_menu');
                                  const $activeItem = $(`#${step.element_id}`);
                                  $menu.animate({
                                    scrollTop: $activeItem.offset().top - $menu.offset().top + $menu.scrollTop()
                                  }, 'slow');
                                }

                                intro_js_steps.push(step_config);
                              });
                              setTimeout(function() {
                                const introjs = introJs();
                                introjs.setOptions({
                                    steps: intro_js_steps,
                                    nextLabel: "Siguiente",
                                    prevLabel: "Atrás",
                                    doneLabel: "Finalizar",
                                    showBullets: false,
                                    tooltipClass: "modal-body",
                                    disableInteraction: false,
                                    scrollToElement: true,
                                    scrollTo: 'tooltip',
                                    autoPosition: true,
                                    positionPrecedence: ['right', 'left', 'top', 'bottom'],
                                }).onchange(function(targetElement) {
                                    const current_introjs_step = introjs._currentStep;
                                    const step_id = introjs._options.steps[current_introjs_step].step_id;
                                    registerStepCompleted(step_id);
                                }).onbeforechange(function(targetElement) {
                                  targetElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                                  introjs.refresh();
                                }).onafterchange(function(targetElement) {
                                    const nextButton = document.querySelector('.introjs-nextbutton');
                                    const prevButton = document.querySelector('.introjs-prevbutton');
                                    nextButton.className += ' btn btn-primary';
                                    prevButton.className += ' btn btn-outline-secondary';
                                }).oncomplete(function() {
                                    window.location.href = response.success_url;
                                }).start();
                              }, 1000);
                          },
                          error: function(xhr, ajaxOptions, thrownError) {}
                      });
                    }
                  }
              } else {
                setTimeout(checkIfAllRequestsAreComplete, 500);
              }
            }

            $(document).ajaxSend(function() {
              activeAjaxRequests++;
            });

            $(document).ajaxComplete(function() {
              activeAjaxRequests--;
            });

            setTimeout(checkIfAllRequestsAreComplete, 500);
        </script>

        
        
    </body>
</html>
