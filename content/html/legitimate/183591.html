<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script async="async" src="//tags-cdn.deployads.com/a/dd-wrt.com.js"></script>

    		<meta name="keywords" content="Mesh Networking with OLSR,Linking Routers,Main Page,Mesh Networking with OLSR/es,Tutorials,Mesh Networking with OLSR/zh cn,Mesh Networking with OLSR/se,Mesh Networking with OLSR/zh tw,Mesh Networking with OLSR/de,Mesh Networking with OLSR/ru,Mesh Networking with OLSR/fr" />
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="/wiki/opensearch_desc.php" title="DD-WRT Wiki (English)" />
		<link title="Creative Commons" type="application/rdf+xml" href="/wiki/index.php?title=Mesh_Networking_with_OLSR&amp;action=creativecommons" rel="meta" />
		<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html" />

    <title>Mesh Networking with OLSR - DD-WRT Wiki</title>

    <style type="text/css" media="screen,projection">/*<![CDATA[*/ @import "/wiki/skins/sgumax/gumax_main.css?63"; /*]]>*/</style>
    <link rel="stylesheet" type="text/css" media="print" href="/wiki/skins/common/commonPrint.css?63" />
    <link rel="stylesheet" type="text/css" media="handheld" href="/wiki/skins/sgumax/handheld.css?63" />
    <!--[if lt IE 5.5000]><style type="text/css">@import "/wiki/skins/sgumax/IE50Fixes.css?63";</style><![endif]-->
    <!--[if IE 5.5000]><style type="text/css">@import "/wiki/skins/sgumax/IE55Fixes.css?63";</style><![endif]-->
    <!--[if IE 6]><style type="text/css">@import "/wiki/skins/sgumax/IE60Fixes.css?63";</style><![endif]-->
    <!--[if IE 7]><style type="text/css">@import "/wiki/skins/sgumax/IE70Fixes.css?63";</style><![endif]-->
    <style type="text/css">@import "/wiki/skins/dd-wrt/gumax_template.css";</style>
    <!--[if lt IE 7]><script type="text/javascript" src="/wiki/skins/common/IEFixes.js?63"></script>
    <meta http-equiv="imagetoolbar" content="no" /><![endif]-->

    <script type= "text/javascript">/*<![CDATA[*/
var skin = "sgumax";
var stylepath = "/wiki/skins";
var wgArticlePath = "/wiki/index.php/$1";
var wgScriptPath = "/wiki";
var wgServer = "http://wiki.dd-wrt.com";
var wgCanonicalNamespace = "";
var wgCanonicalSpecialPageName = false;
var wgNamespaceNumber = 0;
var wgPageName = "Mesh_Networking_with_OLSR";
var wgTitle = "Mesh Networking with OLSR";
var wgAction = "view";
var wgArticleId = "2040";
var wgIsArticle = true;
var wgUserName = null;
var wgUserGroups = null;
var wgUserLanguage = "en";
var wgContentLanguage = "en";
var wgBreakFrames = false;
var wgCurRevisionId = "54109";
/*]]>*/</script>

    <script type="text/javascript" src="/wiki/skins/common/wikibits.js?63"><!-- wikibits js --></script>
            <script type="text/javascript" src="/wiki/index.php?title=-&amp;action=raw&amp;gen=js"><!-- site js --></script>
                <style type="text/css">/*<![CDATA[*/
@import "/wiki/index.php?title=MediaWiki:Common.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
@import "/wiki/index.php?title=MediaWiki:Sgumax.css&usemsgcache=yes&action=raw&ctype=text/css&smaxage=18000";
@import "/wiki/index.php?title=-&action=raw&gen=css&maxage=18000";
/*]]>*/</style>
        <!-- Head Scripts -->
    		<script type="text/javascript" src="/wiki/skins/common/ajax.js?63"></script>
		<script type="text/javascript" src="/wiki/skins/common/ajaxsearch.js?63"></script>
		<script type="text/javascript">hookEvent("load", sajax_onload);</script>
    <script type="text/javascript" src="/wiki/skins/dd-wrt/gumax_template.js"></script>
</head>

<body  class="mediawiki ns-0 ltr page-Mesh_Networking_with_OLSR">

    <!-- =================== gumax-page =================== -->
    <!-- div id="gumax-page" -->
    
    <!-- Header wrap -->
    <div id="header-wrap">

    <!-- Header -->
    <div id="gumax-header">
        <a name="top" id="contentTop"></a>

        <!-- Site Logo -->
        <div id="gumax-p-logo">
            <a style="background-image: url(http://www.dd-wrt.com/wiki/skins/dd-wrt/logo.png);" href="/wiki/index.php/Main_Page" title="Main Page"></a>
        </div>
        <!-- end of Site Logo -->

        <!-- Search -->
        <div id="gumax-p-search" class="gumax-portlet">
            <div id="gumax-searchBody" class="gumax-pBody">
                <form action="/wiki/index.php/Special:Search" id="searchform"><div>
                    <input id="searchInput" name="search" type="text" accesskey="f" value="" />

                    <input type='submit' name="go" class="searchButton" id="searchGoButton" value="Go" />

                </div></form>
            </div>
        </div> <!-- end of gumax-p-search DIV -->
        <!-- end of Search -->

        <!-- Login -->
        <div id="gumax-p-login">
            <ul>
                            <li id="gumax-pt-login"><a href="/wiki/index.php?title=Special:Userlogin&amp;returnto=Mesh_Networking_with_OLSR">Log in / create account</a>
               </li>
                         </ul>
        </div> <!-- end of gumax-p-login DIV -->
        <!-- end of Login -->

        <div style="clear: both;"></div>
        
        <!-- ads -->
        <div id="ad_block">
          <div class="ad-tag" data-ad-name="Topbanner_wiki" data-ad-size="728x90" data-ad-refresh="time 30s"></div>
          <script>(deployads = window.deployads || []).push({});</script>
        </div>
        <!-- end of ads -->

        <div style="clear: both;"></div>

        <!-- imprint menu -->
        <div id="menu_sub">
          <ul class="menu">
            <li><a href="https://dd-wrt.com/imprint/" target="_blank"><span>Imprint</span></a></li>
            <li><a href="https://dd-wrt.com/privacy-policy/" target="_blank"><span>Privacy Policy</span></a></li>
          </ul>
        </div>
        <!-- end imprint menu -->

        <div id="menu-bg">
          <div id="left"></div>
          <div id="middle"></div>
          <div id="right"></div>
        </div>

        <!-- Navigation Menu -->
        <div id="gumax-p-navigation-wrapper">
        <div id="gumax-p-navigation">
                            <ul>
                                                    <li id="n-mainpage">
                    <a href="/wiki/index.php/Main_Page">Main Page</a>
                    <!--|--></li>
                                    <li id="n-portal">
                    <a href="/wiki/index.php/DD-WRT_Wiki:Community_Portal">Community portal</a>
                    <!--|--></li>
                                    <li id="n-currentevents">
                    <a href="/wiki/index.php/Current_events">Current events</a>
                    <!--|--></li>
                                    <li id="n-recentchanges">
                    <a href="/wiki/index.php/Special:Recentchanges">Recent changes</a>
                    <!--|--></li>
                                    <li id="n-randompage">
                    <a href="/wiki/index.php/Special:Random">Random page</a>
                    <!--|--></li>
                                    <li id="n-help">
                    <a href="/wiki/index.php/Help:Contents">Help</a>
                    <!--|--></li>
                                    <li id="n-sitesupport">
                    <a href="/wiki/index.php/DD-WRT_Wiki:Site_support">Donations</a>
                    <!----></li>
                                </ul>
                    </div>
        </div>
        <!-- end of Navigation Menu -->

    </div> <!-- end of header DIV -->

    </div> <!-- end of header wrap DIV -->
    <!-- end of Header -->

    <div id="gumax-page">

    <!-- Main Content -->
    <div id="content">
        <a name="top" id="top"></a>
                <h1 class="firstHeading">Mesh Networking with OLSR</h1>
        <div id= "bodyContent" class="gumax-bodyContent">
            <h3 id="siteSub">From DD-WRT Wiki</h3>
            <div id="contentSub"></div>
                                    <div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>            <!-- start content -->
            <div class="LanguageLinks">
<table width="100%" style="clear: both; border-collapse: collapse; padding: 0; margin: 0; font-size: 85%;">
<tr valign="top" style="background: #ffffff">
<td style="padding: 1px 1em 0; background: #ffffff;">
<p><strong class="selflink">English</strong>&nbsp;&bull;&nbsp;
<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR/de&amp;action=edit" class="new" title="Mesh Networking with OLSR/de">Deutsch</a>&nbsp;&bull;&nbsp;
<a href="/wiki/index.php/Mesh_Networking_with_OLSR/es" title="Mesh Networking with OLSR/es">Español</a>&nbsp;&bull;&nbsp;
<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR/fr&amp;action=edit" class="new" title="Mesh Networking with OLSR/fr">Français</a>&nbsp;&bull;&nbsp;
<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR/it&amp;action=edit" class="new" title="Mesh Networking with OLSR/it">Italiano</a>&nbsp;&bull;&nbsp;
<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR/ja&amp;action=edit" class="new" title="Mesh Networking with OLSR/ja">日本語</a>&nbsp;&bull;&nbsp;
<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR/pl&amp;action=edit" class="new" title="Mesh Networking with OLSR/pl">Polski</a>&nbsp;&bull;&nbsp;
<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR/pt&amp;action=edit" class="new" title="Mesh Networking with OLSR/pt">Português</a>&nbsp;&bull;&nbsp;
<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR/ru&amp;action=edit" class="new" title="Mesh Networking with OLSR/ru">Русский</a>&nbsp;&bull;&nbsp;
<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR/se&amp;action=edit" class="new" title="Mesh Networking with OLSR/se">Svenska</a>&nbsp;&bull;&nbsp;
<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR/zh_cn&amp;action=edit" class="new" title="Mesh Networking with OLSR/zh cn">‪中文(中国大陆)‬</a>&nbsp;&bull;&nbsp;
<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR/zh_tw&amp;action=edit" class="new" title="Mesh Networking with OLSR/zh tw">‪中文(台灣)‬</a>&nbsp;&bull;&nbsp;
</p>
</td></tr></table></div>
<p><br />
<i><b>Wiki Path</b></i>: <a href="/wiki/index.php/Main_Page" title="Main Page">DD-WRT Wiki Main</a> / <a href="/wiki/index.php/Tutorials" title="Tutorials">Tutorials</a> / <a href="/wiki/index.php/Linking_Routers" title="Linking Routers">Linking Routers</a> / <b>Mesh Networking with OLSR</b>
</p>
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#General"><span class="tocnumber">1</span> <span class="toctext">General</span></a>
<ul>
<li class="toclevel-2"><a href="#What_is_mesh_networking.3F"><span class="tocnumber">1.1</span> <span class="toctext">What is mesh networking?</span></a></li>
<li class="toclevel-2"><a href="#Why_mesh_networking.3F"><span class="tocnumber">1.2</span> <span class="toctext">Why mesh networking?</span></a>
<ul>
<li class="toclevel-3"><a href="#Benefits_of_mesh_networking"><span class="tocnumber">1.2.1</span> <span class="toctext">Benefits of mesh networking</span></a></li>
<li class="toclevel-3"><a href="#Disadvantages_of_mesh_networking"><span class="tocnumber">1.2.2</span> <span class="toctext">Disadvantages of mesh networking</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1"><a href="#OLSR"><span class="tocnumber">2</span> <span class="toctext">OLSR</span></a>
<ul>
<li class="toclevel-2"><a href="#General_2"><span class="tocnumber">2.1</span> <span class="toctext">General</span></a></li>
<li class="toclevel-2"><a href="#Parameters"><span class="tocnumber">2.2</span> <span class="toctext">Parameters</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Setup"><span class="tocnumber">3</span> <span class="toctext">Setup</span></a>
<ul>
<li class="toclevel-2"><a href="#DD-WRT_.3E_v.23_SP3"><span class="tocnumber">3.1</span> <span class="toctext">DD-WRT &gt; v.23 SP3</span></a>
<ul>
<li class="toclevel-3"><a href="#OLSR_on_WiFi"><span class="tocnumber">3.1.1</span> <span class="toctext">OLSR on WiFi</span></a></li>
<li class="toclevel-3"><a href="#setup_OLSR"><span class="tocnumber">3.1.2</span> <span class="toctext">setup OLSR</span></a>
<ul>
<li class="toclevel-4"><a href="#Enabling_NAT_routing"><span class="tocnumber">3.1.2.1</span> <span class="toctext">Enabling NAT routing</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2"><a href="#External_Links"><span class="tocnumber">3.2</span> <span class="toctext">External Links</span></a></li>
</ul>
</li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="General"></a><h1><span class="editsection">[<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR&amp;action=edit&amp;section=1" title="Edit section: General">edit</a>]</span> <span class="mw-headline">General</span></h1>
<a name="What_is_mesh_networking.3F"></a><h2><span class="editsection">[<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR&amp;action=edit&amp;section=2" title="Edit section: What is mesh networking?">edit</a>]</span> <span class="mw-headline">What is mesh networking?</span></h2>
<p>Mesh networking is used to route data, voice and instructions between nodes (typically routers). A mesh network typically consists of 2 or (many) more nodes, which exchange information about their connection-status with each other (routing updates), so that every node knows, which path he has to take to reach any other node in the mesh. When a node wants to reach another node that is not directly connected, the traffic flows over other nodes, until the final node is reached (hopping) -each node that the traffic flows through is called a hop.
</p>
<a name="Why_mesh_networking.3F"></a><h2><span class="editsection">[<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR&amp;action=edit&amp;section=3" title="Edit section: Why mesh networking?">edit</a>]</span> <span class="mw-headline">Why mesh networking?</span></h2>
<p>Mesh networks differ from other networks in that the component parts can all connect to each other via multiple hops. Mesh networks are self-healing: the network can still operate even when a node goes down or a connection drops. The result is a very reliable network.
</p>
<a name="Benefits_of_mesh_networking"></a><h3><span class="editsection">[<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR&amp;action=edit&amp;section=4" title="Edit section: Benefits of mesh networking">edit</a>]</span> <span class="mw-headline">Benefits of mesh networking</span></h3>
<ul><li>self organizing
</li><li>self-healing
</li><li>low system maintenance needed
</li><li>robust due dynamic route recalculation
</li></ul>
<a name="Disadvantages_of_mesh_networking"></a><h3><span class="editsection">[<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR&amp;action=edit&amp;section=5" title="Edit section: Disadvantages of mesh networking">edit</a>]</span> <span class="mw-headline">Disadvantages of mesh networking</span></h3>
<ul><li>additional network traffic
</li></ul>
<p>The exchange of routing information (routing updates) can produce a lot of traffic-overhead, also every device that takes part of a mesh must have enough cpu/ memory to have an overview of all other routers and how to reach them. (routing table). A full routing table can get very large - as seen in BGP-Routing: a full BGP table needs 2GB of memory (300.000 active routes).
There is also a danger of routing-loops that can appear because of weak routing information.
</p>
<a name="OLSR"></a><h1><span class="editsection">[<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR&amp;action=edit&amp;section=6" title="Edit section: OLSR">edit</a>]</span> <span class="mw-headline">OLSR</span></h1>
<a name="General_2"></a><h2><span class="editsection">[<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR&amp;action=edit&amp;section=7" title="Edit section: General">edit</a>]</span> <span class="mw-headline">General</span></h2>
<p><a href="http://en.wikipedia.org/wiki/OLSR" class="external text" title="http://en.wikipedia.org/wiki/OLSR" rel="nofollow">OLSR</a> is a dynamic linkstate Protocol which collects link data and dynamically calculates the best routes within the network.
</p><p>Links:
</p>
<pre><a href="http://en.wikipedia.org/wiki/OLSR" class="external free" title="http://en.wikipedia.org/wiki/OLSR" rel="nofollow">http://en.wikipedia.org/wiki/OLSR</a>
<a href="http://www.olsr.org" class="external free" title="http://www.olsr.org" rel="nofollow">http://www.olsr.org</a>
</pre>
<a name="Parameters"></a><h2><span class="editsection">[<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR&amp;action=edit&amp;section=8" title="Edit section: Parameters">edit</a>]</span> <span class="mw-headline">Parameters</span></h2>
<p><b>General:</b>
</p>
<ul><li>IpVersion
</li></ul>
<ul><li>AllowNoInt
</li></ul>
<ul><li>Pollrate                
</li></ul>
<ul><li>TcRedundancy            
</li></ul>
<ul><li>MprCoverage             
</li></ul>
<ul><li>LinkQualityFishEye     
</li></ul>
<ul><li>LinkQualityWinSize
</li></ul>
<ul><li>LinkQualityDijkstraLimit
</li></ul>
<p><b>per Interface:</b>
</p>
<ul><li>HelloInterval    
</li></ul>
<ul><li>HelloValidityTime
</li></ul>
<ul><li>TcInterval      
</li></ul>
<ul><li>TcValidityTime  
</li></ul>
<ul><li>MidInterval     
</li></ul>
<ul><li>MidValidityTime 
</li></ul>
<ul><li>HnaInterval     
</li></ul>
<ul><li>HnaValidityTime 
</li></ul>
<ul><li>LinkQualityMult 
</li></ul>
<p><b>HNA4</b>
</p><p><b>IcpConnect</b>
</p><p><b>Plugins:</b>
</p>
<pre>olsrd 	 	                OLSR (Optimized Link State Routing) daemon
olsrd-mod-dyn-gw-plain 	Dynamic internet gateway plain plugin
olsrd-mod-bmf 	 	        Basic multicast forwarding plugin, dependece: kmod-tun
olsrd-mod-httpinfo 	 	Small informative web server plugin
olsrd-mod-quagga 	 	Quagga plugin
olsrd-mod-dyn-gw 	 	Dynamic internet gateway plugin
olsrd-mod-txtinfo 	 	Small informative web server plugin
olsrd-mod-nameservice 	 	Lightweight hostname resolver plugin
olsrd-mod-dot-draw 	 	Dot topology information plugin
olsrd-mod-mdns 	 	Multicast DNS plugin
olsrd-mod-watchdog 	 	Watchdog plugin
olsrd-mod-arprefresh 	 	Kernel ARP cache refresh plugin
olsrd-mod-p2pd 	 	Peer to Peer Discovery plugin
olsrd-mod-secure 	 	Message signing plugin to secure routing domain
olsrd-mod-pud                  Position update plugin
olsrd-mod-jsoninfo
olsrd-mod-sgwdynspeed          Select dynamic smart gateway based on gw speed
</pre>
<p><b>Sample config file:</b>
</p>
<pre>DebugLevel              0
IpVersion               4
AllowNoInt              yes
Pollrate                0.1
TcRedundancy            2
MprCoverage             7
LinkQualityFishEye      1
LinkQualityWinSize      100
LinkQualityDijkstraLimit 0 7.0
LoadPlugin "olsrd_txtinfo.so.0.1"
{
       PlParam "Accept" "127.0.0.1"
}
Hna4
{
}
IpcConnect
{
       MaxConnections  1
       Host            127.0.0.1
       Net 192.168.1.0 255.255.255.0
}
LinkQualityLevel 2
UseHysteresis no
Interface "eth1"
{
       HelloInterval           5.0
       HelloValidityTime       90.0
       TcInterval              3.0
       TcValidityTime          270.0
       MidInterval             15.0
       MidValidityTime         270.0
       HnaInterval             15.0
       HnaValidityTime         90.0
       LinkQualityMult 10.100.2.5 0.5
}
Interface "vlan1"
{
       HelloInterval           5.0
       HelloValidityTime       90.0
       TcInterval              3.0
       TcValidityTime          270.0
       MidInterval             15.0
       MidValidityTime         270.0
       HnaInterval             15.0
       HnaValidityTime         90.0
       LinkQualityMult 10.100.2.5 0.5
}
</pre>
<a name="Setup"></a><h1><span class="editsection">[<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR&amp;action=edit&amp;section=9" title="Edit section: Setup">edit</a>]</span> <span class="mw-headline">Setup</span></h1>
<a name="DD-WRT_.3E_v.23_SP3"></a><h2><span class="editsection">[<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR&amp;action=edit&amp;section=10" title="Edit section: DD-WRT &amp;gt; v.23 SP3">edit</a>]</span> <span class="mw-headline">DD-WRT &gt; v.23 SP3</span></h2>
<p>You always can check the OLSRD status on the daemons web gui:
</p>
<pre><a href="http://yourip:8080" class="external free" title="http://yourip:8080" rel="nofollow">http://yourip:8080</a>
</pre>
<ul><li>enable your prefered networking mode. OLSR can run on any interface (lan or wifi).
</li></ul>
<p>Try the following steps to get OLSR running:
</p>
<a name="OLSR_on_WiFi"></a><h3><span class="editsection">[<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR&amp;action=edit&amp;section=11" title="Edit section: OLSR on WiFi">edit</a>]</span> <span class="mw-headline">OLSR on WiFi</span></h3>
<p>Under <b>Wireless -&gt; Basic Settings</b>
</p>
<ul><li>connect your devices with the preferred WiFi mode (WDS, adhoc, etc)
</li><li>set your wlan mode (b,g,mixed...)
</li><li>set your SSID
</li><li>set your channel
</li></ul>
<p>Before you go on test that the link is working, that the devices are connected and can reach each other.
</p>
<ul><li>unbridge the wlan on the wireless page
</li><li>set an ip from a different network than the router uses already
</li><li>set the network mask (e.g. to <b>255.255.255.0</b> for a /24 network)
</li><li>set your preferred encryption
</li></ul>
<a name="setup_OLSR"></a><h3><span class="editsection">[<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR&amp;action=edit&amp;section=12" title="Edit section: setup OLSR">edit</a>]</span> <span class="mw-headline">setup OLSR </span></h3>
<p>Under <b>Setup -&gt; Advanced Routing</b>
</p>
<ul><li>set Operating Mode to OLSR
</li><li>keep the basic olsr settings. they are ok for the first tests
</li><li>add the correct wlan interface to olsr dependend on your wifi chip vendor and platform (e.g.  on atheros wifi based systems its athX, on broadcom its mostly eth0, on ralink its raX)
</li><li>keep the interface settings for testing
</li></ul>
<a name="Enabling_NAT_routing"></a><h4><span class="editsection">[<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR&amp;action=edit&amp;section=13" title="Edit section: Enabling NAT routing">edit</a>]</span> <span class="mw-headline">Enabling NAT routing</span></h4>
<p>In Gateway mode the router performs NAT, while in other modes it doesn't. When you switch the Advanced Routing Operating Mode to OLSR Router, it turns off NAT. Here is how to turn the NAT back on, assuming you followed the instructions on unbridging the wlan. You must change the interfaces according to your system.
</p><p>Under <b>Administration -&gt; Commands</b>
paste the script below into Commands and click "Save Firewall"
Do this on each device.
</p>
<pre>iptables -t nat -A POSTROUTING -o $(nvram get wan_ifname) -j MASQUERADE
iptables -t nat -A POSTROUTING -o $(nvram get wl0_ifname) -s $(nvram get eth1_ipaddr)/$(nvram get eth1_netmask) -d $(nvram get eth1_ipaddr)/$(nvram get eth1_netmask) -j MASQUERADE
iptables -t nat -A POSTROUTING -o $(nvram get lan_ifname) -s $(nvram get lan_ipaddr)/$(nvram get lan_netmask) -d $(nvram get lan_ipaddr)/$(nvram get lan_netmask) -j MASQUERADE
</pre>
<a name="External_Links"></a><h2><span class="editsection">[<a href="/wiki/index.php?title=Mesh_Networking_with_OLSR&amp;action=edit&amp;section=14" title="Edit section: External Links">edit</a>]</span> <span class="mw-headline">External Links</span></h2>
<ul><li><a href="http://wiki.openwrt.org/inbox/mesh.olsr" class="external text" title="http://wiki.openwrt.org/inbox/mesh.olsr" rel="nofollow">OpenWRt WIKI</a>
</li><li><a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?t=37857&amp;highlight=olsr" class="external text" title="http://www.dd-wrt.com/phpBB2/viewtopic.php?t=37857&amp;highlight=olsr" rel="nofollow">True life stories</a>
</li><li><a href="http://staros.tog.net/wiki/OLSR" class="external text" title="http://staros.tog.net/wiki/OLSR" rel="nofollow">staros_olsr</a>
</li></ul>
<p><br /><br />
--<a href="/wiki/index.php?title=User:Sash&amp;action=edit" class="new" title="User:Sash">Sash</a> 22:00, 7 June 2008 (CEST)
</p><!-- 
Pre-expand include size: 3285 bytes
Post-expand include size: 1450 bytes
Template argument size: 300 bytes
Maximum: 2097152 bytes
-->

<!-- Saved in parser cache with key wiki_ddwrt-mw_:pcache:idhash:2040-0!1!0!!en!2 and timestamp 20250515213257 -->
<div class="printfooter">
Retrieved from "<a href="http://wiki.dd-wrt.com/wiki/index.php/Mesh_Networking_with_OLSR">http://wiki.dd-wrt.com/wiki/index.php/Mesh_Networking_with_OLSR</a>"</div>
            <div id="catlinks"><p class='catlinks'><a href="/wiki/index.php/Special:Categories" title="Special:Categories">Categories</a>: <span dir='ltr'><a href="/wiki/index.php/Category:Routing" title="Category:Routing">Routing</a></span> | <span dir='ltr'><a href="/wiki/index.php/Category:Wlan" title="Category:Wlan">Wlan</a></span> | <span dir='ltr'><a href="/wiki/index.php/Category:Linking_Routers" title="Category:Linking Routers">Linking Routers</a></span></p></div>            <!-- end content -->
            <!-- show back to top link only if the body is longer than the window height -->
            <script type="text/javascript">
                var winheight = parseInt(document.documentElement.clientHeight)
                var boheight = parseInt(document.body.scrollHeight)
                if(winheight <= boheight) {
                    document.write('<div class="backToTop"><a href="#" onclick="window.scrollTo(0,0);return false;" title="Back to the top of the page">&nbsp;</a></div>');
                }
            </script>
            <div class="visualClear"></div>
        </div>
    </div> <!-- end of gumax-content DIV -->
    <!-- end of Main Content -->

    </div> <!-- end of gumax-page DIV -->
    <!-- =================== end of gumax-page =================== -->

    <!-- =================== gumax-page-actions =================== -->
    <!-- gumax-page-actions -->
    <div id="gumax-page-actions">
        <div id="gumax-content-actions">
        <ul>
                        <li id="ca-nstab-main"
               class="selected"               ><a href="/wiki/index.php/Mesh_Networking_with_OLSR">Article</a>
               |</li>
               <li id="ca-talk"
               class="new"               ><a href="/wiki/index.php?title=Talk:Mesh_Networking_with_OLSR&amp;action=edit">Discussion</a>
               |</li>
               <li id="ca-edit"
                              ><a href="/wiki/index.php?title=Mesh_Networking_with_OLSR&amp;action=edit">Edit</a>
               |</li>
               <li id="ca-history"
                              ><a href="/wiki/index.php?title=Mesh_Networking_with_OLSR&amp;action=history">History</a>
               </li>
                       </ul>
        </div>
    </div> <!-- end of gumax-page-actions DIV -->
    <!-- =================== end of gumax-page-actions =================== -->

    <!-- =================== gumax-page-footer =================== -->
    <div id="gumax-page-footer">

        <!-- personal tools  -->
        <div id="gumax-personal-tools">
            <ul>
                            <li id="t-whatlinkshere"><a href="/wiki/index.php/Special:Whatlinkshere/Mesh_Networking_with_OLSR">What links here</a> | </li>
                            <li id="t-recentchangeslinked"><a href="/wiki/index.php/Special:Recentchangeslinked/Mesh_Networking_with_OLSR">Related changes</a> | </li>
                                                                                                                                            <li id="t-upload"><a href="/wiki/index.php/Special:Upload">Upload file</a>
                |</li>
                                            <li id="t-specialpages"><a href="/wiki/index.php/Special:Specialpages">Special pages</a>
                </li>
                                                      <li id="t-permalink"> | <a href="/wiki/index.php?title=Mesh_Networking_with_OLSR&amp;oldid=54109">Permanent link</a></li>
            </ul>
        </div> <!-- end of personal-tools DIV -->
        <!-- end of personal tools  -->

        <!-- gumax-footer -->
        <div id="gumax-footer">
            <div id="gumax-f-message">
                <span id="f-lastmod"> This page was last modified 23:28, 23 March 2018.</span>                <span id="f-viewcount">This page has been accessed 421,079 times. </span>            </div>
            <ul id="gumax-f-list">
                <li id="f-about"><a href="/wiki/index.php/DD-WRT_Wiki:About" title="DD-WRT Wiki:About">About DD-WRT Wiki</a> | </li>                <li id="f-disclaimer"><a href="/wiki/index.php/DD-WRT_Wiki:General_disclaimer" title="DD-WRT Wiki:General disclaimer">Disclaimers</a> | </li>                <li><a href="http://mediawiki.org">Powered by MediaWiki</a> | </li>
                <li><a href="http://paulgu.com">Design by Paul Gu</a></li>
            </ul>
        </div> <!-- end of gumax-footer DIV -->
        <!-- end of gumax-footer -->

        
		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>

    </div> <!-- end of gumax-page-footer DIV -->
    <!-- =================== end of gumax-page-footer =================== -->

    <!-- Served by forum.dd-wrt.com in 0.096 secs. -->
<script type="text/javascript" id="cookieinfo"
	src="/wiki/js/cookieinfo.min.js">
</script>
</body></html>
