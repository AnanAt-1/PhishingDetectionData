<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
  <head>
    <meta name="generator" content=
    "HTML Tidy for Linux/x86 (vers 1st April 2002), see www.w3.org">

    <title>ConTeXt and pdfTeX Beginners Help Page</title>
  </head>

  <body>
<script type="text/javascript"><!--
google_ad_client = "pub-0170907764149320";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_color_border = ["336699","DDB7BA","B0E0E6","CCCCCC"];
google_color_bg = ["FFFFFF","FFF5F6","FFFFFF","FFFFFF"];
google_color_link = ["0000FF","0000CC","000000","000000"];
google_color_url = ["008000","008000","336699","666666"];
google_color_text = ["000000","6F6F6F","333333","333333"];
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

    <h1>ConTeXt and pdfTeX Beginners Help Page</h1>
    Best Viewed With <a href=
    "http://www.anybrowser.org/campaign/">Any Browser</a> 

    <p>Last updated: July 28, 2003</p>

    <ul>
      <li><a href="#intro">Introduction</a></li>

      <li><a href="#links">Essential Links</a></li>

      <li><a href="#file-loc">File Locations</a></li>

      <li>
        <a href="#install">Installation</a> 

        <ul>
          <li><a href="#install-texlive">TeXLive</a></li>

          <li><a href="#install-context">ConTeXt</a></li>
        </ul>
      </li>

      <li>
        <a href="#texlive-fonts">Using TeXLive fonts</a> 

        <ul>
          <li><a href="#texlive-fonts-predefined">Predefined
          fonts</a></li>
        </ul>
      </li>

      <li>
        <a href="#selectfont">Selecting Fonts</a> 

        <ul>
          <li><a href="#selectfont-simple">Simple (and not very
          useful) method</a></li>

          <li><a href="#selectfont-typescript">Using
          Typescripts</a></li>
        </ul>
      </li>

      <li>
        <a href="#newfont">Installing New Fonts</a> 

        <ul>
          <li>
            <a href="#newfont-type1">Type1</a> 

            <ul>
              <li><a href="#newfont-type1-texfont">Using
              texfont</a></li>
            </ul>
          </li>

          <li><a href="#newfont-truetype">TrueType</a></li>

          <li><a href="#newfont-mf">Metafont</a></li>
        </ul>
      </li>

      <li>
        <a href="#typography">Typography</a> 

        <ul>
          <li><a href="#typography-wordspacing">Tight word
          spacing</a></li>

          <li><a href="#typography-indenting">Indenting</a></li>

          <li><a href="#typography-symbols">Using smaller
          symbols</a></li>

          <li><a href="#typography-dashes">Dashes</a></li>

          <li><a href="#typography-letterspacing">Letterspacing
          capitals and small caps</a></li>

          <li><a href="#typography-hanging">Margin kerning: Hanging
          punctuation and protruding characters</a></li>
        </ul>
      </li>

      <li>
        <a href="#techniques">ConTeXt Techniques</a> 

        <ul>
          <li><a href="#techniques-startstop">Using
          \definestartstop for blockquotes</a></li>

          <li><a href="#techniques-marginnotes">Margin
          notes</a></li>

          <li><a href="#techniques-toc">Table of contents with
          different sections</a></li>

          <li><a href="#techniques-dropcaps">Dropped caps</a></li>

          <li><a href="#techniques-layers">Positioning graphics
          with layers</a></li>

          <li><a href="#techniques-index">\index placement</a></li>

          <li><a href="#techniques-cmdlineparam">Passing variables
          on the command line</a></li>

          <li><a href="#techniques-linenumbers">Line
          numbers</a></li>

          <li><a href="#techniques-italic">Using italics for
          default emphasis</a></li>
        </ul>
      </li>

      <li>
        <a href="#fontsite">FontSite-500 CD</a> 

        <ul>
          <li><a href="#fontsite-filelist">Archive file
          list</a></li>

          <li><a href=
          "#fontsite-installation">Installation</a></li>

          <li><a href="#fontsite-problems">Problems</a></li>
        </ul>
      </li>

      <li>
        <a href="#old-installation">Old Installation</a> 

        <ul>
          <li><a href="#install-old-context">ConTeXt</a></li>

          <li><a href="#install-old-pdftex">pdfTeX</a></li>
        </ul>
      </li>
    </ul>
    <hr>

    <h2><a name="intro">Introduction</a></h2>
    I am a beginner at TeX myself, and wanted to use this page to
    record those little hints and examples which helped me over the
    rough spots, in the hope that they may help others. I'll refine
    and extend the examples as I gain more experience. 

    <p>The techniques I describe here are used to produce all of
    the <a href="http://sattre-press.com/">Sattre Press</a>
    titles.</p>

    <p>I presume the reader has all the documents available from
    the ConTeXt and pdfTeX web pages. Other sources of information:
    both packages have email support lists which are archived on
    the web. Searching the usenet group <code>comp.text.tex</code>
    can be useful also.</p>

    <p>Here is an easy way to fetch a copy of all the ConTeXt
    online documents. Fetch this file:</p>

    <blockquote>
      <code>http://www.pragma-ade.com/context.www</code>
    </blockquote>
    You may want to edit it to remove lines refering to languages
    and documents you know you don't want. Then, this will fetch
    copies of the documents into the current directory: 

    <blockquote>
      <code>wget -Nxi context.www</code>
    </blockquote>

    <p>I use SuSE Linux and TeXLive. However, it seems that TeX
    knowledge is rather portable across systems, and it should be
    possible to adapt the examples to other platforms.</p>

    <h2><a name="links">Essential Links</a></h2>

    <ul>
      <li>
        ConTeXt 

        <ul>
          <li><a href=
          "http://www.pragma-ade.com/">www.pragma-ade.com</a></li>

          <li><a href=
          "http://www.ntg.nl/context/">www.ntg.nl/context/ (mirror)
          (gone?)</a></li>

          <li><a href=
          "http://context.ct.utwente.nl/">context.ct.utwente.nl/
          (mirror) (gone?)</a></li>

          <li><a href=
          "http://ml-archives.mini.pw.edu.pl/ntg-context.html">Mailing
          list archives</a></li>
        </ul>
      </li>

      <li>
        pdfTeX 

        <ul>
          <li><a href=
          "http://tug.org/applications/pdftex/index.html">TUG
          pdftex support page</a></li>

          <li><a href="http://tug.org/pipermail/pdftex/">Mailing
          list archives</a></li>
        </ul>
      </li>

      <li>
        TUG and TeXLive 

        <ul>
          <li><a href="http://tug.org/">TeX User's Group</a></li>
        </ul>
      </li>
    </ul>

    <h2><a name="file-loc">File Locations</a></h2>
    Everything in the TeX world has its place. There is a vast
    amount of material in the TeX directory tree, which on my
    system starts at <code>/usr/TeX/</code>. 

    <p>Further, you can customize local and auxiliary directory
    structures. Look at <code>texmf.cnf</code>.</p>

    <p>Experiment with the <code>kpsewhich</code> utility,
    particularly with the <code>--show-path</code> option, which
    shows all the different places in which TeX will look for
    different files.</p>

    <p>Using this, I see that the current directory is always first
    in the path, meaning I can make all sorts of "system" changes
    which effect only the current project. As far as I can tell,
    all files of interest are treated this way: <code>.cfg, .cnf,
    .tex, .map, .tfm, .pfb,</code> etc.</p>

    <p>Once a new file becomes stable it can be promoted to later
    ("higher") directories in the search path.
    <code>kpsewhich</code> shows that I have a personal TeX
    directory tree in my home directory:
    <code>/home/wmcclain/texmf</code>. Then there are site-specific
    directories, etc.</p>

    <p>Remember: if you add or delete any files in the TeX tree
    (see the list of directories <code>$TEXMFDBS</code> in
    <code>texmf.cnf</code>), you <strong>must</strong> rebuild the
    filename database with <code>mktexlsr</code>. On my system,
    <code>texhash</code> is a synonym for this command.</p>

    <p>On Linux, I run <code>updatedb</code> daily, and use
    <code>locate</code> to find all those pesky configuration
    files.</p>

    <h2><a name="install">Installation</a></h2>
    Originally I used the TeX distribution that came with SuSE
    Linux, but have since switched to the TeXLive distribution. My
    original installation notes for SuSE are available <a href=
    "#old-installation">here</a>. 

    <blockquote>
      <h3><a name="install-texlive">TeXLive</a></h3>
      TeXLive CDs are available to TUG members and can also been
      downloaded (by anyone) as ISO images from the TUG site shown
      above. 

      <p>I follow the instructions given on the disk, using the
      default directory structure which has <code>/usr/TeX/</code>
      as the top level:</p>

      <blockquote>
<pre>
<code>su root
export CDPATH=    # this causes problems if set
mount /cdrom
cd /cdrom
sh install-cd.sh

(select packages and languages)
(run "Install")

export PATH=$PATH:/usr/TeX/bin/i386-linux
export TEXMFCNF=/usr/TeX/texmf/web2c/
texhash
exit # from su
</code>
</pre>
      </blockquote>
      Then I edit the <code>.bashrc</code> in my home directory and
      add these lines: 

      <blockquote>
<pre>
<code>export PATH=$PATH:/usr/TeX/bin/i386-linux
export TEXMFCNF=/usr/TeX/texmf/web2c/
export MANPATH=$MANPATH:/usr/TeX/man
export INFOPATH=$INFOPATH:/usr/TeX/info
</code>
</pre>
      </blockquote>
      The last two lines are omitted from the TeXLive instructions.
      

      <h3><a name="install-context">ConTeXt</a></h3>
      ConTeXt is under rapid development and we need to install
      updated versions from time to time. The zipped archives are
      available from the Pragma site listed above. 

      <p>Here is how I install new versions:</p>

      <blockquote>
<pre>
<code>su root

mv cont-tmf.zip /usr/TeX/texmf
cd /usr/TeX/texmf
rm tex/context/base/*        # safer to clean out old files first
rm metapost/context/base/*   # ...also remove metafun files
rm metapost/context/*.mp     # ...and any from an obsolete version
unzip -a -L -o cont-tmf.zip  # overwrites existing files

# Edit texexec.ini afterwards?
cp context/config/texexec.rme context/config/texexec.ini

# Edit cont-sys.tex afterwards? Specifically: uncomment the line:
#
#   \autoloadmapfilestrue
#
# For Metapost use, make sure these lines are uncommented:
#
#   \runMPgraphicstrue 
#   \runMPTEXgraphicstrue 
#   \useMETAFUNformattrue
cp tex/context/user/cont-sys.rme tex/context/user/cont-sys.tex

#
# Edit /usr/TeX/texmf/web2c/texmf.cnf and ensure that "shell_escape = t". This
# is what TeX people somewhat obscurely call "write18 enabled".
#

export PATH=$PATH:/usr/TeX/bin/i386-linux # root doesn't have this on my system

texhash
texexec --make en  # en = english
texexec --make --alone metafun
mv metafun.mem /usr/TeX/texmf-var/web2c/metafun.mem
texhash

exit # from "su root"
</code>
</pre>
      </blockquote>
    </blockquote>

    <h2><a name="texlive-fonts">Using TeXLive fonts</a></h2>
    TeXLive comes with a number of Type1 fonts. This section shows
    how to reference them from ConTeXt. 

    <blockquote>
      <h3><a name="texlive-fonts-predefined">Predefined
      fonts</a></h3>

      <table border summary="Font declarations">
        <tr>
          <th width="25%">Font</th>

          <th width="25%">Declaration</th>

          <th width="50%">Notes</th>
        </tr>

        <tr>
          <td>"Bluesky" Computer Modern</td>

          <td>
          </td>

          <td>This is the default when no font declarations are
          used.</td>
        </tr>

        <tr>
          <td>"CM-Super" Computer Modern</td>

          <td><code>\usetypescript[modern][ec]<br>
           \setupbodyfont[modern]</code></td>

          <td>
          </td>
        </tr>

        <tr>
          <td>Palatino</td>

          <td><code>\usetypescript[berry][ec] % or [8r]<br>
           \usetypescript[palatino][ec] %<br>
           \setupbodyfont[palatino]</code></td>

          <td>This is actually URW Palladio, a copy of Hermann
          Zapf's Palatino.</td>
        </tr>

        <tr>
          <td>Times, Helvetica and Courier</td>

          <td><code>\usetypescript[berry][ec] % or [8r]<br>
           \setupbodyfont[pos]</code></td>

          <td>These are all from the URW Nimbus package. Times is
          the default serif face, <code>\ss</code> produces
          Helvetica, and <code>\tt</code> produces Courier.</td>
        </tr>

        <tr>
          <td>Bookman</td>

          <td><code>\usetypescript[berry][ec] % or [8r]<br>
           \definetypeface[bookman][rm][serif][bookman][default][encoding=ec]<br>

           \setupbodyfont[bookman]</code></td>

          <td>URW Bookman</td>
        </tr>

        <tr>
          <td>Charter</td>

          <td><code>\usetypescript[berry][ec] % or [8r]<br>
           \definetypeface[charter][rm][serif][charter][default][encoding=ec]<br>

           \setupbodyfont[charter]</code></td>

          <td>Bitstream Charter</td>
        </tr>

        <tr>
          <td>Utopia</td>

          <td><code>\usetypescript[berry][ec]<br>
           \definetypeface[utopia][rm][serif][utopia][default][encoding=ec]<br>

           \setupbodyfont[utopia]</code></td>

          <td>
            Because of a bug in TeXLive 7, the <code>tfm</code> and
            <code>vf</code> files for Adobe Utopia are not
            installed correctly. To fix this: 

            <p><code>cd ~/texmf<br>
             wget
            http://www.gutenberg.eu.org/pub/gut/distribs/texlive/7/utopia.tar.gz<br>

             tar zxvf utopia.tar.gz<br>
             texhash</code></p>
          </td>
        </tr>
      </table>
    </blockquote>

    <h2><a name="selectfont">Selecting Fonts</a></h2>
    Fonts are a complicated business, but become easier to deal
    with once you have run a few experiments. The primary document
    is <em>Fonts in ConTeXt</em> (<code>mfonts.pdf</code>). 

    <p>Note that we tend to be spoiled by the default Computer
    Modern font which has a large number of good features which
    just work automatically. Emulating that capability with a new
    font requires a good deal of setup.</p>

    <blockquote>
      <h3><a name="selectfont-simple">Simple (and not very useful)
      method</a></h3>
      You can simply specify a font file and use it, either in
      plain TeX or by using ConTeXt macros. This is not very useful
      because it does not give you the convenient switching to
      italic, bold, small caps, math mode, etc, which a
      well-defined typeface will do. However, it is instructive to
      try it, just to prove that the system is setup correctly and
      that the maps and font files can be found. 

      <p>You can (for a start) use any font listed in
      <code>pdftex.map</code>, presuming both the <code>.tfm</code>
      and <code>.pfb</code> font files exist. (This is not always
      the case on my system).</p>

      <p>For example, here is the first data line in my
      <code>pdftex.map</code> file:</p>

      <blockquote>
        <code>bchb8r CharterBT-Bold "TeXBase1Encoding ReEncodeFont"
        &lt;8r.enc &lt;bchb8a.pfb</code>
      </blockquote>
      The contents of <code>pdftex.map</code> are documented in
      <em>The pdfTeX User Manual</em> (<code>pdftexman.pdf</code>).
      For now, just note that this line refers to "Bitstream
      Charter Bold." The first field, <code>bchb8r</code>, is the
      name of a <code>.tfm</code> (TeX Font Metric) file, and
      <code>bchb8a.pfb</code> is a Type1 font file. In TeX
      programs, fonts are identified by their <code>.tfm</code>
      names. 

      <p>Since both <code>bchb8r.tfm</code> and
      <code>bchb8a.pfb</code> exist on my system, I can use the
      font as follows.</p>

      <p>Using just plain TeX:</p>

      <blockquote>
<pre>
<code>\font\myfirstfont=bchb8r
\myfirstfont Of wind I sang, a wind there came, and in the branches blew.
</code>
</pre>
      </blockquote>

      <p>Using ConTeXt macros:</p>

      <blockquote>
<pre>
<code>\definefontsynonym[CharterBT-Bold][bchb8r][encoding=8r]
\definefont[MySecondFont][CharterBT-Bold]
\starttext
\MySecondFont I sang of leaves, of leaves of gold, and leaves of gold there grew.
\stoptext
</code>
</pre>
      </blockquote>

      <h3><a name="selectfont-typescript">Using
      Typescripts</a></h3>
      ConTeXt now uses typescripts to define and select fonts. This
      is the way to go for maximum flexibility. 

      <p>"Typescripts are in fact just organized definitions" says
      <code>mfonts.pdf</code>. They are a way of building a
      database of names which provides layers of abstraction. The
      TeX document can be written so that it will continue to be
      "correct" even as major changes in fonts, families and styles
      are made at the deeper levels.</p>

      <h4>typescript files</h4>
      Typescripts are definitions contained between
      <code>\starttypescript</code> and
      <code>\stoptypescript</code>. The typescripts are found in
      and loaded from several file sources: 

      <ul>
        <li>Several <code>type-*.tex</code> files are automatically
        searched. See the list in <code>mfonts.pdf</code>.</li>

        <li>A file <code>type-loc.tex</code> in the search path
        will be searched automatically.</li>

        <li>Any file in the search path, for example,
        <code>myscripts.tex</code>, can be loaded with
        <code>\usetypescriptfile[myscripts]</code>.</li>
      </ul>

      <h4>A simple example</h4>
      For example, using Bitstream Charter again, I have these
      fonts on my system: 

      <blockquote>
        <table summary="A list of Bitstream Charter fonts">
          <tr>
            <td><code>bchr8r</code></td>

            <td>roman</td>
          </tr>

          <tr>
            <td><code>bchb8r</code></td>

            <td>bold</td>
          </tr>

          <tr>
            <td><code>bchri8r</code></td>

            <td>italic</td>
          </tr>

          <tr>
            <td><code>bchbi8r</code></td>

            <td>bold italic</td>
          </tr>
        </table>
      </blockquote>
      I can create this typescript file,
      <code>type-charter.tex</code>: 

      <blockquote>
<pre>
<code>\usetypescriptfile[type-buy]

\starttypescript [serif] [charter] [8r]
  \definefontsynonym [Charter-Roman]       [bchr8r]  [encoding=8r]
  \definefontsynonym [Charter-Bold]        [bchb8r]  [encoding=8r]
  \definefontsynonym [Charter-Italic]      [bchri8r] [encoding=8r]
  \definefontsynonym [Charter-Bold-Italic] [bchbi8r] [encoding=8r]
\stoptypescript

\starttypescript [serif] [charter] [name]
  \usetypescript[serif][fallback]
  \definefontsynonym [Serif]           [Charter-Roman]
  \definefontsynonym [SerifBold]       [Charter-Bold]
  \definefontsynonym [SerifItalic]     [Charter-Italic]
  \definefontsynonym [SerifBoldItalic] [Charter-Bold-Italic]
\stoptypescript

\starttypescript [Charter] 
  \definetypeface [MyCharter] [rm] [serif] [charter] [default] [encoding=8r]
\stoptypescript
</code>
</pre>
      </blockquote>
      And use it like this: 

      <blockquote>
<pre>
<code>\usetypescriptfile[type-charter]
\usetypescript[Charter]
\setupbodyfont[MyCharter]

\starttext
This is roman, {\bf bold}, {\it italic}, {\bi bold-italic}, 
{\tfa bigger} and {\tfx smaller}.
\stoptext
</code>
</pre>
      </blockquote>

      <h4>Multiple fonts</h4>
      I also have Adobe Utopia, so I can make a
      <code>type-utopia.tex</code> typescript file very similar to
      the Charter example above: 

      <blockquote>
<pre>
<code>\usetypescriptfile[type-buy]

\starttypescript [serif] [utopia] [8r]
  \usetypescript[serif][fallback]
  \definefontsynonym [Utopia-Roman]       [putr8r]  [encoding=8r]
  \definefontsynonym [Utopia-Bold]        [putb8r]  [encoding=8r]
  \definefontsynonym [Utopia-Italic]      [putri8r] [encoding=8r]
  \definefontsynonym [Utopia-Bold-Italic] [putbi8r] [encoding=8r]
\stoptypescript

\starttypescript [serif] [utopia] [name]
  \definefontsynonym [Serif]           [Utopia-Roman]
  \definefontsynonym [SerifBold]       [Utopia-Bold]
  \definefontsynonym [SerifItalic]     [Utopia-Italic]
  \definefontsynonym [SerifBoldItalic] [Utopia-Bold-Italic]
\stoptypescript

\starttypescript [Utopia] 
  \definetypeface [MyUtopia] [rm] [serif] [utopia] [default] [encoding=8r]
\stoptypescript
</code>
</pre>
      </blockquote>
      And then use both fonts in the same job: 

      <blockquote>
<pre>
<code>\usetypescriptfile[type-charter]
\usetypescript[Charter]
\usetypescriptfile[type-utopia]
\usetypescript[Utopia]
\setupbodyfont[MyCharter]

\starttext
This is Charter roman, {\bf bold}, {\it italic}, {\bi bold-italic}, 
{\tfa bigger} and {\tfx smaller}.

\switchtobodyfont[MyUtopia]
This is Utopia roman, {\bf bold}, {\it italic}, {\bi bold-italic}, 
{\tfa bigger} and {\tfx smaller}.
\stoptext
</code>
</pre>
      </blockquote>
      Note that the default Computer Modern font is always
      available, even when the job defines other fonts: declare it
      with <code>\usetypescript[modern][default]</code> and select
      it with <code>\switchtobodyfont[modern]</code>. 

      <h4>Questions</h4>

      <blockquote>
        <strong>What does the
        <code>\usetypescriptfile[type-buy]</code> do?</strong> It
        loads a typescript which contains the definition of the
        <code>[serif][fallback]</code> typescript which I use
        later. 

        <p><strong>What does the
        <code>\usetypescript[serif][fallback]</code> do?</strong>
        It simplifies the definition of my new typescript. My
        example fonts are very simple and do not have slanted or
        smallcaps variants. ConTeXt requires those variants to be
        defined. I could add dummy declarations and define
        SerifSlanted to be the same as SerifItalic,
        SerifBoldSlanted to be SerifBoldItalic, and SerifCaps to be
        simply Serif. However, if you look at the definition of the
        <code>[serif][fallback]</code> typescript in
        <code>type-buy.tex</code>, you will see that those
        declarations have already been made. My typescript can
        "inherit" from the predefined fallback typescript.</p>

        <p><strong>What about the <code>encoding=8r</code>
        references?</strong> I specified these because that was
        what was listed for these fonts in <code>pdftex.map</code>.
        I'll try to add more on encodings to this document
        someday.</p>

        <p><strong>What are the parameters to
        <code>\starttypescript</code>?</strong> Typescripts can
        have up to three "specifiers". It is like having a database
        where you can use up to three keys to find a record. You
        can make up your own values. For example, if I have:</p>

        <blockquote>
<pre>
<code>\starttypescript[A][B][C]
% ...various statements
\stoptypescript
</code>
</pre>
        </blockquote>
        I can find and execute the typescript with: 

        <blockquote>
<pre>
<code>\usetypescript[A][B][C]
</code>
</pre>
        </blockquote>
        The keyword <code>all</code> matches any value: 

        <blockquote>
<pre>
<code>\usetypescript[A][B][all]
</code>
</pre>
        </blockquote>
        These examples will <strong>not</strong> match typescript
        <code>[A][B][C]</code>: 

        <blockquote>
<pre>
<code>\usetypescript[A]
\usetypescript[A][B]
\usetypescript[A][B][D]
</code>
</pre>
        </blockquote>
        You can have lists of key values to match. If I have: 

        <blockquote>
<pre>
<code>\starttypescript[A][B][C]
% ...various statements
\stoptypescript

\starttypescript[A][B][Z]
% ...various statements
\stoptypescript
</code>
</pre>
        </blockquote>
        Then I can execute both typescripts with: 

        <blockquote>
<pre>
<code>\usetypescript[A][B][C,Z]
</code>
</pre>
        </blockquote>
        Note that the search for typescript matches has a
        cumulative effect. Our database allows duplicate key values
        and the search will find and execute all the matches. 

        <p><strong>What are the parameters to
        <code>\definetypeface</code>?</strong> This is where it all
        comes together. Suppose we have:</p>

        <blockquote>
<pre>
<code>\definetypeface[A][B][C][D][E][F]
</code>
</pre>
        </blockquote>
        This means: 

        <ul>
          <li>
            Define typeface <code>A</code> (any name you like) in
            its variant <code>B</code>, where the common variants
            are: 

            <ul>
              <li><code>rm</code>: roman (normal)</li>

              <li><code>ss</code>: sans serif</li>

              <li><code>tt</code>: monospaced</li>

              <li><code>mm</code>: math mode</li>

              <li><code>cg</code>: calligraphy</li>
            </ul>
          </li>

          <li>
            Use typescript <code>[C][D][name]</code> to define the
            styles for this variant. <code>C</code> can be any name
            you like, but by convention is commonly one or more of:
            

            <ul>
              <li><code>serif</code></li>

              <li><code>sans</code></li>

              <li><code>mono</code></li>

              <li><code>math</code></li>

              <li><code>handwriting</code></li>
            </ul>
            <code>D</code> can be any name you like. Usually it is
            some variation on the font name.
          </li>

          <li>Use typescript <code>[C][E][size]</code> to define
          the size information for this typeface.</li>

          <li>Use <code>F</code> for other options, typically
          <code>encoding</code> and <code>rscale</code>.</li>
        </ul>
        <strong>Example.</strong> Now we can interpret the setup of
        the font Charter as given above: 

        <blockquote>
<pre>
<code>\starttypescript [serif] [charter] [name]
  \usetypescript[serif][fallback]
  \definefontsynonym [Serif]           [Charter-Roman]
  \definefontsynonym [SerifBold]       [Charter-Bold]
  \definefontsynonym [SerifItalic]     [Charter-Italic]
  \definefontsynonym [SerifBoldItalic] [Charter-Bold-Italic]
\stoptypescript

\starttypescript [Charter] 
  \definetypeface [MyCharter] [rm] [serif] [charter] [default] [encoding=8r]
\stoptypescript
</code>
</pre>
        </blockquote>
        This means: 

        <ul>
          <li>Create a typescript <code>Charter</code> which
          packages all the following.</li>

          <li>Define a font "MyCharter" in its normal (roman)
          variant.</li>

          <li>Use typescript <code>[serif][charter][name]</code> to
          define its styles.</li>

          <li>Use typescript <code>[serif][fallback]</code> for any
          styles we haven't defined.</li>

          <li>Use typescript <code>[serif][default]</code> for the
          size information. (Found in
          <code>type-siz.tex</code>).</li>

          <li>Use encoding <code>8r</code>.</li>
        </ul>
        <strong>What are the predefined style names?</strong> The
        style names used in the <code>\definefontsynonym</code> are
        special in that ConTeXt uses them to implement the font
        switching macros such as <code>\bf, \it, \sc,</code> etc.
        The predefined names are: 

        <ul>
          <li><code>[Serif,Sans,Mono]</code></li>

          <li><code>[Serif,Sans,Mono]Bold</code></li>

          <li><code>[Serif,Sans,Mono]Italic</code></li>

          <li><code>[Serif,Sans,Mono]BoldItalic</code></li>

          <li><code>[Serif,Sans,Mono]Slanted</code></li>

          <li><code>[Serif,Sans,Mono]BoldSlanted</code></li>

          <li><code>[Serif,Sans,Mono]Caps</code></li>
        </ul>

        <p>We also have these styles:</p>

        <ul>
          <li><code>MathAlpha</code></li>

          <li><code>MathAlphaBold</code></li>

          <li><code>MathBeta</code></li>

          <li><code>MathExtension</code></li>

          <li><code>MathExtensionBold</code></li>

          <li><code>MathGamma</code></li>

          <li><code>MathItalic</code></li>

          <li><code>MathItalicBold</code></li>

          <li><code>MathRoman</code></li>

          <li><code>MathRomanBold</code></li>

          <li><code>MathSymbol</code></li>

          <li><code>MathSymbolBold</code></li>

          <li><code>OldStyle</code></li>
        </ul>
      </blockquote>
    </blockquote>

    <h2><a name="newfont">Installing New Fonts</a></h2>

    <blockquote>
      <h3><a name="newfont-type1">Type1</a></h3>

      <h4><a name="newfont-type1-texfont">Using
      <code>texfont</code></a></h4>

      <blockquote>
        The <code>texfont</code> utility is part of the ConTeXt
        package. It can be used instead of <code>fontinst</code> to
        install new fonts. The manual is <em>Texfont Explained</em>
        (<code>mtexfont.pdf</code>). 

        <p>I purchased Adobe Sabon from Eyewire (now defunct)
        because the Adobe site was not happy with my browser that
        day. (And now I see that Adobe requires a custom download
        manager. Forget that). The typeface was in two packages:
        "Sabon" and "Sabon SC+OSF". I chose the Windows Type1
        variants and downloaded these two files:</p>

        <blockquote>
<pre>
<code>17100088.exe
17100197.exe</code>
</pre>
        </blockquote>
        I had been told that these .exe files were actually zip
        archives. Not true. They were MS Windows executables. I had
        to take them to an MS machine to unpack them. 

        <p>The Sabon files:</p>

        <blockquote>
<pre>
<code>Install instructions.txt
license.txt
readme.txt
sab_____.afm
sabi____.afm
sabi____.inf
sab_____.inf
sabi____.pfb
sabi____.pfm
sab_____.pfb
sab_____.pfm
sai_____.afm
sai_____.inf
sai_____.pfb
sai_____.pfm
sar_____.afm
sar_____.inf
sar_____.pfb
sar_____.pfm</code>
</pre>
        </blockquote>

        <p>The Sabon SC+OSF files:</p>

        <blockquote>
<pre>
<code>Install instructions.txt
license.txt
readme.txt
sabio___.afm
sabio___.inf
sabio___.pfb
sabio___.pfm
sabof___.afm
sabof___.inf
sabof___.pfb
sabof___.pfm
saiof___.afm
saiof___.inf
saiof___.pfb
saiof___.pfm
sarsc___.afm
sarsc___.inf
sarsc___.pfb
sarsc___.pfm</code>
</pre>
        </blockquote>
        Only the <code>.afm</code> and <code>.pfb</code> files are
        needed for TeX. 

        <p>I put the originals in a safe place and copied all the
        files into a temporary directory: <code>/tmp/fonts</code>.
        I decided to use the TeX root under my home directory for
        installing new fonts:
        <code>/home/wmcclain/texmf</code>.</p>
        Then, installing the font is a simple matter of: 

        <blockquote>
<pre>
<code>texfont --fontroot=/home/wmcclain/texmf --sourcepath=/tmp/fonts --vendor=adobe --collection=sabon --makepath --install</code>
</pre>
        </blockquote>
        I find these new paths and files created: 

        <p>Under
        <code>/home/wmcclain/texmf/fonts/tfm/adobe/sabon</code>:</p>

        <blockquote>
<pre>
<code>texnansi-raw-sabio.tfm
texnansi-raw-sabi.tfm
texnansi-raw-sabof.tfm
texnansi-raw-sab.tfm
texnansi-raw-saiof.tfm
texnansi-raw-sai.tfm
texnansi-raw-sarsc.tfm
texnansi-raw-sar.tfm
texnansi-sabio.tfm
texnansi-sabi.tfm
texnansi-sabof.tfm
texnansi-sab.tfm
texnansi-saiof.tfm
texnansi-sai.tfm
texnansi-sarsc.tfm
texnansi-sar.tfm</code>
</pre>
        </blockquote>
        Under
        <code>/home/wmcclain/texmf/fonts/type1/adobe/sabon</code>: 

        <blockquote>
<pre>
<code>sabio___.pfb
sabi____.pfb
sabof___.pfb
sab_____.pfb
saiof___.pfb
sai_____.pfb
sar_____.pfb
sarsc___.pfb</code>
</pre>
        </blockquote>
        Under
        <code>/home/wmcclain/texmf/fonts/vf/adobe/sabon</code>: 

        <blockquote>
<pre>
<code>texnansi-sabio.vf
texnansi-sabi.vf
texnansi-sabof.vf
texnansi-sab.vf
texnansi-saiof.vf
texnansi-sai.vf
texnansi-sarsc.vf
texnansi-sar.vf</code>
</pre>
        </blockquote>
        And finally, this file: 

        <blockquote>
          <code>/home/wmcclain/texmf/pdftex/config/texnansi-adobe-sabon.map</code>
        </blockquote>
        which contains the lines: 

        <blockquote>
<pre>
<code>% This file is generated by the TeXFont Perl script.
%
% You need to add the following line to pdftex.cfg:
%
%   map +texnansi-adobe-sabon.map
%
% Alternatively in your TeX source you can say:
%
%   \pdfmapfile{+texnansi-adobe-sabon.map}
%
% In ConTeXt you can best use:
%
%   \loadmapfile[texnansi-adobe-sabon.map]

texnansi-raw-sab Sabon-Bold 4 &lt; sab_____.pfb texnansi.enc
texnansi-raw-sabi Sabon-BoldItalic 4 &lt; sabi____.pfb texnansi.enc
texnansi-raw-sabio Sabon-BoldItalicOsF 4 &lt; sabio___.pfb texnansi.enc
texnansi-raw-sabof Sabon-BoldOsF 4 &lt; sabof___.pfb texnansi.enc
texnansi-raw-sai Sabon-Italic 4 &lt; sai_____.pfb texnansi.enc
texnansi-raw-saiof Sabon-ItalicOsF 4 &lt; saiof___.pfb texnansi.enc
texnansi-raw-sar Sabon-Roman 4 &lt; sar_____.pfb texnansi.enc
texnansi-raw-sarsc Sabon-RomanSC 4 &lt; sarsc___.pfb texnansi.enc</code>
</pre>
        </blockquote>
        That's the complete installation. We still have to define
        the typeface to ConTeXt, using the techniques shown above
        in "Selecting Fonts - Using Typescripts". 

        <p>I create a file <code>type-sabon.tex</code> in the TeX
        path, which contains:</p>

        <blockquote>
<pre>
<code>%
% Adobe Sabon
%
\usetypescriptfile[type-buy]
\loadmapfile[texnansi-adobe-sabon.map]

\starttypescript [serif] [sabon] [texnansi]
  \definefontsynonym [Sabon-Roman]          [texnansi-sar]  [encoding=texnansi]
  \definefontsynonym [Sabon-Bold]           [texnansi-sab]  [encoding=texnansi]
  \definefontsynonym [Sabon-Italic]         [texnansi-sai]  [encoding=texnansi]
  \definefontsynonym [Sabon-Bold-Italic]    [texnansi-sabi] [encoding=texnansi]
  \definefontsynonym [Sabon-Roman-SmallCaps][texnansi-sarsc]  [encoding=texnansi]
  \definefontsynonym [Sabon-Italic-OSF]     [texnansi-saiof]  [encoding=texnansi]
  \definefontsynonym [Sabon-Bold-OSF]       [texnansi-sabof]  [encoding=texnansi]
  \definefontsynonym [Sabon-Bold-Italic-OSF][texnansi-sabio]  [encoding=texnansi]
\stoptypescript

\starttypescript [serif] [sabon] [name]
  \usetypescript[serif][fallback]
  \definefontsynonym [Serif]           [Sabon-Roman]
  \definefontsynonym [SerifBold]       [Sabon-Bold]
  \definefontsynonym [SerifItalic]     [Sabon-Italic]
  \definefontsynonym [SerifBoldItalic] [Sabon-Bold-Italic]
  \definefontsynonym [SerifCaps]       [Sabon-Roman-SmallCaps]
  % the regular old-style figures are in the small-caps file
  \definefontsynonym [OldStyle]        [Sabon-Roman-SmallCaps]
\stoptypescript

\starttypescript [Sabon] 
  \definetypeface [Sabon] [rm] [serif] [sabon] [default] [encoding=texnansi]
\stoptypescript</code>
</pre>
        </blockquote>
        <strong>Important</strong>: the <code>\loadmapfile</code>
        macro will <strong>not</strong> work unless the
        <code>\autoloadmapfilestrue</code> line is uncommented in
        <code>cont-sys.tex</code>. 

        <p><strong>Important</strong>: note that we do
        <strong>not</strong> reference the
        <code>texnansi-raw-*</code> files in the font declaration.
        I made that mistake in the first version. That usage works
        for many characters, but not for ligatures and some other
        things. The right way to do it is to reference the virtual
        font files, as shown.</p>

        <p>Using the font is easy:</p>

        <blockquote>
<pre>
<code>\usetypescriptfile[type-sabon]
\usetypescript[Sabon]
\setupbodyfont[Sabon]

\starttext
This is Sabon roman, {\it italic,} {\bf bold,} and {\bi bold-italic.}

{\em \bf This is also bold-italic.}

We have {\sc small caps} and old-style figures: {\os 0123456789}.
\stoptext</code>
</pre>
        </blockquote>
        The font files defined in the typescript give us a palette
        for assembling new typefaces. For example, I bought eight
        font files, but three are not being used, the ones that
        have bold and italic old-style figures: 

        <blockquote>
<pre>
<code>[Sabon-Italic-OSF]     [texnansi-saiof]
[Sabon-Bold-OSF]       [texnansi-sabof]
[Sabon-Bold-Italic-OSF][texnansi-sabio]</code>
</pre>
        </blockquote>
        Indeed, ConTeXt does not provide a way of combining both
        old-style and bold or italic; this does not do what you
        think it might: 

        <blockquote>
          <code>{\em \os 0123456789}</code>
        </blockquote>
        The figures will be old-style regular, not italic. The way
        to use these fonts is to define a new typeface that always
        uses old-style figures in the bold and italic forms. We add
        some lines to <code>type-sabon.tex</code> which now looks
        like: 

        <blockquote>
<pre>
<code>%
% Adobe Sabon
%
\usetypescriptfile[type-buy]
\loadmapfile[texnansi-adobe-sabon.map]

\starttypescript [serif] [sabon, sabon-oldstyle] [texnansi]
  \definefontsynonym [Sabon-Roman]          [texnansi-sar]  [encoding=texnansi]
  \definefontsynonym [Sabon-Bold]           [texnansi-sab]  [encoding=texnansi]
  \definefontsynonym [Sabon-Italic]         [texnansi-sai]  [encoding=texnansi]
  \definefontsynonym [Sabon-Bold-Italic]    [texnansi-sabi] [encoding=texnansi]
  \definefontsynonym [Sabon-Roman-SmallCaps][texnansi-sarsc]  [encoding=texnansi]
  \definefontsynonym [Sabon-Italic-OSF]     [texnansi-saiof]  [encoding=texnansi]
  \definefontsynonym [Sabon-Bold-OSF]       [texnansi-sabof]  [encoding=texnansi]
  \definefontsynonym [Sabon-Bold-Italic-OSF][texnansi-sabio]  [encoding=texnansi]
\stoptypescript

\starttypescript [serif] [sabon] [name]
  \usetypescript[serif][fallback]
  \definefontsynonym [Serif]           [Sabon-Roman]
  \definefontsynonym [SerifBold]       [Sabon-Bold]
  \definefontsynonym [SerifItalic]     [Sabon-Italic]
  \definefontsynonym [SerifBoldItalic] [Sabon-Bold-Italic]
  \definefontsynonym [SerifCaps]       [Sabon-Roman-SmallCaps]
  % the regular old-style figures are in the small-caps file
  \definefontsynonym [OldStyle]        [Sabon-Roman-SmallCaps]
\stoptypescript

\starttypescript [Sabon] 
  \definetypeface [Sabon] [rm] [serif] [sabon] [default] [encoding=texnansi]
\stoptypescript

\starttypescript [serif] [sabon-oldstyle] [name]
  \usetypescript[serif][fallback]
  \definefontsynonym [Serif]           [Sabon-Roman]
  \definefontsynonym [SerifBold]       [Sabon-Bold-OSF]
  \definefontsynonym [SerifItalic]     [Sabon-Italic-OSF]
  \definefontsynonym [SerifBoldItalic] [Sabon-Bold-Italic-OSF]
  \definefontsynonym [SerifCaps]       [Sabon-Roman-SmallCaps]
  % the regular old-style figures are in the small-caps file
  \definefontsynonym [OldStyle]        [Sabon-Roman-SmallCaps]
\stoptypescript

\starttypescript [SabonOldStyle] 
  \definetypeface [SabonOldStyle] [rm] [serif] [sabon-oldstyle] [default] [encoding=texnansi]
\stoptypescript</code>
</pre>
        </blockquote>
        Then we can see our old-style figures: 

        <blockquote>
<pre>
<code>\usetypescriptfile[type-sabon]
\usetypescript[SabonOldStyle]
\setupbodyfont[SabonOldStyle]

\starttext
This is Sabon roman 0123456789, 
old-style \os 0123456789, 
{\it italic 0123456789,} 
{\bf bold 0123456789,} 
and {\bi bold-italic 0123456789.}

{\em \bf This is also bold-italic 0123456789.}

\stoptext
</code>
</pre>
        </blockquote>
        Note that the usage is a bit inconsistent: bold and italic
        use old-style figures by default and do not require
        <code>\os</code>, but the regular font uses the standard
        "lining" figures and does require <code>\os</code> for the
        old-style figures. It would be more consistent to make
        old-style the default for the regular font, but we would
        need to make a virtual font to do that. (Reason: the
        regular old-style figures are contained in the small-caps
        font file. Virtual fonts allow us to assemble portions of
        existing font files into a new "view"). 

        <p>Using the scheme shown here, if we want both lining and
        old-style figures in bold or italic, we have to use both
        typefaces and switch between them as necessary.</p>

        <p>This example does not provide any math mode
        definitions.</p>
      </blockquote>

      <h3><a name="newfont-truetype">TrueType</a></h3>

      <blockquote>
        Truetype fonts are supported by pdfTeX. No special setup is
        required for ConTeXt. The font definitions within ConTeXt
        are identical for all font formats, since TeX needs only a
        reference to a <code>tfm</code> file describing the font
        metrics. 

        <p>In the TeXLive <code>support</code> directory is a
        utility <code>ttf2tex</code> which automates the
        installation of Truetype font files. I haven't used it
        because it is limited to 8-character file names.</p>

        <p>Here is the manual method I've used; this could be
        worked into an installation script.</p>

        <p>As an example, I'll use the Bergamo (Bembo) Roman font
        from the FontSite collection (even though a Type1 version
        is also provided). The encoding is up to you; I always use
        <code>texnansi.enc</code> by default. I use a naming
        convention similar to that used by
        <code>texfont</code>.</p>

        <p>My habit is to rename font files so that the extensions
        at least are in lower case. This would also be good time to
        eliminate spaces and other "strange" characters in the file
        names:</p>

        <blockquote>
          <code>mv BERGAMO_.TTF bergamo_.ttf</code>
        </blockquote>
        Generate a <code>tfm</code> file for the Truetype font
        file, and a "virtual property list" file. Note that I
        specify the complete path of the encoding file because
        <code>ttf2tfm</code> does not seem to find it
        automatically: 

        <blockquote>
          <code>ttf2tfm bergamo_.ttf -T
          /usr/TeX/texmf/dvips/ly1/texnansi.enc -v
          texnansi-bergamo.vpl texnansi-raw-bergamo.tfm</code>
        </blockquote>
        Create the <code>vf</code> virtual font file and a
        <code>tfm</code> to go with it: 

        <blockquote>
          <code>vptovf texnansi-bergamo.vpl texnansi-bergamo.vf
          texnansi-bergamo.tfm</code>
        </blockquote>
        You may wonder why we need this virtual font file. We could
        use the "raw" <code>tfm</code> directly, but we lose
        ligature and kerning information if we do. The virtual font
        definition fixes that. 

        <p>Move the files into their proper places. I use the
        <code>texmf</code> directory tree under my home
        directory:</p>

        <blockquote>
<pre>
<code>mkdir -p ~/texmf/fonts/truetype/fontsite/bergamo
mkdir -p ~/texmf/fonts/tfm/fontsite/bergamo
mkdir -p ~/texmf/fonts/vf/fontsite/bergamo
mv bergamo_.ttf ~/texmf/fonts/truetype/fontsite/bergamo
mv texnansi-raw-bergamo.tfm ~/texmf/fonts/tfm/fontsite/bergamo
mv texnansi-bergamo.tfm ~/texmf/fonts/tfm/fontsite/bergamo
mv texnansi-bergamo.vf ~/texmf/fonts/vf/fontsite/bergamo
</code>
</pre>
        </blockquote>
        Finally we need a map file entry which connects the
        <code>tfm</code> file to the <code>ttf</code> file. We
        could add this to the global <code>pdftex.map</code> file,
        but I prefer to make a separate map file for each typeface
        set. Create the file
        <code>~/texmf/pdftex/config/texnansi-bergamo.map</code> and
        add this line: 

        <blockquote>
          <code>texnansi-raw-bergamo &lt;bergamo_.ttf
          texnansi.enc</code>
        </blockquote>
        Refresh the filename database: 

        <blockquote>
          <code>texhash</code>
        </blockquote>
        Then this simple test should use the font: 

        <blockquote>
<pre>
<code>\pdfmapfile{+texnansi-bergamo.map}
\font\Myfont=texnansi-bergamo
\Myfont This is a test.
\bye
</code>
</pre>
        </blockquote>
        Or, you can display all the glyphs in the font with this
        ConTeXt program: 

        <blockquote>
<pre>
<code>\usemodule[fnt-01]
\loadmapfile[texnansi-bergamo.map]
\starttext
\ShowFont[Bergamo][texnansi-bergamo][texnansi]
\stoptext
</code>
</pre>
        </blockquote>
        If you have multiple font files in the typeface (bold,
        italic, small caps, etc) then each must be processed by the
        steps shown above. Any number of mapping lines can be
        placed in one <code>map</code> file. Creating a typescript
        definition for ConTeXt is described elsewhere on this page;
        the process is the same regardless of the font file format.
        

        <p>How do the <code>tfm</code>, <code>vf</code> and
        <code>map</code> files work together? It goes something
        like this:</p>

        <ul>
          <li>The TeX document references
          <code>texnansi-bergamo</code>. This is the metric file
          <code>texnansi-bergamo.tfm</code>.</li>

          <li>By magic, TeX sees that this metric file is matched
          with a virtual font file:
          <code>texnansi-bergamo.vf</code>.</li>

          <li>This virtual font file gets its metric information
          from another file: <code>texnansi-raw-bergamo.tfm</code>.
          You can verify this by looking at the FONTNAME field in
          the <code>.vpl</code> file, or by running <code>vftovp
          texnansi-bergamo.vf</code> and searching the result for
          the same field.</li>

          <li>Finally, when pdfTeX needs to access the shape
          information for the glyphs, it searches
          <code>texnansi-bergamo.map</code> for
          <code>texnansi-raw-bergamo</code> (the <code>tfm</code>
          name) in the first field, and uses
          <code>bergamo_.ttf</code> for the glyph shapes, and
          <code>texnansi.enc</code> for the encoding.</li>
        </ul>
      </blockquote>

      <h3><a name="newfont-mf">Metafont</a></h3>

      <blockquote>
        The pdftex documents recommend against using bitmapped
        fonts because Adobe Acrobat does not render them very well.
        They are also not resolution-independent and have to be
        generated for every font variety and size used. 

        <p>Nevertheless they are supported. I don't know much about
        using Metafont, but here is an example using the Duerer
        font available on both CTAN and TeXLive.</p>

        <p>The collection consists of a series of <code>.mf</code>
        and <code>.tfm</code> files. The <code>.mf</code> files go
        in:</p>

        <blockquote>
          <code>fonts/source/public/duerer</code>
        </blockquote>
        and the <code>.tfm</code> files belong in: 

        <blockquote>
          <code>fonts/tfm/public/duerer</code>
        </blockquote>
        I note that TeXLive comes with the <code>.tfm</code> files,
        but that they are not included on CTAN, and that the CTAN
        Metafont directories often do not have <code>.tfm</code>
        files. They can be generated from the <code>.mf</code>
        files with Metafont, but I don't give an example here
        because I haven't had to do it yet. Consult the Metafont
        documentation. 

        <p>We can now run a quick test with a script like this
        (note that Duerer contains only the 26 uppercase
        letters):</p>

        <blockquote>
<pre>
<code>\font\Bold=cdb10
\font\Informal=cdi10
\font\Roman=cdr10
\font\Slanted=cdsl10
\font\Sans=cdss10
\font\Typewriter=cdtt10

\starttext
\Roman THIS IS COMPUTER DUERER ROMAN
\Bold BOLD
\Slanted SLANTED
\Informal INFORMAL
\Sans SANS SERIF
\Typewriter AND TYPEWRITER
\stoptext
</code>
</pre>
        </blockquote>
        Note that we cannot yet get PDF output from pdftex with
        this. If we try, using <code>texexec --pdf
        example.tex</code>, we get messages like: 

        <blockquote>
          <code>Warning: pdfetex (file cdtt10): Font cdtt10 at 600
          not found</code>
        </blockquote>
        The <code>.pk</code> bitmap files have not yet been created
        and pdftex doesn't do it automatically. The files can be
        created with Metafont utilities, but I've found it easiest
        just to make a <code>.dvi</code> version of the document
        and let xdvi create the files automatically: 

        <blockquote>
<pre>
<code>texexec example.tex
xdvi example.dvi</code>
</pre>
        </blockquote>
        We see a series of messages like so: 

        <blockquote>
<pre>
<code>kpathsea: Running mktexpk --mfmode ljfour --bdpi 600 --mag 1+0/600 --dpi 600 cdtt10
mktexpk: Running mf \mode:=ljfour; mag:=1+0/600; nonstopmode; input cdtt10
</code>
</pre>
        </blockquote>
        On my system the <code>.pk</code> files are created in
        <code>texmf-var/fonts/pk/ljfour/public/duerer</code>. The
        xdvi window should show the test document with the Duerer
        fonts. 

        <p>Now we can get a PDF version using <code>texexec --pdf
        example.tex</code>. Don't zoom in too much!</p>

        <p>Here is a typescript for Duerer, using the techniques
        described elsewhere on this page. I don't specify any
        encodings because I'm not sure of how encodings work with
        Metafont files:</p>

        <blockquote>
<pre>
<code>% Typescript for the Duerer metafont typeface.
%
% The ``Informal'' is a serifed variation; I assign it to
% italic so that we can access both it and slanted in the same
% setup.
%
\starttypescript [serif] [duerer]
  \definefontsynonym [Duerer-Roman]       [cdr10]  
  \definefontsynonym [Duerer-Bold]        [cdb10]  
  \definefontsynonym [Duerer-Slanted]     [cdsl10] 
  \definefontsynonym [Duerer-Informal]    [cdi10] 
\stoptypescript

\starttypescript [sans] [duerer]
  \definefontsynonym [Duerer-Sans]        [cdss10]  
\stoptypescript

\starttypescript [mono] [duerer]
  \definefontsynonym [Duerer-Mono]        [cdtt10]  
\stoptypescript

\starttypescript [serif] [duerer] [name]
  \definefontsynonym [Serif]              [Duerer-Roman]
  \definefontsynonym [SerifBold]          [Duerer-Bold]
  \definefontsynonym [SerifSlanted]       [Duerer-Slanted]
  \definefontsynonym [SerifItalic]        [Duerer-Informal]
\stoptypescript

\starttypescript [sans] [duerer] [name]
  \definefontsynonym [Sans]               [Duerer-Sans]
\stoptypescript

\starttypescript [mono] [duerer] [name]
  \definefontsynonym [Mono]               [Duerer-Mono]
\stoptypescript

\starttypescript [Duerer] 
  \definetypeface [Duerer] [rm] [serif] [duerer] [default] 
  \definetypeface [Duerer] [ss] [sans] [duerer] [default] 
  \definetypeface [Duerer] [tt] [mono] [duerer] [default] 
\stoptypescript
</code>
</pre>
        </blockquote>
        Name this <code>type-duerer.tex</code> and place in the tex
        directory tree where <code>.tex</code> files are found. On
        my system I put typescripts in
        <code>~/texmf/tex/generic</code>. 

	<p>Run texhash.

        <p>And here is a test document similar to the one
        above:</p>

        <blockquote>
<pre>
<code>\usetypescriptfile[type-duerer]
\usetypescript[Duerer]
\setupbodyfont[Duerer]

\starttext
THIS IS COMPUTER DUERER ROMAN
{\bf BOLD}
{\sl SLANTED}
{\it INFORMAL}
{\ss SANS SERIF}
{\tt AND TYPEWRITER}
\stoptext
</code>
</pre>
        </blockquote>
        <strong>Important</strong>: before we can produce a PDF
        version we must <strong>again</strong> do the trick of
        making a <code>.dvi</code> version and having xdvi produce
        the <code>.pk</code> files. This is because the first plain
        tex example expects fonts at 600dpi, and the ConTeXt
        version at 720dpi. No doubt these defaults are
        configurable, but I haven't looked into that. If you set
        font sizes, say with <code>\setupbodyfont[30pt]</code> you
        must <strong>again</strong> generate the <code>.pk</code>
        files. This is cumbersome, but needs to be done only once
        for each font and size.
      </blockquote>
    </blockquote>

    <h2><a name="typography">Typography</a></h2>
    I use TeX to typeset books for print publication. Just as I am
    a beginning TeX user, so am I a beginning typographer and book
    designer (but a very serious one). 

    <p>My interest is in traditional forms suitable for novels and
    the like. All the examples I give below are intended for that
    use. I have generally followed the advice given by these
    authors:</p>

    <ul>
      <li>Robert Bringhurst, <em>The Elements of Typographic
      Style</em></li>

      <li>Jan Tschichold, <em>The Form of the Book</em></li>

      <li>Geoffrey Dowding, <em>Finer Points in the Spacing &amp;
      Arrangement of Type</em></li>
    </ul>

    <blockquote>
      <h3><a name="typography-wordspacing">Tight word
      spacing</a></h3>
      Do not insert extra space at the end of sentences. Use small
      paragraph indententation and do not use vertical spacing
      between parapgraphs. 

      <p>In plain TeX, tight spacing at the end of sentences is
      called <code>\frenchspacing</code>.</p>

      <blockquote>
<pre>
<code>\setupspacing[packed]   % normal word space at the end of sentences
\setupindenting[small]  % small paragraph indent; about 1em?
\setupwhitespace[none]  % no space between paragraphs
</code>
</pre>
      </blockquote>

      <h3><a name="typography-indenting">Indenting</a></h3>
      You can bring in the margins for a quotation or extract with
      <code>\startnarrower ... \stopnarrower</code>. The amount of
      indentation is in predefined units which are established
      separately for the left, right, and middle (which does both
      left and right by the same amount). For example, I could do
      something like: 

      <blockquote>
        <code>\setupnarrower[left=4em,right=2in,middle=3cm]</code>
      </blockquote>
      And then: 

      <blockquote>
<pre>
<code>\startnarrower[3*left]   % indents left margin 12em
\startnarrower[right]    % indents right margin 2 inches
\startnarrower[2*middle] % indents both margins 6 cm
</code>
</pre>
      </blockquote>
      The manual shows how to combine parameters. 

      <p><code>\startnarrower</code> without parameters is the same
      as <code>\startnarrower[middle]</code>.</p>

      <p>There is a reasonable default indentation size, but I
      don't know its exact dimension.</p>

      <h3><a name="typography-symbols">Using smaller
      symbols</a></h3>
      Dowding says that "&amp;" can be substituted for "and"
      wherever doing so improves the page. This is
      <strong>not</strong> a license to globally replace all such
      occurances; I use the technique only as a last resort to
      eliminate an overfull box. 

      <p>In the fonts I have used the full-height "&amp;" seems too
      large in body text, so I use a smaller version:</p>

      <blockquote>
        <code>\def\Ampersand{{\tfx \&amp;}}</code>
      </blockquote>
      The italic "&amp;" is often a fancier glyph and might be
      useful; or it might be too fancy for body text use. I would
      use the italic version in Computer Modern, but the regular
      glyph in Adobe Sabon. 

      <p>I also think the full-size "$" is too big in body text,
      and use a reduced version:</p>

      <blockquote>
        <code>\def\Dollar{{\tfx \$}}</code>
      </blockquote>

      <h3><a name="typography-dashes">Dashes</a></h3>
      The em-dash is too wide. Use a spaced en-dash instead: "
      <code>--</code> ". Depending on the context, it might be
      necessary to use a non-breaking space (~) on either side to
      prevent an unwanted line break. 

      <h3><a name="typography-letterspacing">Letterspacing capitals
      and small caps</a></h3>
      The experts say that strings of uppercase and small-cap words
      should be slightly letterspaced. I find that a very little
      spacing is "plenty." Sometimes it does not look right at all,
      and I omit it. Note that it is an offence against typography
      to letterspace lowercase letters. 

      <p>Since getting a tip from Hans Hagen, I have used these
      macros:</p>

      <blockquote>
<pre>
<code>\def\CapStretchAmount{.08em}
\def\CapStretch#1{\def\stretchedspaceamount{\CapStretchAmount}\stretchednormalcase{#1}}</code>
</pre>
      </blockquote>
      Which is used as so: 

      <blockquote>
        <code>\CapStretch{\sc The King in Yellow}</code>
      </blockquote>

      <h3><a name="typography-hanging">Margin kerning: Hanging
      punctuation and protruding characters</a></h3>
      The typography references say that a justified margin does
      not look "optically" straight when the characters are
      "mechanically" aligned to that margin, because some
      characters are too light to color the margin. The margin
      looks straighter if they are pushed farther into it. 

      <p>I have seen very few examples of this technique in the
      real world (other than photos of Gutenberg's Bible) so it is
      hard to judge its proper use. Experimentation and considered
      judgement are required.</p>

      <p>The technique is supported by pdfTeX and ConTeXt. See
      H&agrave;n Th&ecirc; Th&agrave;nh's dissertation: <em><a
      href=
      "http://www.pragma-ade.nl/pdftex/thesis.pdf">Micro-typographic
      extensions to the TEX typesetting system</a></em>, and
      <em>Fonts in ConTeXt</em> (<code>mfonts.pdf</code>).</p>

      <p>Note that in TeX the technique does not merely stretch the
      whitespace between words; it actually enters into the
      line-breaking algorithm and can greatly alter a paragraph's
      setting.</p>

      <p>ConTeXt comes with a couple of prededefined settings. You
      can see the definitions in <code>type-exa.tex</code> and
      <code>hand-def.tex</code>. To move the small puncuation marks
      a full em into the margin, use:</p>

      <blockquote>
        <code>\usetypescript [serif,sans,mono] [hanging]
        [pure]</code>
      </blockquote>
      To use a slightly less drastic style which also shifts
      alphabetic characters very slightly, use: 

      <blockquote>
        <code>\usetypescript [serif,sans,mono] [hanging]
        [thanh]</code>
      </blockquote>
      Margin kerning is enabled with something like: 

      <blockquote>
<pre>
<code>\usetypescript [serif,sans,mono] [hanging] [thanh]
\usetypescriptfile[type-sabon]
\usetypescript[Sabon]
\setupbodyfont[Sabon]
\setupalign[hanging]</code>
</pre>
      </blockquote>
      <strong>Important:</strong> The case for the default font,
      Computer Modern, is more complicated. Hanging alignment must
      be defined before the font is loaded, but Computer Modern is
      loaded before our definitions. The solution is to load it
      again after the definitions: 

      <blockquote>
<pre>
<code>\setupfontsynonym[cmr10][handling=pure]
\setupfontsynonym[Serif][handling=pure]
\setupfonthandling[normal][left=1,right=1]
\usetypescript[cmr] 
\setupbodyfont[10pt]</code>
</pre>
      </blockquote>
      You can customize your own settings. In fact, different fonts
      need different settings. For example, I added these lines to
      my <code>type-sabon.tex</code> file (stolen from
      <code>hand-def.tex</code>, still to be adapted): 

      <blockquote>
<pre>
<code>\startfonthandling [sabon]

  \defineprotrudefactor !  0  .2
  \defineprotrudefactor '  0  .7
  \defineprotrudefactor ` .7   0
  \defineprotrudefactor ( .05  0   
  \defineprotrudefactor )  0  .05
  \defineprotrudefactor [ .05  0   
  \defineprotrudefactor ]  0  .05
  \defineprotrudefactor ,  0  .7
  \defineprotrudefactor -  0  .7
  \defineprotrudefactor .  0  .7
  \defineprotrudefactor :  0  .5
  \defineprotrudefactor ;  0  .5

  \defineprotrudefactor rightupperninequote  0 .5
  \defineprotrudefactor leftupperninequote  .5  0 
  \defineprotrudefactor endash               0 .3  
  \defineprotrudefactor emdash               0 .2  

  \defineprotrudefactor hyphen               0 .7

  \defineprotrudefactor A .05 .05
  \defineprotrudefactor F  0  .05
  \defineprotrudefactor J .05   0
  \defineprotrudefactor K  0  .05  
  \defineprotrudefactor L  0  .05
  \defineprotrudefactor T .05 .05
  \defineprotrudefactor V .05 .05
  \defineprotrudefactor W .05 .05
  \defineprotrudefactor X .05 .05
  \defineprotrudefactor Y .05 .05
  
  \defineprotrudefactor k  0  .05 
  \defineprotrudefactor r  0  .05
  \defineprotrudefactor t  0  .05 
  \defineprotrudefactor v .05 .05
  \defineprotrudefactor w .05 .05
  \defineprotrudefactor x .05 .05
  \defineprotrudefactor y .05 .05

  % accented chars omitted from this example

\stopfonthandling

\starttypescript [serif] [hanging] [sabon]
  \setupfontsynonym [Serif]            [handling=sabon]
  % not handling these yet
  %\setupfontsynonym [SerifBold]        [handling=bold]
  %\setupfontsynonym [SerifSlanted]     [handling=slanted]
  %\setupfontsynonym [SerifItalic]      [handling=italic]
  %\setupfontsynonym [SerifBoldSlanted] [handling=boldslanted]
  %\setupfontsynonym [SerifBoldItalic]  [handling=bolditalic]
\stoptypescript</code>
</pre>
      </blockquote>
      Using these custom settings is just a matter of: 

      <blockquote>
<pre>
<code>\usetypescriptfile[type-sabon]
\usetypescript [serif] [hanging] [sabon] 
\usetypescript[Sabon]
\setupbodyfont[Sabon]
\setupalign[hanging]
</code>
</pre>
      </blockquote>
    </blockquote>

    <h2><a name="techniques">ConTeXt Techniques</a></h2>

    <blockquote>
      <h3><a name="techniques-startstop">Using \definestartstop for
      blockquotes</a></h3>
      New block structures can be defined with
      <code>\definestartstop</code>. For example, I use block
      quotes in text, and want: 

      <ul>
        <li>a blank line before and after</li>

        <li>an indent on the left</li>

        <li>ragged right justification</li>
      </ul>
      I define this with: 

      <blockquote>
<pre>
<code>\definestartstop[blockquote][
    before={\blank
        \startnarrower[left]
        \startalignment[right]}, % I lost this comma once and spent a day looking for it
    after={\stopalignment
        \stopnarrower
        \blank}]
</code>
</pre>
      </blockquote>
      Then, using a block quote is just a matter of: 

      <blockquote>
<pre>
<code>\startblockquote
...lots of text here
\stopblockquote
</code>
</pre>
      </blockquote>

      <h3><a name="techniques-marginnotes">Margin notes</a></h3>
      Here is how I use margin notes. 

      <p>First, reserve some space for them:</p>

      <blockquote>
<pre>
<code>\definepapersize[TradePaper][width=6in,height=9in]
\setuppapersize[TradePaper][TradePaper]

\setuplayout[topspace=0.45in, header=0.4in, footer=0.35in, height=8.125in]
\setuplayout[backspace=0.9375in, width=3.25in,
        rightmargindistance=.25in, rightmargin=1.125in,
        leftmargindistance=.25in, leftmargin=1.125in]

\setuppagenumbering[alternative=doublesided]
</code>
</pre>
      </blockquote>
      I define a useful macro: 

      <blockquote>
<pre>
<code>% marginal note, takes buffer name as argument
\def\MN#1{\strut\inmargin{\getbuffer[#1]}\strut}
</code>
</pre>
      </blockquote>
      Note: I'm not sure the <code>\strut</code> macros are
      required, but I put them in during development and have left
      them. 

      <p>I keep one document containing all of my margin notes as
      buffers, for example:</p>

      <blockquote>
<pre>
<code>\startbuffer[nebulae-m51]
\Messier{51} is in Canes Venatici and is about {\os 35} million 
light years distant.
\stopbuffer
</code>
</pre>
      </blockquote>
      Then in the main document I place the note using the buffer
      name: 

      <blockquote>
<pre>
<code>This form, previously known in Lord Rosse's great \quote{Whirlpool
Nebula,} had been supposed to\MN{nebulae-m51}
be exceptional; now the photographs, far excelling telescopic views in
the revelation of nebular forms, showed the spiral to be the typical
shape.
</code>
</pre>
      </blockquote>
      Here are <a href=
      "http://watershade.net/wmcclain/csky-sample.pdf">sample
      pages</a> showing how it comes out. <strong>Hint:</strong>
      best viewed with "Continuous -- Facing" in Adobe Acrobat
      Reader. 

      <p>Note: I use the named buffers because it helps organize a
      large project. You can use <code>\inmargin</code> directly,
      supplying the note text as the argument.</p>

      <p>Note: I put <code>\MN</code> at the end of the source
      lines to make them easy to find when browsing with an editor.
      Perhaps that is wrong; it might be better to put them in line
      and adjacent to a following work like so:</p>

      <blockquote>
<pre>
<code>had been supposed to \MN{nebulae-m51}be exceptional
</code>
</pre>
      </blockquote>
      This is based on my experience with <a href=
      "#techniques-index">\index placement</a> where care must be
      taken so that the macros do not disturb line breaking. That
      was what I was working on when I put the (possibly unneeded)
      <code>\strut</code> macros in my <code>\MN</code> macro. 

      <h3><a name="techniques-toc">Table of contents with different
      sections</a></h3>
      Often I need a Table of Contents where the entries are
      formatted differently depending on the part of the document
      they refer to. I first define some variations of
      <code>\chapter</code> so that each type has its own list: 

      <blockquote>
<pre>
<code>\def\Midpoint{\char183}

\definehead[FrontChapter][chapter]

\def\FrontChapterCommand#1#2{\startframedtext[frame=off, width=3.25in,
        offset=0pt, align=middle]#2\stopframedtext}

\setuphead[FrontChapter] 
        [number=yes, 
        style={\switchtobodyfont[15pt]},
        page=yes,
        header=empty,
        after={\blank[20pt]},
        align=middle,
        command=\FrontChapterCommand]

\definehead[BackChapter][chapter]

\def\BackChapterCommand#1#2{\startframedtext[frame=off, width=3.25in,
        offset=0pt, align=middle]#2\stopframedtext}

\setuphead[BackChapter] 
        [number=yes, 
        style={\switchtobodyfont[15pt]},
        page=yes,
        header=empty,
        after={\blank[20pt]},
        align=middle,
        command=\BackChapterCommand]

\def\ChapterCommand#1#2{\startframedtext[frame=off, width=3.25in,
        offset=0pt, align=middle, margin=no]#1~{\Midpoint}~#2\stopframedtext}

\setuphead[chapter] 
        [number=yes, 
        style={\switchtobodyfont[15pt]},
        page=yes,
        header=empty,
        after={\blank[20pt]},
        align=middle,
        command=\ChapterCommand]

\def\TitleCommand#1#2{\startframedtext[frame=off, width=3.25in,
        offset=0pt, align=middle]#2\stopframedtext}

\setuphead[title] 
        [number=yes, 
        style={\switchtobodyfont[15pt]},
        page=yes,
        header=empty,
        after={\blank[20pt]},
        align=middle,
        command=\TitleCommand]
</code>
</pre>
      </blockquote>
      In the document I use the types of chapter as needed: 

      <blockquote>
<pre>
<code>\FrontChapter{Introduction to the Annotated Edition}
...
\FrontChapter{Preface}
...
\startbodymatter
\chapter{The Windows of Absolute Night}
...etc...
\stopbodymatter
\BackChapter{Index}
...
</code>
</pre>
      </blockquote>
      Then in the place where the table of contents should go: 

      <blockquote>
<pre>
<code>\def\ContentFormat#1#2#3%
        {\startframedtext[frame=off, width=3.25in, offset=0pt]#1~{\Midpoint}~#2~{\Midpoint}~{\os #3}\stopframedtext}

\def\FrontContentFormat#1#2#3%
        {\startframedtext[frame=off, width=3.25in, offset=0pt]#2~{\Midpoint}~{\os #3}\stopframedtext}

\def\BackContentFormat#1#2#3%
        {\startframedtext[frame=off, width=3.25in, offset=0pt]#2~{\Midpoint}~{\os #3}\stopframedtext}

\title[Contents]{Contents}

\placelist[FrontChapter] 
        [criterium=content,
        alternative=none,
        command=\FrontContentFormat]

\placelist[chapter] 
        [criterium=content,
        alternative=none,
        command=\ContentFormat]

\placelist[BackChapter] 
        [criterium=content,
        alternative=none,
        command=\BackContentFormat]
</code>
</pre>
      </blockquote>
      Which produces something like this: 

      <blockquote>
<pre>
<code>         Contents

Introduction to the Annotated Edition * 5

Preface * 12

1 * The Windows of Absolute Night * 15

2 * Star-Clouds, Star-Clusters, and Star-Streams * 26

3 * Stellar Migrations * 41

4 * The Passing of the Constellations * 52

5 * Conflagrations in the Heavens * 63

6 * Explosive and Whirling Nebulae * 76

7 * The Banners of the Sun * 91

8 * The Zodiacal Light Mystery * 103

9 * Marvels of the Aurora * 113

10 * Strange Adventures of Comets * 125

11 * Meteors, Fire-Balls, and Meteorites * 138

12 * The Wrecking of the Moon * 154

13 * The Great Mars Problem * 168

14 * The Riddle of the Asteroids * 180

Index * 189
</code>
</pre>
      </blockquote>
      Note: in this example the FrontChapter and BackChapter have
      the same structure, but they could have been different. Any
      number of lists can be used. 

      <h3><a name="techniques-dropcaps">Dropped caps</a></h3>
      The ConTeXt source file <code>supp-fun.tex</code> contains
      macros for formatting dropped capital initials. For example,
      see the <a href=
      "http://watershade.net/wmcclain/csky-sample.pdf">sample
      pages</a> referenced previously. The first text line was
      formatted with: 

      <blockquote>
<pre>
<code>\def\MyDroppedCaps%
    {\DroppedCaps
        {} {texnansi-sar} {2\baselineskip} {2pt} {1\baselineskip} {2}}
...

\MyDroppedCaps O{\sc ne} of the most surprising triumphs of celestial photography was 
</code>
</pre>
      </blockquote>
      See the source code for documentation. Briefly,
      <code>\MyDroppedCaps</code> says: 

      <ul>
        <li>Use my Adobe Sabon Roman (texnansi-sar) font</li>

        <li>Make the letter two lines (2\baselineskip) high</li>

        <li>Offset text from the letter 2pts horizontally</li>

        <li>Offset the letter 1 line vertically</li>

        <li>Indent two lines following the letter</li>
      </ul>
      Note that if you are using the typescript definitions
      described elsewhere in this document, this macro works just
      as well and is typeface independent: 

      <blockquote>
<pre>
<code>\def\MyDroppedCaps%
    {\DroppedCaps
        {} {Serif} {2\baselineskip} {2pt} {1\baselineskip} {2}}
</code>
</pre>
      </blockquote>

      <h3><a name="techniques-layers">Positioning graphics with
      layers</a></h3>
      It is possible to directly position graphics by x-y
      coordinates on a page. I use this for creating book covers,
      as in this <a href=
      "http://watershade.net/wmcclain/csky-cover-large.jpg">thumbnail
      graphic</a>. This is the source for that image: 

      <blockquote>
<pre>
<code>\\definepapersize[TradePaper][width=6in,height=9in]
\setuppapersize[TradePaper][TradePaper]

\setuplayout[topspace=0in, header=0in, footer=0in, height=9in]
\setuplayout[backspace=0in, width=6in]

\setupcolors[state=start]
\input color

\useexternalfigure[cover-front-background][cover-front-background][type=pdf, width=6in]
\useexternalfigure[m51][m0051][type=png, width=2.6784in, height=3.9672in]
\useexternalfigure[daniels][daniels][type=png, width=1.6049in, height=4.795in]
\useexternalfigure[theophilus][theophilus][type=png, width=2.6784in, height=2.43280in]
\useexternalfigure[mars][marsphoto][type=png, width=1.6049in, height=1.6049in]

\definelayer[cover-front-background]
\definelayer[m51]
\definelayer[daniels]
\definelayer[theophilus]
\definelayer[mars]

\defineoverlay[cover-front-background][\composedlayer{cover-front-background}]
\defineoverlay[m51][\composedlayer{m51}]
\defineoverlay[daniels][\composedlayer{daniels}]
\defineoverlay[theophilus][\composedlayer{theophilus}]
\defineoverlay[mars][\composedlayer{mars}]

\setupbackgrounds[page][background={cover-front-background,m51,daniels,mars,theophilus}]

\setlayer[cover-front-background][x=0in,y=0in]{\externalfigure[cover-front-background]}
\setlayer[daniels][x=0.8333in,y=1.5in]{\externalfigure[daniels]}
\setlayer[m51][x=2.5382in,y=1.5in]{\externalfigure[m51]}
\setlayer[theophilus][x=2.5382in,y=5.5672in]{\externalfigure[theophilus]}
\setlayer[mars][x=0.8333in,y=6.395in]{\externalfigure[mars]}

\starttext
...lettering...
\stoptext
</code>
</pre>
      </blockquote>
      The above is perhaps confusing because I reuse the same
      labels for different purposes: graphics, layers, overlays.
      ConTeXt doesn't mind, so it is convenient in use, but not in
      learning. 

      <p>I believe names like these would work as well and possibly
      be more intelligible (not tested):</p>

      <blockquote>
<pre>
<code>\useexternalfigure[mars-graphic][marsphoto][type=png, width=1.6049in, height=1.6049in]
\definelayer[mars-layer]
\defineoverlay[mars-overlay][\composedlayer{mars-layer}]
\setupbackgrounds[page][background={...,mars-overlay,...}]
\setlayer[mars-layer][x=0.8333in,y=6.395in]{\externalfigure[mars-graphic]}
</code>
</pre>
      </blockquote>
      Note: I did not see a way to have both color and overlay
      backgrounds, so I created
      <code>cover-front-background.pdf</code> which is just a blank
      page with the proper color. I include it as the first overlay
      and the others get placed on top of it. 

      <h3><a name="techniques-index">\index placement</a></h3>
      This is a small issue but I spent a bit of time on it. The
      first time I added <code>\index</code> entries to my document
      I noticed that lines in some of the paragraphs were breaking
      differently, and not as well as before. Hans Hagen explained:
      

      <blockquote>
        List enties, index entries, color changes, marks, etc, all
        introduce nodes in the MVL. Since tex cannot look back when
        such a node is encountered, it will badly interfere with
        spacing. Also, since you want an index on the page where
        you are, by default a nobreak is added, which also
        interferes with spacing. 

        <p>The solution is simple: attach the index entry to the
        word that it belongs to.</p>
      </blockquote>
      So, do <strong>not</strong> do this: 

      <blockquote>
<pre>
<code>the one in the constellation Triangulum. \index{Triangulum} % WRONG
</code>
</pre>
      </blockquote>
      Do this instead: 

      <blockquote>
<pre>
<code>the one in the constellation \index{Triangulum}Triangulum.  % Correct
</code>
</pre>
      </blockquote>

      <h3><a name="techniques-cmdlineparam">Passing variables on
      the command line</a></h3>
      You can pass command-line variables to a TeX job and read
      them with the <code>\envvar</code> macro, which takes two
      arguments: 

      <ol>
        <li>The name of the variable.</li>

        <li>Value to use if the variable is not defined.</li>
      </ol>
      For example, if I have this in my job: 

      <blockquote>
<pre>
<code>\envvar{alpha} {there is no alpha}
</code>
</pre>
      </blockquote>
      I can pass a value with: 

      <blockquote>
<pre>
<code>texexec --arguments="alpha=Hello I am here"
</code>
</pre>
      </blockquote>
      Multiple variables can be specified like so: 

      <blockquote>
<pre>
<code>texexec --arguments="alpha=Hello I am here,beta=Goodbye I am going"      
</code>
</pre>
      </blockquote>
      Question: It seems to me that a comma cannot be part of the
      variable text, else the parser becomes confused. Is there
      another level of quoting that would allow this? 

      <h3><a name="techniques-linenumbers">Line numbers</a></h3>
      Lines can be numbered with <code>\startlinenumbering ...
      \stoplinenumbering</code> around the text of interest. 

      <p>However, there is a limit to how many lines can be
      numbered because the technique builds a vbox which has a
      maximum size. Exceeding that generates a run-time error. The
      solution is simple: every so often break the text into blocks
      with <code>\startlinenumbering[continue] ...
      \stoplinenumbering</code>. This will produce continuous line
      numbering without limit.</p>

      <h3><a name="techniques-italic">Using italics for default
      emphasis</a></h3>
      By default, for fonts that have slanted variants, the
      <code>\em</code> directive will produce slanted characters.
      If you would rather have italic characters: 

      <blockquote>
        <code>\setupbodyfontenvironment[default][em=italic]</code>
      </blockquote>
      Note that in many typefaces the slanted definitions are
      synonyms for the italic variants, so that <code>\em</code>
      and <code>\it</code> and <code>\sl</code> all produce the
      same italic characters.
    </blockquote>

    <h2><a name="fontsite">FontSite-500 CD</a></h2>
    <a href="http://www.fontsite.com/">FontSite</a> sells a large
    collection of Type1 and TrueType fonts for $29.95. You can see
    both <a href=
    "http://www.fontsite.com/Media/CDoffer/catalog02.pdf.zip">PDF</a>
    and <a href=
    "http://www.fontsite.com/Pages/OrderForm/fontlist.html">text</a>
    catalogs of the fonts included. 

    <p>I've developed a set of scripts to automatically define
    these fonts for ConTeXt, using <code>texfont</code>. All of the
    scripts described in this section are packaged together into
    this <a href=
    "http://watershade.net/wmcclain/fontsite-context.zip">archive</a>.
    (On Linux unpack with <code>unzip -a</code>).</p>

    <p>I was inspired by Christopher League's <a href=
    "http://contrapunctus.net/fs500tex/">TeX support for the
    FontSite 500 CD</a> which provides LaTeX support for the fonts.
    He also has a <a href=
    "http://contrapunctus.net/league/haques/fs500tex/fs500tex.pdf">PDF
    catalog</a> of the fonts his package supports.</p>

    <p><strong>Important Note:</strong> My effort is <strong>much
    less ambitious</strong> than Christopher League's. Where he has
    collected the fonts into useful family packages, I have simply
    done a direct coversion of the FontSite directories into a form
    that ConTeXt can access. Making more complex family definitions
    requires hand editing that I do not have time for. However, the
    basic definitions provide the components needed for family
    definitions and I will try to provide better examples of such
    later.</p>

    <p>The effort is limited by what can reasonably be
    automated:</p>

    <ul>
      <li>The original font directories each have at most four font
      files. With some effort these are mapped to regular, italic,
      bold and bold-italic styles.</li>

      <li>All fonts are represented as Serif in the typescripts,
      even the sans serif, blackletter and decorative fonts. I
      think this is reasonable, if inelegant. None of the fonts fit
      into a multi-style family, so switching between <code>\rm,
      \ss,</code> etc, is not important.</li>
    </ul>

    <p>The fonts are mainly derived from Softmaker/ATF. Several are "near"
    copies of famous fonts and are given new names.  Apparently this is
    legal. Whether or not it is ethical I will leave for another day. Here is
    a table giving the FontSite and more common names of some of the fonts
    (mostly taken from Christopher League's notes). If anyone knows of other
    "alias" copies on the CD, please <a href=
    "mailto:wmcclain@watershade.net?SUBJECT=FontSite%20names">let me
    know</a>.</p>

    <blockquote>
      <table summary="font name map">
        <tr>
          <th>FontSite</th>

          <th>Common name</th>
        </tr>

        <tr>
          <td>Avalon</td>

          <td>Avant Garde Gothic</td>
        </tr>

        <tr>
          <td>Basel</td>

          <td>Basilia</td>
        </tr>

        <tr>
          <td>Benjamin Gothic</td>

          <td>Benguiat Gothic</td>
        </tr>

        <tr>
          <td>Bergamo</td>

          <td>Bembo</td>
        </tr>

        <tr>
          <td>Chantilly</td>

          <td>Gill Sans</td>
        </tr>

        <tr>
          <td>Function</td>

          <td>Futura</td>
        </tr>

        <tr>
          <td>Gareth</td>

          <td>Galliard</td>
        </tr>

        <tr>
          <td>Glytus</td>

          <td>Glypha</td>
        </tr>

        <tr>
          <td>Jenson Recut</td>

          <td>Centaur</td>
        </tr>

        <tr>
          <td>Jessica</td>

          <td>Joanna</td>
        </tr>

        <tr>
          <td>Latino</td>

          <td>Melior</td>
        </tr>

        <tr>
          <td>Melville</td>

          <td>Murray Hill ATF</td>
        </tr>

        <tr>
          <td>Microsquare</td>

          <td>Eurostyle, Microgamma</td>
        </tr>

        <tr>
          <td>Opus</td>

          <td>Optima</td>
        </tr>

        <tr>
          <td>Palladio</td>

          <td>Palatino</td>
        </tr>

        <tr>
          <td>Savoy</td>

          <td>Sabon</td>

        <tr>
          <td>Schnittger</td>

          <td>Schneidler</td>
        </tr>

        <tr>
          <td>Serific</td>

          <td>Serifa</td>
        </tr>

        <tr>
          <td>Struktur</td>

          <td>Syntax</td>
        </tr>

        <tr>
          <td>Typewriter</td>

          <td>American Typewriter ITC</td>
        </tr>

        <tr>
          <td>Unitas</td>

          <td>Univers</td>
        </tr>

        <tr>
          <td>University Old Style</td>

          <td>Berkeley Old Style</td>
        </tr>

      </table>
    </blockquote>
    I use Python programs to generate shell scripts which do the
    actual installation. I have included the generated shell
    scripts themselves for those who don't want to run Python. They
    are specific to my Linux system, but might be useful to someone
    who wanted to do global search-and-replace on the directory
    names, or to cut out the sections dealing with specific fonts
    and experiment with them. Note that it would be easy to adapt
    the Python programs to do the installation directly, but I
    thought it would be convenient to have the shell scripts. 

    <p><strong>A note on encoding:</strong> The Python scripts take
    an optional <code>--encoding=</code> flag.
    <code>texnansi</code> is the default and is the only encoding I
    have used.</p>

    <p>I also include the generated <code>.map</code> and
    <code>.tex</code> typescript files so you can see what is in
    them. Obviously, you need to buy the FontSite CD to get the
    <code>.pfb</code> and <code>.afm</code> files. Running
    <code>texfont</code> will recreate the <code>.map</code> files,
    but after that you can use the supplied <code>.tex</code>
    typescript files or generate your own with the scripts.</p>

    <p>My invoice from FontSite contained a link to two updated
    fonts. Instructions for dealing with them are given below.</p>

    <blockquote>
      <h3><a name="fontsite-filelist">Archive file list</a></h3>
      Here is a summary of the files in the archive: 

      <blockquote>
        <dl>
          <dt><code>fontsite.py</code></dt>

          <dd>Generate a shell script which will run
          <code>texfont</code> on a series of font directories. Run
          without parameters or with <code>--help</code> to see a
          usage display.</dd>

          <dt><code>fontsite-cd.sh</code></dt>

          <dd>Shell script generated by <code>fontsite.py</code>
          which installs all fonts on the FontSite CD.</dd>

          <dt><code>fontsite-opussmallcaps.sh,
          fontsite-urwgrotesk.sh</code></dt>

          <dd>Shell scripts generated by <code>fontsite.py</code>
          which install updated fonts downloaded from the FontSite
          web pages.</dd>

          <dt><code>fontsite-typescripts.py</code></dt>

          <dd>Create ConTeXt <code>.tex</code> typescript files for
          all FontSite fonts in a directory struture. Run without
          parameters or with <code>--help</code> to see a usage
          display.</dd>

          <dt><code>fontsite-sampler.py</code></dt>

          <dd>Generate a <code>.tex</code> file which prints a
          sample line for each FontSite font. Does not use
          typescripts in an effort to save time and memory. Run
          with <code>--help</code> to see a usage display.</dd>

          <dt><code>fontsite-sampler-ah.tex,
          fontsite-sampler-iz.tex</code></dt>

          <dd>These are outputs from
          <code>fontsite-sampler.py</code>. I use two output files
          because all the fonts in one job together cause some sort
          of overflow and I'm too lazy to figure out how to expand
          my TeX resources. In these versions I have commented out
          the fonts that aren't working yet.</dd>

          <dt><code>config/*</code></dt>

          <dd>The pdftex <code>.map</code> files generated by
          <code>texfont</code> during the installation.</dd>

          <dt><code>generic/*</code></dt>

          <dd>The ConTeXt typescript <code>.tex</code> files
          generated by <code>fontsite-typescripts.py</code> during
          the installation.</dd>
        </dl>
      </blockquote>

      <h3><a name="fontsite-installation">Installation</a></h3>
      Here is how I installed the FontSite fonts on my system.
      There are some error messages; see <a href=
      "fontsite-problems">Problems</a> below. 

      <p>Note these directories:</p>

      <blockquote>
        <dl>
          <dt><code>~</code></dt>

          <dd><code>/home/wmcclain</code>, my home directory</dd>

          <dt><code>~/texmf</code></dt>

          <dd>my local TeX tree</dd>

          <dt><code>~/install/fonts/fontsite</code></dt>

          <dd>contains the Python programs</dd>

          <dt><code>~/install/fonts/fontsite/logs</code></dt>

          <dd>working directory, contains shell scripts, logs, and
          <code>texfont</code> sample job files</dd>

          <dt><code>/tmp/fonts</code></dt>

          <dd>scratch directory for temporary files</dd>
        </dl>
      </blockquote>
      This will run <code>texfont</code> on all Type1 fonts on the
      CD. It copies the <code>.pfb</code> files and creates the
      <code>.tfm</code> and <code>.map</code> files: 

      <blockquote>
<pre>
<code>mount /cdrom
cd ~/installs/fonts/fontsite/logs
rm /tmp/fonts/*
../fontsite.py --sourcepath="/cdrom/Type 1" --fontroot=~/texmf --scratch=/tmp/fonts &gt; fontsite-cd.sh
chmod +x fontsite-cd.sh
./fontsite-cd.sh &gt; fontsite-cd.log 2&gt;&amp;1
umount /cdrom
</code>
</pre>
      </blockquote>
      I downloaded the FontSite archive of two updated fonts to
      <code>~/installs/fonts/fontsite/updated_fonts_PC.zip</code>.
      Note there is a trick to unzipping this file. All the
      contents are marked "text" but the <code>.pfb</code> files
      must be unzipped as binary and the <code>.afm</code> files
      must be unzipped as text. We do it in two steps: 

      <blockquote>
<pre>
<code>cd ~/installs/fonts/fontsite
unzip updated_fonts_PC.zip *.pfb
unzip -a updated_fonts_PC.zip *.afm
</code>
</pre>
      </blockquote>
      The update files are not named consistently with the CD and
      we have to fix the names. This is easier than making
      <code>fontsite.py</code> try to understand all the
      variations. 

      <p>Note that "Opus Sm Caps" had some name changes from the
      CD, so we first delete the original files in the
      <code>~/texmf</code> tree, else confusion reigns.</p>

      <p>Fix the names and install the fonts as for the CD:</p>

      <blockquote>
<pre>
<code>cd "updated_fonts_PC/Opus Sm Caps"
mv OPUSSCB_.pfb OPUSSCB_.PFB
mv OPUSSC__.pfb OPUSSC__.PFB

cd ~/installs/fonts/fontsite/logs
../fontsite.py --sourcepath="/home/wmcclain/installs/fonts/fontsite/updated_fonts_PC/Opus Sm Caps" --fontroot=~/texmf --scratch=/tmp/fonts &gt; fontsite-opussmallcaps.sh
chmod +x fontsite-opussmallcaps.sh
rm -r ~/texmf/fonts/*/fontsite/opussmcaps
./fontsite-opussmallcaps.sh &gt; fontsite-opussmallcaps.log 2&gt;&amp;1

cd "/home/wmcclain/installs/fonts/fontsite/updated_fonts_PC/URWGrotesk/"
mkdir afm
mv *.afm afm
mv URWGBI__.pfb URWGBI__.PFB
mv URWGB___.pfb URWGB___.PFB
mv URWGHHI_.pfb URWGHHI_.PFB
mv URWGHH__.pfb URWGHH__.PFB
mv URWGI___.pfb URWGI___.PFB
mv URWGRG__.pfb URWGRG__.PFB
mv URWGSCB_.pfb URWGSCB_.PFB
mv URWGSCRG.pfb URWGSCRG.PFB

cd ~/installs/fonts/fontsite/logs
../fontsite.py --sourcepath="/home/wmcclain/installs/fonts/fontsite/updated_fonts_PC/URWGrotesk" --fontroot=~/texmf --scratch=/tmp/fonts &gt; fontsite-urwgrotesk.sh
chmod +x fontsite-urwgrotesk.sh
./fontsite-urwgrotesk.sh &gt; fontsite-urwgrotesk.log 2&gt;&amp;1
</code>
</pre>
      </blockquote>
      Lines in the FSBaskerville <code>.map</code> file were
      missing the postscript name field. This confuses
      <code>fontsite-typescripts.py</code> so I make a new version
      of the file. However: the font doesn't work, so there is
      another problem as yet unresolved. 

      <blockquote>
<pre>
<code>cat &gt; ~/texmf/pdftex/config/texnansi-fontsite-fsbaskerville.map &lt;&lt;EOD
% Postscript names added by Bill McClain, Oct 18 2002
%
% This file is generated by the TeXFont Perl script.
%
% You need to add the following line to pdftex.cfg:
%
%   map +texnansi-fontsite-fsbaskerville.map
%
% Alternatively in your TeX source you can say:
%
%   \pdfmapfile{+texnansi-fontsite-fsbaskerville.map}
%
% In ConTeXt you can best use:
%
%   \loadmapfile[texnansi-fontsite-fsbaskerville.map]

texnansi-raw-baskb FSBaskerville-Bold 4 &lt; baskb___.pfb texnansi.enc
texnansi-raw-baskbi FSBaskerville-BoldItalic 4 &lt; baskbi__.pfb texnansi.enc
texnansi-raw-baski FSBaskerville-Italic 4 &lt; baski___.pfb texnansi.enc
texnansi-raw-baskrg FSBaskerville-Regular 4 &lt; baskrg__.pfb texnansi.enc
EOD
</code>
</pre>
      </blockquote>
      Same for Toxica. Also doesn't work. 

      <blockquote>
<pre>
<code>cat &gt; ~/texmf/pdftex/config/texnansi-fontsite-toxica.map &lt;&lt;EOD
% Postscript name added by Bill McClain, Oct 18 2002
%
% This file is generated by the TeXFont Perl script.
%
% You need to add the following line to pdftex.cfg:
%
%   map +texnansi-fontsite-toxica.map
%
% Alternatively in your TeX source you can say:
%
%   \pdfmapfile{+texnansi-fontsite-toxica.map}
%
% In ConTeXt you can best use:
%
%   \loadmapfile[texnansi-fontsite-toxica.map]

texnansi-raw-toxica Toxica 4 &lt; toxica__.pfb texnansi.enc
EOD
</code>
</pre>
      </blockquote>
      Generate the ConTeXt typescript file for every FontSite font.
      Note that we have to specify directories within the
      <code>~/texmf</code> tree. 

      <blockquote>
<pre>
<code>cd ~/installs/fonts/fontsite/logs
../fontsite-typescripts.py --maproot=~/texmf/pdftex/config --tfmroot=~/texmf/fonts/tfm/fontsite --outdir=~/texmf/tex/generic/ 
texhash
</code>
</pre>
      </blockquote>
      Create jobs to display a sample line of each font. These jobs
      don't use the typescripts, but the typescript techniques
      described elsewhere in this document may now be used to
      access the fonts. 

      <blockquote>
<pre>
<code>ls ~/texmf/tex/generic/type-fontsite-[a-h]*.tex | ./fontsite-sampler.py --size=30 --phrase="Curiosities of the Sky" &gt; fontsite-sampler-ah.tex
ls ~/texmf/tex/generic/type-fontsite-[i-z]*.tex | ./fontsite-sampler.py --size=30 --phrase="Curiosities of the Sky" &gt; fontsite-sampler-iz.tex
</code>
</pre>
      </blockquote>

      <h3><a name="fontsite-problems">Problems</a></h3>

      <ul>
        <li>
          When running <code>texfont</code> many fonts produce
          messages like this: 

          <blockquote>
<pre>
<code>kern char not found
KPX .notdef A -33
</code>
</pre>
          </blockquote>
          I presume these are diagnostics from <code>afm2tfm</code>
          which refer to missing glyphs. The resulting fonts are
          still usuable, but perhaps not complete?
        </li>

        <li>
          Font "Celt" does not work. When I access it with
          <code>\font=</code> or by running the example job that
          <code>texfont</code> produces I get: 

          <blockquote>
<pre>
<code>Error: pdfetex (file /home/wmcclain/texmf/fonts/type1/fontsite/celt/celt____.pf
b): buffer overflow [8192 bytes]
</code>
</pre>
          </blockquote>
          Perhaps I need to expand some resource?
        </li>

        <li>
          As mentioned in the Installation section above, these
          fonts did not have postscript names in their
          <code>.map</code> files: 

          <ul>
            <li>FSBaskerville-Bold</li>

            <li>FSBaskerville-BoldItalic</li>

            <li>FSBaskerville-Italic</li>

            <li>FSBaskerville-Regular</li>

            <li>Toxica</li>
          </ul>
          I added postscript name fields, but when accessing with
          <code>\font=</code> the output is blank, and when running
          the example job that <code>texfont</code> produces I get:
          

          <blockquote>
<pre>
<code>! Arithmetic overflow.
&lt;recently read&gt; \openlineheight 
                                
\dogetnoflines ...\noflinesheight \openlineheight 
                                                  \noflines \noflinesheight ...

\setvsize ...linsertionheight \getnoflines \vsize 
                                                  \vsize \noflines \openline...

\flushcolumnedpage ...height \zeropoint \setvsize 
                                                  \dosomebreak \nobreak \pre...

\balancedmulticolumnsout ...ue \flushcolumnedpage 
                                                  \allowbreak \egroup 
&lt;output&gt; {\balancedmulticolumnsout 
                                   }
...
l.8 \ShowFont[][texnansi-baskb][texnansi]
</code>
</pre>
          </blockquote>
          Note: the "FSBaskerville-Expert" fonts are ok, and the
          collection also contains "NewBaskerville" fonts which
          work.
        </li>

        <li>The font "DeannaBorders" also shows the previous
        errors, even though its <code>.map</code> file looks
        ok.</li>
      </ul>
    </blockquote>

    <h2><a name="old-installation">Old Installation</a></h2>
    I originally used the TeX installation that came with the SuSE
    Linux distribution. I have since switched to the TexLive
    distribution to be more in line with the rest of the TeX world.
    

    <p>Here are my original installation notes. SuSE 8.1 was the
    last time I used the TeX provided with that installation.</p>
    <hr>
    SuSE Linux comes with both ConTeXt and pdfTeX, but these
    packages are updated rather frequently and it is necessary to
    upgrade without waiting for SuSE. 

    <p>These notes are not a replacement for the real installation
    docs! I just show what I actually do when upgrading.</p>

    <p>I do the upgrade in the main TeX tree:
    <code>/usr/share/texmf</code>. If I were ambitious I would test
    in some auxiliary directory first, but I haven't had much
    trouble yet. I have backups and am able to reinstall pretty
    quickly.</p>

    <blockquote>
      <h3><a name="install-old-context">ConTeXt</a></h3>
<pre>
<code>su root

mv cont-tmf.zip /usr/share/texmf
cd /usr/share/texmf
rm /usr/share/texmf/tex/context/base/*
unzip -a -L -o cont-tmf.zip  # overwrites existing files!

# SuSE wants the executables here...
# Note: in SuSE 7.2 the files were placed in .../i386-linux-glibc/ 
#       As of SuSE 8.1, they are in .../i386-linux-libc6/
#
#       Also in 8.1, the links seemed incorrect to me, so I have added
#       a few new steps to try to correct them.
#
rm /usr/share/texmf/teTeX/bin/i386-linux-libc6/texexec
rm /usr/share/texmf/teTeX/bin/i386-linux-libc6/texshow
rm /usr/share/texmf/teTeX/bin/i386-linux-libc6/texutil
rm /usr/share/texmf/teTeX/bin/i386-linux-libc6/texfont
rm /usr/share/texmf/teTeX/bin/i386-linux-libc6/texfind
rm /usr/share/texmf/teTeX/bin/i386-linux-libc6/fdf2tan
rm /usr/share/texmf/teTeX/bin/i386-linux-libc6/makempy
rm /usr/share/texmf/teTeX/bin/i386-linux-libc6/mptopdf
cp context/perltk/texexec.pl /usr/share/texmf/teTeX/bin/i386-linux-libc6/texexec
cp context/perltk/texshow.pl /usr/share/texmf/teTeX/bin/i386-linux-libc6/texshow
cp context/perltk/texutil.pl /usr/share/texmf/teTeX/bin/i386-linux-libc6/texutil
cp context/perltk/texfont.pl /usr/share/texmf/teTeX/bin/i386-linux-libc6/texfont
cp context/perltk/texfind.pl /usr/share/texmf/teTeX/bin/i386-linux-libc6/texfind
cp context/perltk/fdf2tan.pl /usr/share/texmf/teTeX/bin/i386-linux-libc6/fdf2tan
cp context/perltk/makempy.pl /usr/share/texmf/teTeX/bin/i386-linux-libc6/makempy
cp context/perltk/mptopdf.pl /usr/share/texmf/teTeX/bin/i386-linux-libc6/mptopdf
chmod +x /usr/share/texmf/teTeX/bin/i386-linux-libc6/texexec
chmod +x /usr/share/texmf/teTeX/bin/i386-linux-libc6/texshow
chmod +x /usr/share/texmf/teTeX/bin/i386-linux-libc6/texutil
chmod +x /usr/share/texmf/teTeX/bin/i386-linux-libc6/texfont
chmod +x /usr/share/texmf/teTeX/bin/i386-linux-libc6/texfind
chmod +x /usr/share/texmf/teTeX/bin/i386-linux-libc6/fdf2tan
chmod +x /usr/share/texmf/teTeX/bin/i386-linux-libc6/makempy
chmod +x /usr/share/texmf/teTeX/bin/i386-linux-libc6/mptopdf

# Edit texexec.ini afterwards?
cp /usr/share/texmf/context/config/texexec.rme /usr/share/texmf/context/config/texexec.ini

# Edit cont-sys.tex afterwards?
cp /usr/share/texmf/tex/context/user/cont-sys.rme /usr/share/texmf/tex/context/user/cont-sys.tex

texhash
texexec --make en  # en = english
texhash

exit # from "su root"
</code>
</pre>

      <h3><a name="install-old-pdftex">pdfTeX</a></h3>
<pre>
<code>cp pdftex-20010417.tgz /tmp   # or whatever the latest snapshot is called
cd /tmp
tar zxvf pdftex-20010417.tgz  # or whatever the latest snapshot is called
cd src
configure
cd texk/web2c
make pdftexbin # may need "tangle" from previous build

su root

cp *.pool /usr/share/texmf/web2c

# SuSE wants the executables here...
# Note: in SuSE 7.2 the files were placed in .../i386-linux-glibc/ 
#       As of SuSE 8.1, they are in .../i386-linux-libc6/
#
cp pdftex /usr/share/texmf/teTeX/bin/i386-linux-libc6
cp pdfetex /usr/share/texmf/teTeX/bin/i386-linux-libc6
cp ttf2afm /usr/share/texmf/teTeX/bin/i386-linux-libc6

# first time only, add this to /etc/profile.local:
#
#    export TEXMFCNF=`kpsewhich -show-path=.cnf`

texhash
texexec --make en
texhash

exit # from "su root"
</code>
</pre>
    </blockquote>
    <hr>
    <a href="mailto:wmcclain@watershade.net">Comments?</a> 

    <address>
      Bill McClain (wmcclain@watershade.net)
    </address>
  </body>
</html>

