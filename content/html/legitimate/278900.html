<!DOCTYPE HTML>
<html>
<head>

    <title>Inferno FAQ for the 4th Edition</title>

    <link rel="stylesheet" href="/pub/style/style.css" type="text/css" media="screen, handheld" title="default">
    <link rel="shortcut icon" href="/favicon.ico" type="image/vnd.microsoft.icon">
    <link rel="stylesheet" href="/_werc/pub/style.css" type="text/css" media="screen" title="default">

    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 



    

</head>
<body>

<header>
    <nav>
    <div class="left">
      <a href="http://quotes.cat-v.org">quotes</a> |
      <a href="http://doc.cat-v.org">docs</a> |
      <a href="http://repo.cat-v.org">repo</a> |
      <a href="http://go-lang.cat-v.org">golang</a> |
      <a href="http://sam.cat-v.org">sam</a> |
      <a href="http://man.cat-v.org">man</a> |
      <a href="http://acme.cat-v.org">acme</a> |
      <a href="http://glenda.cat-v.org">Glenda</a> |
      <a href="http://ninetimes.cat-v.org">9times</a> |
      <a href="http://harmful.cat-v.org">harmful</a> |
      <a href="http://9p.cat-v.org/">9P</a> |
      <a href="http://cat-v.org">cat-v.org</a>
    </div>

    <div class="right">

      <span class="doNotDisplay">Related sites:</span>
      | <a href="http://cat-v.org/update_log">site updates</a>
      | <a href="/sitemap">site map</a> |

    </div>

    </nav>
    <h1><a href="/">/sys/doc/ <span id="headerSubTitle">Documentation archive</span></a></h1>
</header>

    <nav id="side-bar">
        <div>
<p class="sideBarTitle">Sections:</p>
<ul>
<li><a href="/bell_labs/">&rsaquo; bell labs/</a></li>
<li><a href="/economics/">&rsaquo; economics/</a></li>
<li><a href="/feynman/">&rsaquo; feynman/</a></li>
<li><a href="/henry_spencer/">&rsaquo; henry spencer/</a></li>
<li><a href="/inferno/" class="thisPage">&raquo;<i> inferno/</i></a></li>
<li><ul>
<li><a href="/inferno/4th_edition/">&rsaquo; 4th edition/</a></li>
<li><a href="/inferno/books/">&rsaquo; books/</a></li>
<li><a href="/inferno/concurrent_gc/">&rsaquo; concurrent gc/</a></li>
<li><a href="/inferno/historical_documents/" class="thisPage">&raquo;<i> historical documents/</i></a></li>
<li><ul>
<li><a href="/inferno/historical_documents/byte">&rsaquo; byte</a></li>
<li><a href="/inferno/historical_documents/faq" class="thisPage">&raquo;<i> faq</i></a></li>
<li><a href="/inferno/historical_documents/mailing_lists/">&rsaquo; mailing lists/</a></li>
<li><a href="/inferno/historical_documents/website/">&rsaquo; website/</a></li>
</ul></li>
<li><a href="/inferno/java_on_dis/">&rsaquo; java on dis/</a></li>
<li><a href="/inferno/manual_pages/">&rsaquo; manual pages/</a></li>
<li><a href="/inferno/pathstar/">&rsaquo; pathstar/</a></li>
<li><a href="/inferno/ports/">&rsaquo; ports/</a></li>
<li><a href="/inferno/talks/">&rsaquo; talks/</a></li>
<li><a href="/inferno/translations/">&rsaquo; translations/</a></li>
</ul></li>
<li><a href="/plan_9/">&rsaquo; plan 9/</a></li>
<li><a href="/political_science/">&rsaquo; political science/</a></li>
<li><a href="/programming/">&rsaquo; programming/</a></li>
<li><a href="/unix/">&rsaquo; unix/</a></li>
<li><a href="/xml/">&rsaquo; xml/</a></li>
</ul>
        </div>
        <div>
<ul>
<li><a href="http://man.cat-v.org/inferno/">- Inferno Man Pages</a></li>
<li><a href="http://ninetimes.cat-v.org">- NineTimes News</a></li>
</ul>
        </div>
    </nav>

<article>

<BASEFONT SIZE="3" FACE="Arial, Helvetica" COLOR="#000000">
<H2 ALIGN="CENTER">Inferno FAQ for the 4th Edition</H2>
<HR><H4 ALIGN="CENTER">Last modified: Wed Oct 7 21:11:48 CEST 2009
</H4>

<H4>[Inspiration]

</H4>
<UL>
<LI><A HREF="#1">What?

</A>
<LI><A HREF="#2">Why?

</A>
<LI><A HREF="#3">How?

</A>
<LI><A HREF="#4">Where?

</A>
</UL>
<H4>[Availability]

</H4>
<UL>
<LI><A HREF="#5">What is the licence for Inferno and how much does it cost?

</A>
<LI><A HREF="#6">How can I run Inferno on my OS?

</A>
<LI><A HREF="#7">Can I run Inferno directly on my PC?

</A>
<LI><A HREF="#8">What hardware architectures are supported?

</A>
<LI><A HREF="#9">Is there a mailing list?

</A>
<LI><A HREF="#10">Where is the current faq?

</A>
</UL>
<H4>[Parts]

</H4>
<UL>
<LI><A HREF="#11">What is in there?

</A>
<LI><A HREF="#12">How can I program it?

</A>
<LI><A HREF="#13">How are Inferno binaries run?

</A>
<LI><A HREF="#14">What is the "size" of Inferno?

</A>
<LI><A HREF="#15">Is Unicode supported?

</A>
</UL>
<H4>[Goal]

</H4>
<UL>
<LI><A HREF="#16">What is the intended end-user environment?

</A>
<LI><A HREF="#17">What are the design principles?

</A>
</UL>
<H4>[Installation]

</H4>
<UL>
<LI><A HREF="#18">How can I install Inferno?

</A>
<LI><A HREF="#19">What's new in 4th edition Inferno?

</A>
</UL>
<H4>[Usability]

</H4>
<UL>
<LI><A HREF="#20">Where can I find documentation?

</A>
<LI><A HREF="#21">What kind of security is provided by Inferno?

</A>
<LI><A HREF="#22">Where are my usual applications in Inferno?

</A>
<LI><A HREF="#23">What are those directories in the inferno root?

</A>
<LI><A HREF="#24">Why does 'ls' show some directories twice?

</A>
<LI><A HREF="#25">Where is PATH?

</A>
<LI><A HREF="#26">How can I compile and run my Limbo programs?

</A>
</UL>
<H4>[Names, roots]

</H4>
<UL>
<LI><A HREF="#27">What about the names?

</A>
<LI><A HREF="#28">What is the history of Inferno?

</A>
</UL>
<H4>[Limbo]

</H4>
<UL>
<LI><A HREF="#29">How do I implement the "Hello, World" program?
</A>
<LI><A HREF="#30">What is a module?

</A>
<LI><A HREF="#31">I am having problems creating synthetic files with file2chan.

</A>
<LI><A HREF="#32">Can you directly compare structured types (e.g., tuples, lists)?

</A>
<LI><A HREF="#33">I am getting compiler errors accessing members of an array. 

</A>
<LI><A HREF="#34">Can I "unload" a module to free memory it is occupying ?


</A>
</UL>
<A NAME="1"></A>
<HR><B>What?

</B><P>

<ul>
<li>
clean and consistent method
<li>
security provided
<li>
real ability of distributability
</ul>

<A NAME="2"></A>
<P>
<HR><B>Why?

</B><P>

<ul>
<li>
see the result of a successful step of IT evolution
<li>
use the result
</ul>

<A NAME="3"></A>
<P>
<HR><B>How?

</B><P>

<ul>
<li>
issues are taken care of, where they have to be taken care of
<li>
there are no partial ideas, modulo research trips
</ul>

<A NAME="4"></A>
<P>
<HR><B>Where?

</B><P>

<ul>
<li>
<a href="http://www.vitanuova.com/inferno/index.html">http://www.vitanuova.com/inferno/index.html</a>
</ul>

<P>
<A NAME="5"></A>
<HR><B>What is the licence for Inferno and how much does it cost?

</B><P>

Currently there are 2 ways to use Inferno. One is free the other is not. You get the same software, the difference is only in the way you are allowed to use it. It's your decision which licence you choose. Have a look at 
<a href="http://www.vitanuova.com/inferno/licence.html">http://www.vitanuova.com/inferno/licence.html</a> .

<A NAME="6"></A>
<P>
<HR><B>How can I run Inferno on my OS?

</B><P>

Inferno can be run in an emulation environment. This is the preferred way to do development. Inferno runs as a separate program on top of most major operating systems. The following host operating systems are supported: Windows NT/2000/XP, Irix, Linux, MacOS X, FreeBSD, Solaris, Plan 9.
<p>
If you have Internet Explorer on Windows, you can run it as a plug-in.

<A NAME="7"></A>
<P>
<HR><B>Can I run Inferno directly on my PC?

</B><P>

Inferno can be run on bare hardware, though for most PC parts there is a limited set of device drivers.

<A NAME="8"></A>
<P>
<HR><B>What hardware architectures are supported?

</B><P>

<ul>
<li>
Intel x86 (386 & higher)
<li>
Intel XScale
<li>
IBM PowerPC
<li>
ARM StrongARM (ARM & Thumb)
<li>
Sun
</ul>

<A NAME="9"></A>
<P>
<HR><B>Is there a mailing list?

</B><P>

Currently Vita Nuova is maintaining a mailing list. Look at 
<a href="http://www.vitanuova.com/news/newsgroup.html">http://www.vitanuova.com/news/newsgroup.html</a> . There is a mailing list archive at 
<a href="http://dir.gmane.org/gmane.os.inferno.general">http://dir.gmane.org/gmane.os.inferno.general</a> .
<A NAME="10"></A>
<P>
<HR><B>Where is the current faq?

</B><P>

<a href="http://goliat.eik.bme.hu/~fgergo/faq.html">http://goliat.eik.bme.hu/~fgergo/faq.html</a>
<p>
Comments to me <a href="mailto:fgergo@gmail.com">fgergo@gmail.com</a>

<P>
<A NAME="11"></A>
<HR><B>What is in there?

</B><P>

Inferno is a complete OS and development environment.

<A NAME="12"></A>
<P>
<HR><B>How can I program it?

</B><P>

Limbo is a programming language designed specifically for writing applications under Inferno, and takes maximum advantage of the facilities that Inferno provides. Also Inferno has a very powerful shell. There is a C to limbo translator as well.

<A NAME="13"></A>
<P>
<HR><B>How are Inferno binaries run?

</B><P>

Inferno binaries are the same across all platforms. It doesn't matter if a program was compiled on a different architecture. A binary is run by the virtual machine Dis. By convention all Dis binaries have .dis extension.

<A NAME="14"></A>
<P>
<HR><B>What is the "size" of Inferno?

</B><P>

Inferno programs can run in as little as 1MB of RAM. All Inferno applications have similarly small memory requirements. The emulation environment can be set to use all of the hosts memory if needed.
The compressed downloadable full source and compiled binaries for all architectures is 50MB.

<A NAME="15"></A>
<P>
<HR><B>Is Unicode supported?

</B><P>

Inferno uses Unicode. Strings are encoded in Utf-8.

<P>
<A NAME="16"></A>
<HR><B>What is the intended end-user environment?

</B><P>

Inferno is a complete solution to a very rich set of problems. These problems have at least two things is common: 
<ul>
<li>
1. there are no other proper or similarly elegant alternatives,
<li>
2. the problem deals with loosely coupled CPU's with (possibly) limited resources.
</ul>
<p>
It provides complete grid, embedded and distributed solutions. Although it is not intended as a desktop replacement, it has all of the functionality an inferno developer needs.

<p>
Inferno is an Operating System for the construction of distributed applications on everything from resource constrained devices to high-end servers.

<A NAME="17"></A>
<P>
<HR><B>What are the design principles?

</B><P>

Have a look at <a href="http://www.vitanuova.com/inferno/design.html">http://www.vitanuova.com/inferno/design.html</a>

<P>
<A NAME="18"></A>
<HR><B>How can I install Inferno?

</B><P>

The installation instructions are available at
<a href="http://www.vitanuova.com/inferno/net_download4T.html">http://www.vitanuova.com/inferno/net_download4T.html</a> in section 3.

<A NAME="19"></A>
<P>
<HR><B>What's new in 4th edition Inferno?

</B><P>

After installing Inferno have a look at changes.pdf.

<P>
<A NAME="20"></A>
<HR><B>Where can I find documentation?

</B><P>

Have a look at 
<a href="http://www.vitanuova.com/inferno/docs.html">http://www.vitanuova.com/inferno/docs.html</a> . You should read intro(1) and all other intro pages (type intro in wm/man).
<p>
After you install Inferno in the inferno root, there is a lot of documentation in /doc.
<p>
Currently there is no printed documentation for 4th edition Inferno, though you can get high quality printed documentation on 3rd edition from Vita Nuova. Phillip Stanley-Marbell had written a book on 3rd edition Inferno.

<A NAME="21"></A>
<P>
<HR><B>What kind of security is provided by Inferno?

</B><P>

Probably the most important Inferno feature is end to end security at the highest communication level.
<p>
From security-intro(2):
<p>
"Inferno provides several levels of security:
<ul>
<li>
Mutual authentication means that two users or applications that want to communicate can establish that they are who they say they are. It is the basic level of security provided by Inferno. Thus, for example, when a user connects to an Inferno service, they can and must establish that they are a legitimate user.
<li>
Message digesting is a technique to ensure that an interloper cannot modify messages sent between users.
<li>
Encryption protects the confidentiality of messages so that only the party or parties for whom the messages are intended can decrypt and read them.
</ul>
<p>
Inferno makes it easy to enforce any one or all of these levels of security."

<p>
The following algorithms and protocols are implemented: IDEA, 56 bit DES, 40, 128 and 256 bit RC4 encryption algorithms, MD4, MD5 and SHA secure hash algorithms.

<A NAME="22"></A>
<P>
<HR><B>Where are my usual applications in Inferno?

</B><P>

<ul>
<li>
application: command to run it : optional comment
</ul>
<ul>
<li>
man: wm/man
<li>
shell: wm/sh
<li>
simple editor: wm/edit : if you like syntax highlighting see Options->Limbo
<li>
compiler: limbo : or in the host OS limbo.exe
<li>
debugger: wm/deb
<li>
integrating editor: acme : read the acme paper in /doc/acme/acme.ps
<li>
web browser: charon
</ul>

<p>
When you run the windowing environment most of these are available by clicking on the Vita Nuova logo in the bottom left corner.

<A NAME="23"></A>
<P>
<HR><B>What are those directories in the inferno root?

</B><P>

For a detailed description read namespace(4).
<p>
<ul>
<li>
All architecture dependent binaries are in the relevant directories: /Nt, /Linux, /Solaris etc.
<li>
All usual Inferno binaries are in /dis.
<li>
Most Limbo source is in /appl.
<li>
Module declarations are in /module.
<li>
The usual "proc" filesystem is in /prog. Read prog(3).
</ul>

<A NAME="24"></A>
<P>
<HR><B>Why does 'ls' show some directories twice?

</B><P>

If you read the faq, you probably don't want to know at the moment.
<p>
It is a result of a sys-&gt;bind. Read sys-intro(2) and all other intro pages as advised above.

<A NAME="25"></A>
<P>
<HR><B>Where is PATH?

</B><P>

There is no PATH variable in Inferno. The shell runs binaries by convention from /dis. Some programs are grouped by separate directories in /dis.

<A NAME="26"></A>
<P>
<HR><B>How can I compile and run my Limbo programs?

</B><P>

At the inferno shell type:
<pre>
% limbo myprog.b
% ./myprog
</pre>
Assuming myprog.b contains your Limbo source code.

<P>
<A NAME="27"></A>
<HR><B>What about the names?

</B><P>

Quite a few names were borrowed from Inferno by Dante Alighieri. Have a look at <a href="http://www.vitanuova.com/company/names.html">http://www.vitanuova.com/company/names.html</a> .

<A NAME="28"></A>
<P>
<HR><B>What is the history of Inferno?

</B><P>

From <a href="http://www.gemusehaken.org/ipwl/irp-inferno.pdf">http://www.gemusehaken.org/ipwl/irp-inferno.pdf</a> , after 'History':
<p>
"Developed, circa 1995, by the Computing Science Research Center at Bell Labs by Sean Dorward, Rob Pike, David Presotto, Dennis Ritchie, Howard Trickey, Phil Winterbottom. Drew upon lessons learned building Plan 9 research OS. Developed as a decidedly commercial product. Developed by Bell Labs research, transferred to the Inferno Business Unit a semi-autonomous spinoff, housed within Lucent (Murray Hill, NJ). ... No significant improvement of Inferno (as delivered by research group) is performed before attempting to sell it. Circa 1999, Inferno Business Unit folds.
<p>
2000: Rights to Inferno sold to Vita Nuova Holdings, York England." ...


<P>
<A NAME="29"></A>
<HR><B>How do I implement the "Hello, World" program?
</B><P>

Here is the Limbo code, without any comments:

<pre>
implement Hello;

include "sys.m";
   sys: Sys;
include "draw.m";
 
Hello: module
{
	init:   fn(ctxt: ref Draw->Context, argv: list of string);
};

init(ctxt: ref Draw->Context, argv: list of string)
{
	sys = load Sys Sys->PATH;
	sys->print("hello, world\n");
}
</pre>

<p>
And here's the same Limbo code, with extensive comments:

<pre>
# this file implements the Hello module (declared below)
# Implementation files often implement modules that are
# declared in separate files, but in this case, the module
# is included in this file

implement Hello;	

# include module interfaces for modules that will be referenced
# in this program.  Note that include is a Limbo statement: there
# is no preprocessor.

include "sys.m";	# include the Sys module declaration in the file "sys.m"
   sys: Sys;		# sys is declared as type Sys (OK once sys.m is included)
include "draw.m";	# include the draw module declaration in "draw.m" 
 
# Here is the Hello module declaration.
# The init() function is a convention that must be observed for
# commands to be executed from the shell (sh.b) command line.
# sh calls the init function of commands executed from its command line.
#
# Note that the module declaration (a statement) ends with a semicolon.

Hello: module		
{
	init:   fn(ctxt: ref Draw->Context, argv: list of string);
};
 
# Here is the init function definition.
# The arguments are dictated by the form of init that shell
# is expecting. ctxt is the graphical context for the program, 
# argv is a list of arguments. Note that we don't actually use
# either of these arguments in this simple function.

init(ctxt: ref Draw->Context, argv: list of string)
{
	
# give sys a value by loading an instance of the Sys module from
# the location specified in Sys->PATH. Sys is a special case because
# its implementation is part of the kernel.
	
	sys = load Sys Sys->PATH;
	
# do it -- call the print function of Sys
	
	sys->print("hello, world\n");
}
</pre>

<p>
To compile this program, type:
<pre>
% limbo hello.b
</pre>

<p>
The Limbo compiler creates a binary file of Dis bytecode and saves it in hello.dis.
There are many options to the <em>limbo</em> command (see the Inferno Reference Manual).
You can run the program by typing:
<pre>
% hello
</pre>

<p>
(You do not need to type the .dis extension.)

<A NAME="30"></A>
<P>
<HR><B>What is a module?

</B><P>

A module is a declaration of the public interface of a program.
It includes constants, data, functions, and abstract data types that
are visible to other modules.

<p>
A module is often placed in a separate .m file, while the implementation
(the code for the functions declared in the module, in addition to other
functions) is conventionally placed in a .b file.  
The .b file can also include a
module declaration as part of the implementation.

<p>
For example, the shell function cat begins:

<pre>
implement Cat;

include "sys.m";
include "draw.m";

Cat: module
{
	init:	fn(ctxt: ref Draw->Context, argv: list of string);
};

sys: Sys;
stderr, stdout: ref Sys->FD;

init(nil: ref Draw->Context, argl: list of string)
{
	sys = load Sys Sys->PATH;

	stdout = sys->fildes(1);
	stderr = sys->fildes(2);
...
</pre>

<p>
As another example, the string module declares various functions that you can call for string manipulation.
The code to implement these functions appears in the implementation file string.b.
Here is an excerpt from the module file string.m:

<pre>
String: module
{
	PATH:		con	"/dis/lib/string.dis";

	...

	splitl:		fn(s, cl: string): (string, string);
	splitr:		fn(s, cl: string): (string, string);
	drop:		fn(s, cl: string): string;
	take:		fn(s, cl: string): string;
	in:		fn(c: int, cl: string): int;

	...
};        
</pre>

<A NAME="31"></A>
<P>
<HR><B>I am having problems creating synthetic files with file2chan.

</B><P>

I tried to create a synthetic file with file2chan, but when I try
to receive on the channel, my program dies with an 
"OSFault "sys: trap: general protection violation pc=0xdeaddead"

<p>
You should check to see if file2chan returned a non-nil
value, and if it returned nil, find out what the last system error was 
(by using the <tt>%r</tt> print format.
The most likely reason for the error was that you had not bound
the serve device to the directory that you wanted to serve the file from
For example:

<pre>
init(ctxt : ref Draw->Context, args : list of string)
{
	c : ref FileIO;

	sys = load Sys Sys->PATH;

	# bind serve device 
	sys->bind("#s", "/chan", sys->MREPL);

	# create synthetic file, then check
	c = sys->file2chan("/chan", "chanfile");
	if (c == nil)
	{
		sys->print("Could not create chan file : %r\n");
	}

	...
}
</pre>

<A NAME="32"></A>
<P>
<HR><B>Can you directly compare structured types (e.g., tuples, lists)?

</B><P>

I have a program with two tuples like:

<pre>
a:= (0,0);
b:= (1,1);
</pre>

<p>
and when I try to compare them I get an error like 

<pre>
x.b:123 : cannot compare '(1,1)'  if type (int, int) 
to '(0,0)' of type (int, int)
</pre>

<p>
You cannot compare structured types in Limbo.



<A NAME="33"></A>
<P>
<HR><B>I am getting compiler errors accessing members of an array. 

</B><P>

I have a program in which I define an array of strings in the
global declarations like:

<pre>
s : array [10] of string;
s[4] = "Some String"
</pre>
		
<p>
I get a compiler error. Similar thing happens if I do: 

<pre>
i : array [10] of int;
i[4] = 10;
</pre>

<p>
In Limbo, declarations are of the form:
<pre>
declaration:
	identifier-list	: type;
...

type:
	data-type
	function-type
</pre>

In both statements, array [10] of string and array [10] of int are not 
data types, but rather allocated instances (both of size 10), and are
expressions and not types.

The correct way to perform the declaration is
<pre>
identifier-list := expression;
</pre>

Thus the corrected statements are
<pre>
s := array [10] of string;
</pre>

and

<pre>
i := array [10] of int;
</pre>

<A NAME="34"></A>
<P>
<HR><B>Can I "unload" a module to free memory it is occupying ?


</B><P>

I have a program that is consuming a lot of memory. I load
twelve different modules at startup, but I do not need them halfway into
the program. Is there some way to "unload" these modules after they are no
longer needed, thereby reducing the memory footprint of my application ?

<p>
You can "unload" a module at any time by setting it's module handle
to nil.

<p>
Example:

<pre>
	my_module_handle : Module;
	my_module_handle = load Module Module->PATH;

	...

	my_module_handle = nil;
</pre>
<br>
<hr>
<p>

AUTHOR AND COPYRIGHT:
<P>
Copyright (c) 2000 Ed Bacher, Phillip Stanley-Marbell, Gergely Fodemesi. All rights reserved. 

<P>
All code examples in this file are hereby placed into the public domain.
You are permitted and encouraged to use this code in your own programs 
for fun or for profit as you see fit. A simple comment in the code giving 
credit would be nice (but not required).

</article>

<footer>
<br class="doNotDisplay doNotPrint" />

<div style="margin-right: auto;"><a href="http://werc.cat-v.org">Powered by werc</a></div>

<div><form action="/_search/" method="POST"><input type="text" id="searchtext" name="q"> <input type="submit" value="Search"></form></div>
</footer>
</body></html>
