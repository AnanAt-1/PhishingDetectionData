<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="robots" content="index,nofollow">

<title>DebuggingPrintingProblems - Ubuntu Wiki</title>
<script type="text/javascript" src="/moin_static198/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static198/light/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="/moin_static198/light/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="/moin_static198/light/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="/moin_static198/light/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static198/light/css/msie.css">
<![endif]-->


<link rel="alternate" title="Ubuntu Wiki: DebuggingPrintingProblems" href="/DebuggingPrintingProblems?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=DebuggingPrintingProblems&amp;ddiffs=1" type="application/rss+xml">


<link rel="Start" href="/Home">
<link rel="Alternate" title="Wiki Markup" href="/DebuggingPrintingProblems?action=raw">
<link rel="Alternate" media="print" title="Print View" href="/DebuggingPrintingProblems?action=print">
<link rel="Search" href="/FindPage">
<link rel="Index" href="/TitleIndex">
<link rel="Glossary" href="/WordIndex">
<link rel="Help" href="/HelpOnFormatting">
</head>

<body  lang="en" dir="ltr">

<!-- BEGIN HEADER -->
<div id="wrapper" class="hfeed">
<div id="header">
    <ul id="mothership">
        <li> <a href="http://www.ubuntu.com/partners">Partners</a> </li>
        <li> <a href="http://www.ubuntu.com/support">Support</a> </li>
        <li> <a href="http://www.ubuntu.com/community">Community</a> </li>
        <li> <a href="http://www.ubuntu.com">Ubuntu.com</a> </li>
    </ul>

    <div id="orangeHeader">
        <h1> <a href="/" title="Ubuntu Wiki"><span>Ubuntu Wiki</span></a> </h1>
            <div id="search-box">

<form id="searchform" method="get" action="/DebuggingPrintingProblems">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>


            </div>
    </div>

</div>
    <div id="wikinav"> 
<ul class="editbar"><li><span class="disabled">Immutable Page</span></li><li><a class="nbinfo" href="/DebuggingPrintingProblems?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="/DebuggingPrintingProblems?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="/DebuggingPrintingProblems">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="refresh">Delete Cache</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="CopyPage">Copy Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
<option value="PackagePages">Package Pages</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="Load">Load</option>
<option value="Save">Save</option>
<option value="SlideShow">SlideShow</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

<ul id="username">
<li><a href="/Home">Ubuntu Wiki</a></li>
<li><a href="?action=login">Login</a></li>
<li><a href="/HelpContents">Help</a></li>
</ul>

        <hr class="clearBoth" />
    </div>
    
	<div id="main"> 
		<div id="container">
			<div id="content">
		<h2 class="entry-title"> 
<span><a href="/DebuggingPrintingProblems">DebuggingPrintingProblems</a></span>
</h2>
	<div class="hentry post">
               

<div id="page" lang="en" dir="ltr">

<!-- END HEADER --><div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867"><div dir="ltr" id="Debugging.2FHeader.content" lang="en"><span class="anchor" id="Debugging.2FHeader.top"></span>
<span class="anchor" id="Debugging.2FHeader.line-1"></span><div><table style="&amp;quot; font-size: 0.85em;  border:none;  width=100%;  background-color: #f1f1ed;  font-weight: bold&amp;quot;"><tbody><tr>  <td><p class="line862"> <a href="/DebuggingProcedures">Debugging Central</a> </td>
  <td><p class="line862"> This page is part of the debugging series â€” pages with debugging details for a variety of Ubuntu packages. </td>
</tr>
</tbody></table></div><span class="anchor" id="Debugging.2FHeader.line-2"></span><span class="anchor" id="Debugging.2FHeader.bottom"></span></div> <span class="anchor" id="line-2"></span><div><table style="&amp;quot; float:right;  font-size: 0.9em;  width:30%;  background:#F1F1ED;  background-image: url('https://librarian.launchpad.net/1812570/bugsquad.png');  background-repeat: no-repeat;  background-position:  98% 0.5ex;  margin: 0 0 1em 1em;  padding: 0.5em; &amp;quot;"><tbody><tr>  <td><p class="line891"><div class="table-of-contents"><p class="table-of-contents-heading">Contents<ol><li>
<a href="#Reporting_Bugs">Reporting Bugs</a></li><li>
<a href="#Printer_detection">Printer detection</a><ol><li>
<a href="#USB_printer">USB printer</a></li><li>
<a href="#Parallel_port_printer">Parallel port printer</a></li><li>
<a href="#Network_printer">Network printer</a></li><li>
<a href="#USB_-.3E_Parallel_adapter">USB -&gt; Parallel adapter</a></li></ol></li><li>
<a href="#CUPS_web_interface">CUPS web interface</a></li><li>
<a href="#CUPS_error_log">CUPS error_log</a></li><li>
<a href="#Troubleshooting_Wizard">Troubleshooting Wizard</a></li><li>
<a href="#Print_Error_pop-up_window">Print Error pop-up window</a></li><li>
<a href="#AppArmor_Protection_of_the_printing_system">AppArmor Protection of the printing system</a></li><li>
<a href="#Capturing_print_job_data">Capturing print job data</a></li><li>
<a href="#Getting_the_data_which_would_go_to_the_printer">Getting the data which would go to the printer</a></li><li>
<a href="#Sending_a_file_to_the_printer_unfiltered">Sending a file to the printer unfiltered</a></li><li>
<a href="#PostScript_.28PDF.29_printer_chokes_on_the_PostScript_.28PDF.29_coming_from_Ubuntu">PostScript (PDF) printer chokes on the PostScript (PDF) coming from Ubuntu</a></li><li>
<a href="#USB_printer_does_not_print_or_prints_garbage">USB printer does not print or prints garbage</a></li><li>
<a href="#Problems_installing_the_CUPS_package">Problems installing the CUPS package</a></li><li>
<a href="#Turboprint">Turboprint</a></li><li>
<a href="#Known_bugs">Known bugs</a></li></ol></div></td>
</tr>
</tbody></table></div><span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><p class="line867">
<h1 id="Reporting_Bugs">Reporting Bugs</h1>
<span class="anchor" id="line-5"></span><span class="anchor" id="line-6"></span><p class="line862">Bugs about printing problems should be assigned to the <strong>cups</strong> package if you don't know which package they belong to. To report printing bugs preferably use 'ubuntu-bug cups' from a terminal window which will gather useful information about your system related to printing like the version of Ubuntu you use, configured printers and the versions of important printing packages installed and automatically attach them to your bug report. You can also add the information after the bug is reported by executing 'apport-collect -p cups BUGNUMBER' where BUGNUMBER is the bug report you want to add information to.  <span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span><p class="line867">
<h1 id="Printer_detection">Printer detection</h1>
<span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span><p class="line862">NOTE: If you have a USB -&gt; Parallel adapter, proceed as for a USB printer and also see the &quot;USB -&gt; Parallel adapter&quot; section below. <span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><p class="line867">
<h2 id="USB_printer">USB printer</h2>
<span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><ol type="1"><li>Make sure that the printer is connected to your system and powered on. <span class="anchor" id="line-15"></span></li><li><p class="line862">Open a terminal/console and check if the usb kernel modules are loaded: <br>
 <tt>$&nbsp;lsmod&nbsp;|&nbsp;grep&nbsp;usb</tt> <span class="anchor" id="line-16"></span></li><li><p class="line862">Unplug the USB printer cable from your computer and enter this command: <br>
 <tt>$&nbsp;tail&nbsp;-f&nbsp;/var/log/syslog&nbsp;</tt> <span class="anchor" id="line-17"></span></li><li>Reconnect the USB printer cable, you should see some messages appearing. <span class="anchor" id="line-18"></span></li><li>Press Ctrl-C to stop the logging. <span class="anchor" id="line-19"></span></li><li><p class="line862">Check whether the printer gets correctly detected by the USB subsystem and determine its USB vendor/product IDs and the USB bus and device addresses: <br>
 <tt>$&nbsp;lsusb</tt> <br>
 Note: The USB bus and device addresses change if you turn off or unplug the printer. Please re-run this command if needed. <span class="anchor" id="line-20"></span></li><li><p class="line862">Check whether the device files for the printer get created and the ownerships (&quot;root lp&quot;) and permissions (non-HP: &quot;crw-rw-r--&quot;, HP: &quot;crw-rw-r--+&quot;) correctly set: <br>
 <tt>$&nbsp;ls&nbsp;-l&nbsp;/dev/usb/lp*&nbsp;/dev/bus/usb/*/*</tt> <span class="anchor" id="line-21"></span></li><li><p class="line862">Determine the printer's device ID strings: <br>
 <tt>$&nbsp;sudo&nbsp;usb_printerid&nbsp;/dev/usb/lp0</tt> <br>
 <tt>$&nbsp;sudo&nbsp;usb_printerid&nbsp;/dev/usb/lp1</tt> <br>
 <tt>...</tt> <br>
 For HP printers also use <br>
 <tt>$&nbsp;hp-info&nbsp;-i</tt> <br>
 and choose the printer with the problem from the text menu, then copy the &quot;deviceid&quot; entry from the output (can be several lines). <span class="anchor" id="line-22"></span></li><li><p class="line862">For HP printers: Check that you have the latest version of HPLIP and whether HPLIP connects to them: <br>
 <tt>$&nbsp;hp-makeuri&nbsp;&lt;Bus&gt;:&lt;Device&gt;</tt> <br>
 Replace &quot;&lt;Bus&gt;&quot; and &quot;&lt;Device&gt;&quot; by the bus and device numbers from the &quot;lsusb&quot; output (not vendor and product ID). The numbers must be supplied with three digits, zero-padded from the left, like &quot;008:015&quot;. (More information from <a class="http" href="http://hplipopensource.com/">http://hplipopensource.com/</a>.) <span class="anchor" id="line-23"></span></li><li><p class="line862">Find out if your printer gets detected by CUPS: <br>
 <tt>$&nbsp;lpinfo&nbsp;-v</tt> <span class="anchor" id="line-24"></span></li><li>Attach the output of the above commands to the bug report. <span class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span></li></ol><p class="line874">Note that problems cannot only caused by CUPS but also by the kernel (package &quot;linux&quot;), libusb, HPLIP (package &quot;hplip&quot;), and several third-party printer drivers. <span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span><p class="line867">
<h2 id="Parallel_port_printer">Parallel port printer</h2>
<span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><ol type="1"><li>Make sure that the printer is connected to your system and powered on. <span class="anchor" id="line-31"></span></li><li><p class="line862">Open a terminal/console and check if the lp, ppdev, and parport_pc kernel modules are loaded: <br>
 <tt>$&nbsp;lsmod&nbsp;|&nbsp;grep&nbsp;lp</tt> <br>
 <tt>$&nbsp;lsmod&nbsp;|&nbsp;grep&nbsp;ppdev</tt> <br>
 <tt>$&nbsp;lsmod&nbsp;|&nbsp;grep&nbsp;parport_pc</tt> <span class="anchor" id="line-32"></span></li><li><p class="line862">Check if the kernel detected the parallel port during bootup: <br>
 <tt>$&nbsp;dmesg&nbsp;|&nbsp;grep&nbsp;par&nbsp;</tt> <span class="anchor" id="line-33"></span></li><li><p class="line862">Check if the device files of the parallel port(s) are created and have the correct permissions and ownerships: <br>
 <tt>$&nbsp;ls&nbsp;-l&nbsp;/dev/lp*&nbsp;/dev/parport*&nbsp;</tt> <span class="anchor" id="line-34"></span></li><li><p class="line862">Check if the printer auto-detection result appears in the kernel's virtual file system: <br>
 <tt>$&nbsp;ls&nbsp;-l&nbsp;/proc/sys/dev/parport/parport*/autoprobe*&nbsp;</tt> <br>
 <tt>$&nbsp;sudo&nbsp;cat&nbsp;/proc/sys/dev/parport/parport*/autoprobe*&nbsp;</tt> <span class="anchor" id="line-35"></span></li><li><p class="line862">Find out if your printer gets detected by CUPS: <br>
 <tt>$&nbsp;lpinfo&nbsp;-v</tt> <span class="anchor" id="line-36"></span></li><li><p class="line862">Run the parallel port CUPS backend separately, once with standard user privileges and once as root: <br>
 <tt>$&nbsp;/usr/lib/cups/backend/parallel&nbsp;</tt> <br>
 <tt>$&nbsp;sudo&nbsp;/usr/lib/cups/backend/parallel&nbsp;</tt> <span class="anchor" id="line-37"></span></li><li>Attach the output of the above commands to the bug report. <span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span></li></ol><p class="line874">Note that problems can be caused not only by CUPS, but also by the kernel (package &quot;linux&quot;), HPLIP (package &quot;hplip&quot;), and several third-party printer drivers. <span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><p class="line867">
<h2 id="Network_printer">Network printer</h2>
<span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span><ol type="1"><li>Make sure the printer is turned on and connected to your network. In the case of a WLAN (wireless) printer the printer needs to be configured to use your wireless network. <span class="anchor" id="line-44"></span></li><li><p class="line862">Check the printer's configuration by printing a configuration page via the printer's front panel menus. This gives information about the IP address of the printer and about the protocols it supports (<a class="nonexistent" href="/JetDirect/AppSocket">JetDirect/AppSocket</a>, LPD, IPP, SMB/Windows, ...). <span class="anchor" id="line-45"></span></li><li>You can also find the printer's IP address via the configuration web interface of your router. Many routers you can configure that the printer always gets the same IP and you can also assign a host name. <span class="anchor" id="line-46"></span></li><li>To change the printer's configuration either use the printer's front panel menus or the printer's web configuration interface. To access this web interface, enter the IP address of the printer into the address or URL line of a web browser. <span class="anchor" id="line-47"></span></li><li>If your printer is supposed to connect via WLAN and it does not get an IP address, make sure that your WLAN is turned on and that the correct network name (SSID) and password are set by the front panel menus of the printer. If the printer has no front panel menus, you have to connct it with an ethernet cable first and configure the WLAN access through the web interface. On some HP printers there is WLAN connection but no ethernet connection. These you have to connect via USB and then use the hp-wificonfig tool from the hplip-gui package to configure them. <span class="anchor" id="line-48"></span></li><li>Set up the printer via system-config-printer (&quot;Add&quot; button). Wait around 15 seconds for the network scan (spinning icon must disappear). Usually you should select the default connection type as system-config-printer tries to find the best possibility. Generally use HP printers through the HPLIP connection, other printers preferably with DNS-SD connections (will continue to work whn the router changes the IP of the printer) and from the protocols use preferably AppSocket/jetDirect. The implementation of IPP in the printer's firmware has often bugs. Make sure the desired protocols and DNS-SD/mDNS/BonJour support are active in the printer's hardware configuration. <span class="anchor" id="line-49"></span></li><li><p class="line862">Open a terminal/console and run the commands: <br>
 <tt>$&nbsp;ping&nbsp;&lt;IP&nbsp;of&nbsp;the&nbsp;printer&gt;</tt> <br>
 <tt>$&nbsp;nmap&nbsp;&lt;IP&nbsp;of&nbsp;the&nbsp;printer&gt;</tt> <br>
 Replace &quot;&lt;IP of the printer&gt;&quot; by the printer's IP address. The first command checks whether you can access the printer through the network, the second shows which port numbers are used by the printer and through this which protocols are active (80: Has web interface, 139: SMB, 443: encrypted IPP or encrypted web interface, 515: LPD, 631: IPP, 9100: <a class="nonexistent" href="/JetDirect/AppSocket">JetDirect/AppSocket</a>). Install the &quot;nmap&quot; package if needed. <span class="anchor" id="line-50"></span></li><li><p class="line862">Run the commands: <br>
 <tt>$&nbsp;/usr/lib/cups/backend/snmp</tt> <br>
 <tt>$&nbsp;sudo&nbsp;/usr/lib/cups/backend/dnssd</tt> <br>
 The output shows whether the printers get found by CUPS or system-config-printer and with which device URIs and protocols. <span class="anchor" id="line-51"></span></li><li><p class="line862">Run the command <br>
 <tt>$&nbsp;/usr/lib/cups/backend/snmp&nbsp;&lt;IP&nbsp;of&nbsp;the&nbsp;printer&gt;</tt> <br>
 if a printer does not get found by the simple &quot;/usr/lib/cups/backend/snmp&quot; call. <span class="anchor" id="line-52"></span></li><li><p class="line862">Find out if your printer gets detected by CUPS: <br>
 <tt>$&nbsp;lpinfo&nbsp;-v</tt> <span class="anchor" id="line-53"></span></li><li><p class="line862">Run the commands: <br>
 <tt>$&nbsp;avahi-browse&nbsp;-a&nbsp;-v&nbsp;-t&nbsp;-r</tt> <br>
 <tt>$&nbsp;avahi-browse&nbsp;-a&nbsp;-v&nbsp;-c&nbsp;-r</tt> <br>
 These commands show whether your printer is visible via DNS-SD/mDNS/BonJour. <span class="anchor" id="line-54"></span></li><li><p class="line862">Run <br>
 <tt>$&nbsp;ifconfig</tt> <br>
 <tt>$&nbsp;route</tt> <br>
 to check general network health. <span class="anchor" id="line-55"></span></li><li>Attach the output of the above commands to the bug report. <span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span></li></ol><p class="line874">Note that problems cannot only caused by CUPS but also by the kernel (package &quot;linux&quot;), HPLIP (package &quot;hplip&quot;), and several third-party printer drivers. <span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span><p class="line867">
<h2 id="USB_-.3E_Parallel_adapter">USB -&gt; Parallel adapter</h2>
<span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><p class="line862">We highly recommend not to buy and use these adapters to get old parallel-only printers connected to newer computers without parallel port. Please try the following alternatives:<br>
 <span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><ol type="1"><li>First check whether the printer is really parallel-only. If it has a USB or Ethernet port, use one of these for connection. If you do not have free USB ports on your computer, use a USB hub. <span class="anchor" id="line-64"></span></li><li><p class="line862">If you have already a USB -&gt; Parallel adapter and you have an All-in-One router (or NAS) with USB port, try to connect the printer with the adapter there, if the router has print server functionality, your printer should appear as a network printer. <span class="anchor" id="line-65"></span></li><li><p class="line862">You can also get an old <a class="nonexistent" href="/JetDirect">JetDirect</a> (or compatible) network print box on eBay or Amazon for cheap, which also makes a network printer out of your printer. <span class="anchor" id="line-66"></span></li><li><p class="line862">At least with USB -&gt; Parallel adapters you can use with a Ubuntu machine proceeding as follows: Make sure that there is no other native USB printer or printer with USB -&gt; Parallel adapter connected. This works only with one single printer on USB. Set up the printer with the device URI &quot;parallel:/dev/usb/lp0&quot;, either by selecting &quot;Enter URI&quot; on the first page of the add-printer wizard of system-config-printer, or by right-clicking the icon of an existing (non-working) print queue, choosing &quot;Properties&quot; in the pop-up menu, and editing the &quot;Device URI&quot; field in the properties dialog. Note that you have to select printer manufacturer and model manually when adding a new printer. <span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span></li></ol><p class="line862">Note that if the alternative you choose makes a network printer out of your printer that system-config-printer should find it as a network printer (wait for the scan to finish when the spinning icon disappears, then open the &quot;Network printer&quot; section). Perhaps you will need to choose make and model of the printer manually to finish the setup.<br>
 <span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><p class="line867">
<h1 id="CUPS_web_interface">CUPS web interface</h1>
<span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><p class="line862">The CUPS web interface at <a class="http" href="http://127.0.0.1:631/">http://127.0.0.1:631/</a> provides some useful messages and diagnostic capabilities. <span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><p class="line867">
<h1 id="CUPS_error_log">CUPS error_log</h1>
<span class="anchor" id="line-75"></span><p class="line862">This is a file where CUPS writes information about what it is doing. Almost all printing problems can be diagnosed from the error log, so it is the first place to look to start solving problems. To be useful, you must change the logging level: <br>
 <span class="anchor" id="line-76"></span><ol type="1"><li>In Oneiric or newer with Unity desktop click the gear icon at the upper right (the one also used to log out) and in the menu showing up then, click &quot;Printer&quot; (or, in some versions, &quot;Printers&quot;). Or go to &quot;System Settings&quot; in the launcher and click on &quot;Printing&quot;. The printer setup tool system-config-printer will open. Select &quot;Server Settings&quot; in the list on the left or in newer versions with the printers showing as icons choose &quot;Server&quot; in the main menu and then &quot;Settings&quot;. Note that the main menu will be in the bar at the top of the screen if Oneiric (or newer) with Unity is used. There it only appears if you move the mouse into the top bar. Then check the checkbox &quot;Save debugging information for troubleshooting&quot; and click &quot;Apply&quot;. <span class="anchor" id="line-77"></span></li><li><p class="line862">In all Ubuntu flavors (also Kubuntu and server editions) you can run <br>
 <tt>$&nbsp;cupsctl&nbsp;LogLevel=debug</tt> <br>
 to activate debug logging. <span class="anchor" id="line-78"></span></li><li><p class="line862">In Karmic and later (CUPS 1.4.x) there is an automatic debug logging only for failed print jobs. So if you problem was a failed print job, the error_log can already contain the desired information. Unfortunately, only 200 debug message lines get logged per failed job. Run the command <br>
 <tt>$&nbsp;cupsctl&nbsp;LogDebugHistory=999999</tt> <br>
 for practically unlimited logging of failed jobs. <span class="anchor" id="line-79"></span></li><li><p class="line862">Clear the queue from any stuck jobs by deleting the jobs in the job viewer or running the &quot;<tt>cancel&nbsp;-a</tt>&quot; command. <span class="anchor" id="line-80"></span></li><li>Try to print something. Wait until the job disappears from the queue or turns into &quot;Stopped&quot; state, independent whether something gets out of the printer. If the job never reaches &quot;Stopped&quot; state after the printer not showing any reaction for a longer time you also can go on to the next step. <span class="anchor" id="line-81"></span></li><li>Scan or photograph the printout if it is not correct and attach the images to the bug report. <span class="anchor" id="line-82"></span></li><li><p class="line862">Add <tt>/var/log/cups/error_log</tt> as an attachment to the bug report. Note that the file is not accessible for normal users. From Jaunty on you can access it from the account of the first user set up (in general users in the &quot;adm&quot; group). Otherwise you need to access it as root. To view the file run <br>
 <tt>$&nbsp;sudo&nbsp;less&nbsp;/var/log/cups/error_log</tt> <br>
 and to copy it for attaching to a bug report run <br>
 <tt>$&nbsp;sudo&nbsp;cp&nbsp;/var/log/cups/error_log&nbsp;~</tt> <br>
 <tt>$&nbsp;sudo&nbsp;chmod&nbsp;777&nbsp;~/error_log</tt> <span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span></li></ol><p class="line867">
<h1 id="Troubleshooting_Wizard">Troubleshooting Wizard</h1>
<span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><p class="line862">There is a troubleshooting wizard in system-config-printer (System -&gt; Administration -&gt; Printing in GNOME classic, Gear icon at the upper right of the screen -&gt; Printers in Unity). You find it in the &quot;Help&quot; menu of system-config-printer. It produces a text file with a lot of useful information to attach to bug reports. Follow the instructions of the wizard. If you reach the test page step, you can either click the button to print the test page or you can print a job to the selected printer from any application or from the command line. The job will be shown in the integrated job viewer. Wait until it completes or goes into &quot;Stopped&quot; state. ONLY THEN AND NOT BEFORE mark the checkbox at the job, answer whether the job got printed correctly, and click &quot;Forward&quot;. After that the file will get generated. Save it and attach it to your bug report. <span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><p class="line867">
<h1 id="Print_Error_pop-up_window">Print Error pop-up window</h1>
<span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><p class="line874">If a print job fails, a job viewer with the failed job (&quot;Stopped&quot; state) and pop-up window telling that the job has problems will appear. If you click the &quot;Diagnose&quot; button, the troubleshooting wizard will open. Do not delete the job before having completed the wizard. Take care to choose the printer with which the problem occured. In the &quot;Test Page&quot; step you do not need to print anything, nor to wait. Mark the stopped job in the integrated job viewer, click &quot;No&quot; at the question and then &quot;Forward&quot;. After that save the file and attach it to the bug report. <span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><p class="line867">
<h1 id="AppArmor_Protection_of_the_printing_system">AppArmor Protection of the printing system</h1>
<span class="anchor" id="line-93"></span><p class="line862">From Gutsy on the security of the CUPS printing system is improved by using App<tt class="backtick"></tt>Armor. Unfortunately, the configuration is not perfect yet, especially if third-party printer drivers are used. First make sure the apparmor-utils package is installed. If you have any problems with printing, try deactivating the App<tt class="backtick"></tt>Armor protection with <tt>sudo&nbsp;aa-complain&nbsp;cupsd</tt>. If this helps, look for messages containing <strong>audit</strong> in the <tt>/var/log/syslog</tt> file. These show which components are accessed by the printing system for which there is no explicit permission given in <tt>/etc/apparmor.d/usr.sbin.cupsd</tt>. You can re-activate App<tt class="backtick"></tt>Armor via <tt>sudo&nbsp;aa-enforce&nbsp;cupsd</tt>. Report a bug to the package <strong>cups</strong>, so that we can correct the default configuration of App<tt class="backtick"></tt>Armor. <span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span><p class="line867">
<h1 id="Capturing_print_job_data">Capturing print job data</h1>
<span class="anchor" id="line-96"></span><p class="line862">Often it is needed to find out what actually got sent to the printer in order to determine whether the problem is caused by the application or by the printing subsystem. It is easiest to capture the job data from the application so that it can be analyzed to see whether it is already broken or not. To do so, follow these steps: <br>
 <span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><ol type="1"><li><p class="line862">Clear the print queues of old jobs. Either use the job viewer or run the command <br>
 <tt>$&nbsp;cancel&nbsp;-a</tt> <br>
 in a terminal window. <span class="anchor" id="line-99"></span></li><li><p class="line862">Disable the print queue with which you have the problem. Use system-config-printer (System -&gt; Administration -&gt; Printing in GNOME classic, Gear icon at the upper right of the screen -&gt; Printers in Unity), right-click the appropriate printer icon, and click &quot;Enabled&quot; in the pop-up menu, so that the check mark disappears; or run the command <br>
 <tt>$&nbsp;cupsdisable&nbsp;&lt;PRINTER&gt;</tt> <br>
 in a terminal window (Replace &quot;&lt;PRINTER&gt;&quot; by the name of the print queue). This makes jobs stay in the queue so that you can capture them. <span class="anchor" id="line-100"></span></li><li><p class="line862">Now print the job from your application. When the application has finished sending the job, check via the job viewer or the command <br>
 <tt>$&nbsp;lpstat&nbsp;-o</tt> <br>
 whether it is in the queue. <span class="anchor" id="line-101"></span></li><li><p class="line862">Display the content of CUPS' spool directory using the command <br>
 <tt>$&nbsp;sudo&nbsp;ls&nbsp;-1&nbsp;/var/spool/cups</tt> <br>
 (Enter your password when asked). <span class="anchor" id="line-102"></span></li><li><p class="line862">There should be exactly one file beginning with a &quot;d&quot;. Copy this file to your home directory: <br>
 <tt>$&nbsp;sudo&nbsp;cp&nbsp;/var/spool/cups/d...&nbsp;~/appout</tt> <br>
 <tt>$&nbsp;sudo&nbsp;chmod&nbsp;777&nbsp;~/appout</tt> <span class="anchor" id="line-103"></span></li><li><p class="line862">Re-enable the print queue: <br>
 <tt>$&nbsp;cupsenable&nbsp;&lt;PRINTER&gt;</tt> <br>
 <span class="anchor" id="line-104"></span></li><li>If the file gets printed correctly now, try the above procedure with another file, we need a file where the problem occurs. <span class="anchor" id="line-105"></span></li><li><p class="line862">Check via the command <br>
 <tt>$&nbsp;file&nbsp;~/appout</tt> <br>
 what format the file is. It is usually PDF or <a class="nonexistent" href="/PostScript">PostScript</a>. Display the file on the screen to see whether the problem already occurs (error message, missing characters, wrong colors, ...). If you see the problem already, the application is the culprit, assign your bug report to the application's package, otherwise assign it to the &quot;cups&quot; package. <span class="anchor" id="line-106"></span></li><li>Attach the original file of your application and the ~/appout file to your bug report. <span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span></li></ol><p class="line867">
<h1 id="Getting_the_data_which_would_go_to_the_printer">Getting the data which would go to the printer</h1>
<span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span><p class="line874">Another important piece of data for debugging printing problems is the data which is supposed to be sent to the printer. In the previous section we captured what the application has sent to CUPS. CUPS applies several filters to this data to convert it into the printer's native language.  Here we capture the result of these filters: <span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span><ol type="1"><li><p class="line862">Activate printing into a file by adding a line containing &quot;<a class="nonexistent" href="/FileDevice">FileDevice</a> yes&quot; to /etc/cups/cups-files.conf and restarting CUPS by the command <br>
 <tt>$&nbsp;sudo&nbsp;restart&nbsp;cups</tt> <span class="anchor" id="line-113"></span></li><li><p class="line862">Clone the queue of the printer with problems. The clone should print into a file and not to the actual printer, but should use the same driver, so that the same filters get applied. Use the command: <br>
 <tt>$&nbsp;lpadmin&nbsp;-p&nbsp;test&nbsp;-E&nbsp;-v&nbsp;file:/tmp/printout&nbsp;-P&nbsp;/etc/cups/ppd/&lt;queue&nbsp;name&gt;.ppd</tt> <br>
Replace &quot;&lt;queue name&gt;&quot; by the name of the queue with the problem. The clone has also exactly the same default settings as the original queue. <span class="anchor" id="line-114"></span></li><li><p class="line862">Print the job which failed to the new print queue &quot;test&quot;. If you have selected options in the print dialog, use the same options as you used when you encountered the problem. Wait until the job finishes (disappears in the job viewer). You will have a non-empty file named /tmp/printout then. Copy this file to your home directory: <br>
 <tt>$&nbsp;sudo&nbsp;cp&nbsp;/tmp/printout&nbsp;~</tt> <br>
 <tt>$&nbsp;sudo&nbsp;chmod&nbsp;777&nbsp;~/printout</tt> <span class="anchor" id="line-115"></span></li><li>Attach this file to your bug report and/or examine it. <span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span></li></ol><p class="line867">
<h1 id="Sending_a_file_to_the_printer_unfiltered">Sending a file to the printer unfiltered</h1>
<span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span><p class="line874">If you print a file from an application or via the &quot;lp&quot; or &quot;lpr&quot; commands, the data usually goes through several filters to convert it into a format which the printer understands and to apply page management options, like 2 pages per sheet, only page 1, 3, and 9, ... to it. For debugging it can be useful to bypass all these filters and let the data go directly to the printer, without any changes or conversions. <span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span><p class="line874">Do not send arbitrary files unfiltered to the printer now hoping that will solve any problems. Please use this mainly if you are asked for doing so in bug reports or after asking a support question. <span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><p class="line874">In most cases you will have to print the data obtained from the section &quot;Getting the data which would go to the printer&quot; this way, often after editing it. <span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span><p class="line874">Use one of the following methods for unfiltered printing: <span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span><ol type="1"><li><p class="line862">Independent how your printer is connected, you can print unfiltered by using the &quot;lp&quot; or &quot;lpr&quot; commands with the &quot;-oraw&quot; argument: <br>
 <tt>$&nbsp;lp&nbsp;-d&nbsp;&lt;printer&gt;&nbsp;-oraw&nbsp;&lt;file&gt;</tt> <br>
 <tt>$&nbsp;lpr&nbsp;-P&nbsp;&lt;printer&gt;&nbsp;-oraw&nbsp;&lt;file&gt;</tt> <br>
 Replace &lt;printer&gt; by the name of your print queue and &lt;file&gt; by the name of the file you want to print. This does not work around bugs in CUPS backends (the modules which CUPS uses to communicate with printer hardware), see the next steps for such cases. <span class="anchor" id="line-128"></span></li><li><p class="line862">If the printer is connected via USB or parallel port, you can send the job directly to the printer's device file: <br>
 <tt>$&nbsp;sudo&nbsp;-s</tt> <br>
 <tt>#&nbsp;cat&nbsp;file&nbsp;&gt;&nbsp;/dev/lp0</tt> <br>
 <tt>#&nbsp;cat&nbsp;file&nbsp;&gt;&nbsp;/dev/usb/lp0</tt> <br>
 <tt>#&nbsp;cat&nbsp;file&nbsp;&gt;&nbsp;/dev/usb/lp1</tt> <br>
 <tt>#&nbsp;exit</tt> <br>
 The numbers in the device file names can vary (sse also sections &quot;USB Printer&quot; and &quot;Parallel port printer&quot; above). <span class="anchor" id="line-129"></span></li><li><p class="line862">If the printer is connected via the network (both ethernet or WLAN), you can use &quot;nc&quot; (&quot;netcat&quot;, part of the netcat-openbsd and netcat-traditional packages, install one of them if needed) to send unfiltered data: <br>
<tt>$&nbsp;nc&nbsp;-w1&nbsp;&lt;printer&gt;&nbsp;9100&nbsp;&lt;&nbsp;&lt;file&gt;</tt><br>
 Replace &lt;printer&gt; by the host name or IP address of your printer and &lt;file&gt; by the name of the file you want to send. If the printer refuses the job, check in the printer's web configuration interface whether JetDirect/AppSocket/9100 printing is enabled (see also the section &quot;Network printer&quot; above). <span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span></li></ol><p class="line867">
<h1 id="PostScript_.28PDF.29_printer_chokes_on_the_PostScript_.28PDF.29_coming_from_Ubuntu">PostScript (PDF) printer chokes on the PostScript (PDF) coming from Ubuntu</h1>
<span class="anchor" id="line-132"></span><span class="anchor" id="line-133"></span><p class="line862">Unfortunately, the <a class="nonexistent" href="/PostScript">PostScript</a> (or PDF) interpreters in many printers have bugs, letting them print garbage or nothing at all, or even crash/get stuck when receiving a valid <a class="nonexistent" href="/PostScript">PostScript</a> (or PDF) file. <span class="anchor" id="line-134"></span><span class="anchor" id="line-135"></span><p class="line862">If you have a <a class="nonexistent" href="/PostScript">PostScript</a> or PDF printer and it does not print correctly from Ubuntu, please report a bug and proceed as follows, telling all your results in your bug report and staying tuned for further instructions of the developers: <span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span><ol type="1"><li>Tell us the exact Ubuntu version which you are using. <span class="anchor" id="line-138"></span></li><li>Tell us the exact printer model. <span class="anchor" id="line-139"></span></li><li>Attach the error_log, as described in the section &quot;CUPS error_log&quot; on this page. <span class="anchor" id="line-140"></span></li><li>Attach the input file which you tried to print and tell us with which application you tried to print it. <span class="anchor" id="line-141"></span></li><li>Attach the data which CUPS receives from the application (section &quot;Capturing print job data&quot; on this page). <span class="anchor" id="line-142"></span></li><li>Attach the data which the printer receives (section &quot;Getting the data which would go to the printer&quot; on this page) <span class="anchor" id="line-143"></span></li><li><p class="line862">Examine the file obtained in the previous step by running the command <br>
 <tt>$&nbsp;file&nbsp;printout</tt> <br>
  <span class="anchor" id="line-144"></span></li><li><p class="line862">If the file is <a class="nonexistent" href="/PostScript">PostScript</a> or PDF, subscribe &quot;cliddell&quot; (Chris Liddell, Ghostscript upstream developer) to the bug report and also try to display the file on the screen with &quot;evince&quot; and &quot;gs&quot;. <span class="anchor" id="line-145"></span></li><li>Send the file unfiltered to the printer (as described in the section &quot;Sending a file to the printer unfiltered&quot;. You should get the same problem, if you get a different (correct or incorrect) result, there is a problem with the CUPS backend (program which CUPS uses to communicate with the printer hardware). <span class="anchor" id="line-146"></span></li><li><p class="line862">If the file is <a class="nonexistent" href="/PostScript">PostScript</a>, try to send uncompressed <a class="nonexistent" href="/PostScript">PostScript</a>. To do so print the file obtained in step (5) with one of the commands <br>
 <tt>$&nbsp;lpr&nbsp;-P&nbsp;&lt;printer&gt;&nbsp;-o&nbsp;psdebug&nbsp;&lt;file&gt;</tt> <br>
 <tt>$&nbsp;lp&nbsp;-d&nbsp;&lt;printer&gt;&nbsp;-o&nbsp;psdebug&nbsp;&lt;file&gt;</tt> <br>
 Repeat the steps (6) - (9) printing this way. See also the file /usr/share/doc/cups-filters/README.gz, section &quot;POSTSCRIPT PRINTING DEBUG MODE&quot;. <span class="anchor" id="line-147"></span></li><li><p class="line862">As a workaround for the time being you can switch to an alternative program for generating the <a class="nonexistent" href="/PostScript">PostScript</a> which is sent to the printer. Run <br>
 <tt>$&nbsp;lpadmin&nbsp;-p&nbsp;&lt;printer&gt;&nbsp;-o&nbsp;pdftops-renderer-default=pdftops</tt> <br>
 to switch over and <br>
 <tt>$&nbsp;lpadmin&nbsp;-p&nbsp;&lt;printer&gt;&nbsp;-R&nbsp;pdftops-renderer-default</tt> <br>
 to switch back. Make sure that you switch back if you follow further instructions from the developers in your bug report, or create a separate print queue for the workaround. See also the file /usr/share/doc/cups-filters/README.gz, section &quot;POSTSCRIPT PRINTING RENDERER AND RESOLUTION SELECTION&quot;. <span class="anchor" id="line-148"></span><span class="anchor" id="line-149"></span></li></ol><p class="line867">
<h1 id="USB_printer_does_not_print_or_prints_garbage">USB printer does not print or prints garbage</h1>
<span class="anchor" id="line-150"></span><span class="anchor" id="line-151"></span><p class="line874">There are some USB printers who do not work when the standard communication through the USB is applied. For these exception rules need to get implemented in the USB backend of CUPS. <span class="anchor" id="line-152"></span><span class="anchor" id="line-153"></span><p class="line874">If your printer is connected via USB try the following steps to find out whether such exception rules could solve your problem: <span class="anchor" id="line-154"></span><span class="anchor" id="line-155"></span><ol type="1"><li>Does your printer also allow to be connected via network? Or does your router have a USB port which can be used to make a network printer out of a USB printer? Try out these connection methods. If your printer works with them, continue with the following steps. Continue also with the following steps if you do not have possibilities to use your printer as a network printer. Otherwise, your printer has a problem which does not fall into this class. <span class="anchor" id="line-156"></span></li><li><p class="line862">Make sure your printer is connected via USB again. Run the following command in a terminal window <br>
 <tt>$&nbsp;cancel&nbsp;-a</tt> <br>
 <tt>$&nbsp;lpadmin&nbsp;-p&nbsp;&lt;queue&gt;&nbsp;-o&nbsp;usb-unidir-default=true</tt> <br>
 with &lt;queue&gt; being the print queue name of the printer with problems. Now your computer does purely uni-directional USB communication with your printer. Does printing work correctly now? Run <br>
 <tt>$&nbsp;lpadmin&nbsp;-p&nbsp;&lt;queue&gt;&nbsp;-R&nbsp;usb-unidir-default</tt> <br>
 to remove this change. <span class="anchor" id="line-157"></span></li><li><p class="line862">Run <br>
 <tt>$&nbsp;cancel&nbsp;-a</tt> <br>
 <tt>$&nbsp;lpadmin&nbsp;-p&nbsp;&lt;queue&gt;&nbsp;-o&nbsp;usb-no-reattach-default=true</tt> <br>
 to make the USB backend not re-attach the usblp kernel module after the communication with the printer. Does printing work correctly for you now? Undo this change via <br>
 <tt>$&nbsp;lpadmin&nbsp;-p&nbsp;&lt;queue&gt;&nbsp;-R&nbsp;usb-no-reattach-default</tt> <span class="anchor" id="line-158"></span><span class="anchor" id="line-159"></span></li></ol><p class="line862">Please report a bug on the package &quot;cups&quot;, preferably by running the command <br>
 <tt>$&nbsp;ubuntu-bug&nbsp;cups</tt> <br>
 Report your results of the tests above and paste in the output of the <br>
 <tt>$&nbsp;lsusb</tt> <br>
 command. <span class="anchor" id="line-160"></span><span class="anchor" id="line-161"></span><p class="line867">
<h1 id="Problems_installing_the_CUPS_package">Problems installing the CUPS package</h1>
<span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span><p class="line862">Most problems of installing the CUPS package are due to the CUPS daemon not starting after the installation or update of the package and this often happens when something is not OK with the configuration settings in <strong>/etc/cups/cupsd.conf</strong>. <span class="anchor" id="line-164"></span><span class="anchor" id="line-165"></span><p class="line862">To find out what is happening during startup of CUPS run the following commands <br>
 <span class="anchor" id="line-166"></span><tt>$&nbsp;wget&nbsp;http://people.canonical.com/~pitti/tmp/cups.upstart.debug</tt> <br>
 <span class="anchor" id="line-167"></span><tt>$&nbsp;sudo&nbsp;cp&nbsp;/etc/init/cups.conf{,.orig}&nbsp;</tt> <br>
 <span class="anchor" id="line-168"></span><tt>$&nbsp;sudo&nbsp;cp&nbsp;cups.upstart.debug&nbsp;/etc/init/cups.conf</tt> <br>
 <span class="anchor" id="line-169"></span><tt>$&nbsp;sudo&nbsp;stop&nbsp;cups</tt> <br>
 <span class="anchor" id="line-170"></span><tt>$&nbsp;sudo&nbsp;start&nbsp;cups</tt> <br>
 <span class="anchor" id="line-171"></span>This should fail. Please attach <strong>/tmp/log</strong> to your bug report. After that, please restore the original script again with <br>
 <span class="anchor" id="line-172"></span><tt>$&nbsp;sudo&nbsp;mv&nbsp;/etc/init/cups.conf{.orig,}&nbsp;</tt> <br>
 <span class="anchor" id="line-173"></span><span class="anchor" id="line-174"></span><p class="line862">If the CUPS daemon did not start (&quot;lpstat -r&quot; says &quot;scheduler is not running&quot;) follow the instructions under &quot;CUPS error_log&quot; on this page and instead of sending a job try to start CUPS: <br>
 <span class="anchor" id="line-175"></span><tt>$&nbsp;sudo&nbsp;/usr/sbin/cupsd</tt> <br>
 <span class="anchor" id="line-176"></span>If it fails, attach your error_log to your bug report. <span class="anchor" id="line-177"></span><span class="anchor" id="line-178"></span><p class="line874">If you look into your /tmp/log and error_log, you can probably also already find by yourself what went wrong, for example a broken entry in /etc/cups/cupsd.conf. <span class="anchor" id="line-179"></span><span class="anchor" id="line-180"></span><p class="line862">To restore the default configuration file /etc/cups/cupsd.conf, run the commands: <br>
 <tt>$&nbsp;sudo&nbsp;mv&nbsp;/etc/cups/cupsd.conf&nbsp;~</tt> <br>
 <tt>$&nbsp;apt-get&nbsp;download&nbsp;cups</tt> <br>
 <tt>$&nbsp;sudo&nbsp;dpkg&nbsp;-i&nbsp;--force-confmiss&nbsp;cups_*.deb</tt> <br>
 You can also restore other configuration files, as printers.conf for example. Simply do the same steps but instead of cupsd.conf move away the offending configuration file. <span class="anchor" id="line-181"></span><span class="anchor" id="line-182"></span><p class="line867">
<h1 id="Turboprint">Turboprint</h1>
<span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span><p class="line867"><a class="http" href="http://www.turboprint.info/">Turboprint</a> is a comercially distributed manufacturer-independent printer driver package. It is for photo inkjet printers, supporting several models which are not or not well supported by the drivers which come with Ubuntu (Gutenprint, HPLIP) or from the manufacturers and also adds color management with calibration service to all supported printers. You have to pay for the software and for the calibration service. You can download the software for free but after a 30-day trial period a Turboprint logo gets printed on every page. <span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span><p class="line874">We cannot fix bugs in Turboprint, as it is a third-party closed-source software package, like many manufacturer-supplied drivers, but the developers of Turboprint are responsive, so we can forward bug reports to them. <span class="anchor" id="line-187"></span><span class="anchor" id="line-188"></span><p class="line874">One known problem is that Turboprint currently ships with a Ghostscript clone based on a very old Ghostscript version, after which we have worked a lot with the original developers of Ghostscript to remove very many crash bugs. So if you have problems that certain (especially more complex) files do not print (and perhaps you find segmentation fault messages of &quot;gszedo&quot; in /var/log/syslog), proceed as follows: <span class="anchor" id="line-189"></span><span class="anchor" id="line-190"></span><p class="line862">Run the command: <br>
 <tt>$&nbsp;turboprint</tt> <br>
 A window, &quot;Turboprint Control Center&quot; will open. Click &quot;Preferences&quot; at the bottom of the window. In the dialog popping up now uncheck &quot;Use Ghostscript with extensions for Turboprint&quot;. Click &quot;OK&quot; in the dialog window and &quot;Exit&quot; in the main window. <span class="anchor" id="line-191"></span><span class="anchor" id="line-192"></span><p class="line874">This makes Turboprint using the current version of Ghostscript as shipped with Ubuntu, containing all the latest bug fixes. <span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span><p class="line867">
<h1 id="Known_bugs">Known bugs</h1>
<span class="anchor" id="line-195"></span><span class="anchor" id="line-196"></span><p class="line874">Description of known issues, how to recognise them and stock responses/actions. <span class="anchor" id="line-197"></span><span class="anchor" id="line-198"></span><p class="line867"><strong>evince</strong>: First try to remove (or move away) the <tt>~/.config/evince/print-settings</tt> especially if you did changes on print queues, printers, drivers, ... Old settings can prevent printing (See bug <a class="https" href="https://bugs.launchpad.net/bugs/1652791">1652791</a>). Also note that evince (and other GTK/GNOME-based applications) often generates very awkward, large PDF files which can make <a class="nonexistent" href="/PostScript">PostScript</a> and PDF printers receive very large and complex files which they cannot cope with. This got improved in newer versions, but old applications, especially ones using GTK 2.x still often cause problems. <span class="anchor" id="line-199"></span><span class="anchor" id="line-200"></span><p class="line867"><span class="anchor" id="line-201"></span><p class="line867"><span class="anchor" id="line-202"></span><p class="line867"><span class="anchor" id="line-203"></span><span class="anchor" id="line-204"></span><p class="line867"><span class="anchor" id="line-205"></span><p class="line867"><span class="anchor" id="line-206"></span><p class="line867"><span class="anchor" id="line-207"></span><span class="anchor" id="line-208"></span><p class="line867"><hr /><p class="line874"> <span class="anchor" id="line-209"></span><ul><li><p class="line891"><a href="/DebuggingPrintingProblems/PageDiscussion">Discuss this page</a> <span class="anchor" id="line-210"></span></li></ul><p class="line867"><a href="/CategoryBugSquad">CategoryBugSquad</a> <a href="/CategoryDebugging">CategoryDebugging</a> <span class="anchor" id="line-211"></span><span class="anchor" id="bottom"></span></div> <!-- BEGIN FOOTER -->
<div id="pagebottom"></div>
</div>


        <div class="entry-utility"> 
            <span class="cat-links">
<p id="pageinfo" class="info" lang="en" dir="ltr">DebuggingPrintingProblems  (last edited 2018-07-03 19:37:28 by <span title="vorlon @ localhost[127.0.0.1]"><a class="interwiki" href="https://launchpad.net/~vorlon" title="vorlon @ localhost[127.0.0.1]">vorlon</a></span>)</p>

</span> 
        </div> 
    </div><!-- .post --> 
 
            </div><!-- #content --> 
        </div><!-- #container --> 
        <div class="clearBoth"></div> 
    </div><!-- #main --> 
</div><!-- #wrapper .hfeed --> 
    
<div id="footer"> 
    <div id="siteinfo">        
        <p> The material on this wiki is available under a free license, see 
	<a href="https://help.ubuntu.com/community/License">Copyright / License</a> for details.
        </p> 
    </div><!-- #siteinfo --> 
</div><!-- #footer  --> 
<script> (function(i,s,o,g,r,a,m){ i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-1018242-7', 'auto'); ga('send', 'pageview'); </script></body>
</html>

