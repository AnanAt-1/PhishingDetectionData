<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-site-verification" content="74feDl9yxH3_iP1Xjy6HEr7y44jOEkR5sJ8rkBy841Y" />
    <link rel="canonical" href="https://pythonspot.com/python-network-sockets-programming-tutorial/"/>
    
    <title>python socket - Python Tutorial</title>
    <!--  <link rel="icon" href="/img/favicon.ico">  -->
    <meta name="keyword"  content="">
	    
    <link rel="stylesheet" href="/css/theme.css" type="text/css" async>

    
<link rel="icon" href="https://pythonspot.com/wp-content/uploads/2016/08/python.png">
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="python socket" />
<meta property="og:url" content="https://pythonspot.com/python-network-sockets-programming-tutorial/" />
<meta property="og:site_name" content="pythonspot" />
<meta name="twitter:title" content="python socket" />
<meta name="twitter:site" content="@pythonspot" />
<meta name="twitter:creator" content="@pythonspot" />
<meta name="generator" content="Hexo 5.4.0"></head>

<body>

  <div class="page">
    <div class="head">
      <header class="head-header">
    <a href="/" class="head-authorLink">
      <picture>
        <source srcset="/wp-content/uploads/2017/09/python-tutorials.jpg.webp" type="image/webp">
        <source srcset="/wp-content/uploads/2017/09/python-tutorials.jpg" type="image/jpeg"> 
        <img src="/wp-content/uploads/2017/09/python-tutorials.jpg" width="215" height="55" alt="python logo">
      </picture>
    </a>
  <div class="head-right">
    <!-- <div class="head-search">
      <input class="head-searchK"></input>
      <span class="head-searchT">
        </span>
    </div> -->
    <div class="head-about" id="head-about">
      
      <a class="head-aboutLink" href="/beginner/">
        Beginner</a>
      
      <a class="head-aboutLink" href="/machine-learning/">
        Machine Learning</a>
      
      <a class="head-aboutLink" href="/python-database/">
        Database</a>
      
      <a class="head-aboutLink" href="/gui/">
        GUI</a>
      
    </div>
  </div>
</header>

    </div>
    <div class="main">
        <div class="barShow-head" id="barShow">
  <ul class="barShow-ul">
    
      <li class="barShow-item">
        <a href="/beginner/"><span>
            Beginner</span></a>
      </li>
    
      <li class="barShow-item">
        <a href="/machine-learning/"><span>
            Machine Learning</span></a>
      </li>
    
      <li class="barShow-item">
        <a href="/python-database/"><span>
            Database</span></a>
      </li>
    
      <li class="barShow-item">
        <a href="/gui/"><span>
            GUI</span></a>
      </li>
    
    
      <li class="barShow-item">
        <a class="head-aboutLink" href="/beginner/">
          Beginner
        </a>
      </li>
    
      <li class="barShow-item">
        <a class="head-aboutLink" href="/machine-learning/">
          Machine Learning
        </a>
      </li>
    
      <li class="barShow-item">
        <a class="head-aboutLink" href="/python-database/">
          Database
        </a>
      </li>
    
      <li class="barShow-item">
        <a class="head-aboutLink" href="/gui/">
          GUI
        </a>
      </li>
    
  </ul>
</div>
      <article class="post" id="post">
  <header class="post-head">
    <h1 class="post-title">python socket</h1>
  </header>


  

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Pythonspot Responsive Header -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-8496423617181272"
     data-ad-slot="9066125140"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<br>
   <b>Python hosting</b>: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.pythonanywhere.com/?affiliate_id=00535ced" onclick="ga('send', 'event', 'Link Click', 'PythonAny', 'PythonAny');">Host, run, and code Python in the cloud!</a>
  


  <div class="article-entry" itemprop="articleBody">
    
    <p>In this tutorial you will learn about in <a href="https://pythonspot.com/network/"><strong>network programming</strong></a>. You will learn about the client-server model that is in use for the World Wide Web, E-mail and many other applications.</p>
<p><caption id="attachment_4728" align="alignright" width="300"><a href="https://pythonspot.com/wp-content/uploads/2015/05/client-server.png"><img src="https://pythonspot.com/wp-content/uploads/2015/05/client-server-300x109.png" alt="client server" width="300" height="109" class="size-medium wp-image-4728" /></a> Client server (with email protocol)</caption><em>The client server model is a model where there are n clients and one server. The clients make  data requests to a server. The server replies to those messages received. A client can be any device such as  your computer or tablet. Servers are generally dedicated computers which are to be connected 24/7</em>. </p>
<p><strong>Related course:</strong><br>If you prefer a course or certification: <ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://amzn.to/32sPIgP">Foundations of Python Network Programming</a></li></ul></p>
<h3>socket server code</h3><br>This code will start a simple web server using sockets. It waits for a connection and if a connection is received it will output the bytes received.<br><br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"> </span><br><span class="line">TCP_IP = <span class="string">&#x27;127.0.0.1&#x27;</span></span><br><span class="line">TCP_PORT = <span class="number">62</span></span><br><span class="line">BUFFER_SIZE = <span class="number">20</span>  <span class="comment"># Normally 1024, but we want fast response</span></span><br><span class="line"> </span><br><span class="line">s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">s.bind((TCP_IP, TCP_PORT))</span><br><span class="line">s.listen(<span class="number">1</span>)</span><br><span class="line"> </span><br><span class="line">conn, addr = s.accept()</span><br><span class="line"><span class="built_in">print</span> <span class="string">&#x27;Connection address:&#x27;</span>, addr</span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">     data = conn.recv(BUFFER_SIZE)</span><br><span class="line">     <span class="keyword">if</span> <span class="keyword">not</span> data: <span class="keyword">break</span></span><br><span class="line">     <span class="built_in">print</span> <span class="string">&quot;received data:&quot;</span>, data</span><br><span class="line">     conn.send(data)  <span class="comment"># echo</span></span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure><br>Execute with:<br><br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">$ python server.py</span><br></pre></td></tr></table></figure><br><br>This opens the web server at port 62. In a second screen, open a client with Telnet. If you use the same machine for the client and server use:<br><br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">$ telnet <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">62.</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><br><br>If you use another machine as client, type the according IP address of that machine. You can find it with ifconfig.<br><br>Everything you write from the client will arrive at the server. The server sends the received messages back. An example output below (Click to enlarge):<br><br><h3>socket network client:</h3>

<p>The client script below sends a message to the server. The server must be running!</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">TCP_IP = <span class="string">&#x27;127.0.0.1&#x27;</span></span><br><span class="line">TCP_PORT = <span class="number">5005</span></span><br><span class="line">BUFFER_SIZE = <span class="number">1024</span></span><br><span class="line">MESSAGE = <span class="string">&quot;Hello, World!&quot;</span></span><br><span class="line"></span><br><span class="line">s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">s.connect((TCP_IP, TCP_PORT))</span><br><span class="line">s.send(MESSAGE)</span><br><span class="line">data = s.recv(BUFFER_SIZE)</span><br><span class="line">s.close()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;received data:&quot;</span>, data</span><br></pre></td></tr></table></figure>
<p>This client simply mimics the behavior we did in Telnet.</p>
<p><strong>Limitations of the server code</strong><br>The server code above can only interact with one client.  If you try to connect with a second terminal it simply won’t reply to the new client. To let the server interact with multiple clients you need to use multi-threading. We rebuild the server script to accept multiple client connections:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"><span class="keyword">from</span> SocketServer <span class="keyword">import</span> ThreadingMixIn</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ClientThread</span>(<span class="params">Thread</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,ip,port</span>):</span></span><br><span class="line">        Thread.__init__(self)</span><br><span class="line">        self.ip = ip</span><br><span class="line">        self.port = port</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&quot;[+] New thread started for &quot;</span>+ip+<span class="string">&quot;:&quot;</span>+<span class="built_in">str</span>(port)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            data = conn.recv(<span class="number">2048</span>)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> data: <span class="keyword">break</span></span><br><span class="line">            <span class="built_in">print</span> <span class="string">&quot;received data:&quot;</span>, data</span><br><span class="line">            conn.send(data)  <span class="comment"># echo</span></span><br><span class="line">         </span><br><span class="line">TCP_IP = <span class="string">&#x27;0.0.0.0&#x27;</span></span><br><span class="line">TCP_PORT = <span class="number">62</span></span><br><span class="line">BUFFER_SIZE = <span class="number">20</span>  <span class="comment"># Normally 1024, but we want fast response</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tcpsock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">tcpsock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, <span class="number">1</span>)</span><br><span class="line">tcpsock.bind((TCP_IP, TCP_PORT))</span><br><span class="line">threads = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    tcpsock.listen(<span class="number">4</span>)</span><br><span class="line">    <span class="built_in">print</span> <span class="string">&quot;Waiting for incoming connections...&quot;</span></span><br><span class="line">    (conn, (ip,port)) = tcpsock.accept()</span><br><span class="line">    newthread = ClientThread(ip,port)</span><br><span class="line">    newthread.start()</span><br><span class="line">    threads.append(newthread)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> t <span class="keyword">in</span> threads:</span><br><span class="line">    t.join()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><h3>Application protocol</h3><br>So far we have simply sent messages back and forth. Every message can have a specific meaning in an application. This is known as the protocol.  The meaning of these messages must be the same on both the sender and receiver side.  The Transport Layer below makes sure that messages are received (TCP). The Internet Layer is the IPv4 protocol.  All we have to define is the Application Layer.</p>
<p>Below we modified the server to accept simple commands (We use the non-threading server for simplicity). We changed the port to 64.  Server code with a protocol:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"> </span><br><span class="line">TCP_IP = <span class="string">&#x27;127.0.0.1&#x27;</span></span><br><span class="line">TCP_PORT = <span class="number">64</span></span><br><span class="line">BUFFER_SIZE = <span class="number">20</span>  <span class="comment"># Normally 1024, but we want fast response</span></span><br><span class="line"> </span><br><span class="line">s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">s.bind((TCP_IP, TCP_PORT))</span><br><span class="line">s.listen(<span class="number">1</span>)</span><br><span class="line"> </span><br><span class="line">conn, addr = s.accept()</span><br><span class="line"><span class="built_in">print</span> <span class="string">&#x27;Connection address:&#x27;</span>, addr</span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">     data = conn.recv(BUFFER_SIZE)</span><br><span class="line">     <span class="keyword">if</span> <span class="keyword">not</span> data: <span class="keyword">break</span></span><br><span class="line">     <span class="built_in">print</span> <span class="string">&quot;received data:&quot;</span>, data</span><br><span class="line">     <span class="comment">#conn.send(data)  # echo</span></span><br><span class="line">     <span class="keyword">if</span> <span class="string">&quot;/version&quot;</span> <span class="keyword">in</span> data:</span><br><span class="line">         conn.send(<span class="string">&quot;Demo versionn&quot;</span>)</span><br><span class="line"></span><br><span class="line">     <span class="keyword">if</span> <span class="string">&quot;/echo&quot;</span> <span class="keyword">in</span> data:</span><br><span class="line">         data = data.replace(<span class="string">&quot;/echo&quot;</span>,<span class="string">&quot;&quot;</span>)</span><br><span class="line">         conn.send(data + <span class="string">&quot;n&quot;</span>)</span><br><span class="line"></span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure>
<p>Run the server with:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sudo python server.py</span><br></pre></td></tr></table></figure>
<p>A client can then connect with telnet (make sure you pick the right IP):</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">$ telnet <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> <span class="number">64</span></span><br><span class="line">Trying <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>...</span><br><span class="line">Connected to <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>.</span><br><span class="line">Escape character <span class="keyword">is</span> <span class="string">&#x27;^]&#x27;</span>.</span><br><span class="line">message</span><br><span class="line">/version</span><br><span class="line">Demo version</span><br><span class="line">/echo Repeat this</span><br><span class="line"> Repeat this</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><a href="https://pythoncourses.gumroad.com/l/dcsp" rel="external nofollow noreferrer" target="_blank"><i class="fa fa-arrow-circle-down"></i>  Download sockets Code</a></p>

    
  </div>
  <div class="cat-links">
  <br>     
 
  <div class="article-category">
    Posted in <a class="article-category-link" href="/category/network/">network</a>
  </div>


  </div>
  <br>
  <div class="post-datetag">
    <div class="post-date">
      <time class="post-time" title="2015-05-03 21:40:07" datetime="2015-05-03T21:40:07.000Z" itemprop="datePublished">
  2015-05-03</time>
    </div>
    <div class="post-tag">
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tag/python/" rel="tag">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tag/sockets/" rel="tag">sockets</a></li></ul>

    </div>
  </div>


  

<br><hr style="border: none; border-top: 1px solid rgba(0,0,0,0.1);"/><br>
<div class="comment-section">
<br>
<b>Leave a Reply:</b><br><br>

<form class='contact-form' data-netlify-recaptcha='true' id='simple-contact-form' method='POST' name='pythonspotContactForm'><input type='hidden' name='form-name' value='pythonspotContactForm' />
    <p class="form-row">

  <p class="hidden" style="display:none;">
    <label>Don’t fill this out if you’re human: <input name="bot-field" /></label>
  </p>

    <p class="form-row">
        <label id="contact-form-name-label" for="contact-form-name" class="form-label">Name</label>
        <input type="text" name="name" id="contact-form-name" aria-labelledby="contact-form-name-label" class="pcomment-input" minlength="2" />
    </p>
    <p class="form-row">
    <input type="hidden" name="url" id="url" for="contact-form-url" value="/python-network-sockets-programming-tutorial/">
    </p>


        <label id="contact-form-email-label" for="contact-form-email" class="form-label">Email address</label><br>
        <input type="email" name="email" id="contact-form-email" aria-labelledby="contact-form-email-label" class="pcomment-input" minlength="5" />
    </p>
    <p class="form-row">
       <label id="contact-form-message-label" for="contact-form-message" class="form-label">Message</label><br>
        <textarea
            name="message"
            id="contact-form-message"
            aria-labelledby="contact-form-message-label"
            class="pcomment-text"
            rows="7"
            required
        ></textarea>
    </p>
    <div class='form-row'><script src='https://www.google.com/recaptcha/api.js'></script>
<div class='g-recaptcha' data-sitekey='6LdnkKEqAAAAAPvyqoRAmjXxvE6evlb5z-5Ol90Y'></div>
<noscript>
  <div>
  <div style="width: 302px; height: 422px; position: relative;">
  <div style="width: 302px; height: 422px; position: absolute;">
  <iframe src="https://www.google.com/recaptcha/api/fallback?k=6LdnkKEqAAAAAPvyqoRAmjXxvE6evlb5z-5Ol90Y" frameborder="0" scrolling="no"
    style="width: 302px; height:422px; border-style: none;">
  </iframe>
  </div>
  </div>
  <div style="width: 300px; height: 60px; border-style: none; bottom: 12px; left: 25px; margin: 0px; padding: 0px; right: 25px; background: #f9f9f9; border: 1px solid #c1c1c1; border-radius: 3px;">
    <textarea id="g-recaptcha-response" name="g-recaptcha-response" class="g-recaptcha-response"
      style="width: 250px; height: 40px; border: 1px solid #c1c1c1; margin: 10px 25px; padding: 0px; resize: none;" >
    </textarea>
  </div>
  </div>
</noscript>
</div>
    <p class="form-row form-submit">
        <button type="submit" class="button">Send Message</button>
    </p>
</form>


<br>




  <div class="pcomment">
   <div class="pcomment-0">
     <span class="pcomment-username">Alexander Zhang</span>
     <span class="pcomment-date">•</span>
     <span class="pcomment-date">Wed, 29 Mar 2017</span>
     <p>What is the difference between Web programming and network programming?</p>
   </div>
 </div>

  <div class="pcomment">
   <div class="pcomment-0">
     <span class="pcomment-username">Frank</span>
     <span class="pcomment-date">•</span>
     <span class="pcomment-date">Wed, 29 Mar 2017</span>
     <p>Compared to the human communication: The web is a language on top of sockets, this computer language is called 'http'. A network programming program can speak any language ('http','email','ftp','irc'..). "Web programming : network" is as "English : sounds"</p>
   </div>
 </div>

  <div class="pcomment">
   <div class="pcomment-1">
     <span class="pcomment-username">Alexander Zhang</span>
     <span class="pcomment-date">•</span>
     <span class="pcomment-date">Wed, 29 Mar 2017</span>
     <p>Thank you!I am a Chinese,could I follow you on twitter?谢谢!</p>
   </div>
 </div>

  <div class="pcomment">
   <div class="pcomment-2">
     <span class="pcomment-username">Frank</span>
     <span class="pcomment-date">•</span>
     <span class="pcomment-date">Wed, 29 Mar 2017</span>
     <p>Yes, <a target="_blank" href="https://twitter.com/pythonspot" rel="nofollow noopener noopener" title="https://twitter.com/pythonspot">https://twitter.com/pythonspot</a></p>
   </div>
 </div>





</article>



    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">

            <br><br><br><br>

<div id="contentsearch">
  <form id="searchForm" name="searchForm" action="https://google.com/search">
    <input name="q" type="text" value="" placeholder="search" maxlength="200" />
    <input name="q" type="hidden" value="site:pythonspot.com"/>
  </form>
</div>

	    <br>
	    <br>
	    
            <ul>
            <li id="menu-item"><a href="/beginner/">Beginner</a></li>
            <li id="menu-item"><a href="/gui/">Graphical Interfaces (GUI)</a></li>
            <li id="menu-item"><a href="/web-development/">Web development</a></li>
            <li id="menu-item"><a href="/python-database/">Database</a></li>
            <li id="menu-item"><a href="/robotics/">Robotics</a></li>
            <li id="menu-item"><a href="/matplotlib/">Matplotlib</a></li>
            <li id="menu-item"><a href="/network/">Network</a></li>
            <li id="menu-item"><a href="/machine-learning/">Machine Learning</a></li>
            </ul>

        </nav>
    </aside>
   
    </div>
    <footer class="footer-nav">
      
  <span class="footer-msg">
    Copyright &copy; 2015
    
    - 2023
    
    <span class="timeDivide">-</span>
    
    Pythonspot.&nbsp; |
    
    <a href="https://pythonspot.com/cookie-policy/">Cookie policy</a> | <a href="https://pythonspot.com/terms-of-use/">Terms of use</a> | <a href="https://pythonspot.com/privacy-policy/">Privacy policy</a>
  </span>

<script>
let post = window.location.href;

if(post.indexOf("comment-page") != -1){
  post = post.replace("comment-page-1/", "");
  post = post.replace("comment-page-2/", "");
  post = post.replace("comment-page-3/", "");
  post = post.replace("comment-page-4/", "");
  post = post.replace("comment-page-5/", "");
  post = post.replace("comment-page-6/", "");
  post = post.replace("comment-page-7/", "");
  post = post.replace("comment-page-8/", "");
  window.location.href = post;
}
</script>


    </footer>
    <!-- <div class="back-top" id="back-top">
      <i class="back-top-icon"></i>
    </div> -->
    
  
  <!-- <script src="/js/jquery/jquery-3.1.1.min.js"></script>  -->
  
  <!-- 
<script src="/js/theme.js"></script>

       
<script src="/js/index.js"></script>

       inline scripts -->


  </div>
</body>
