
<!DOCTYPE html>







<html data-bs-theme="auto" lang="en">
    <head>
        
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>
            
                RFC 2703 - Protocol-independent Content Negotiation Framework
            
        </title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://static.ietf.org/fonts/inter/import.css" rel="stylesheet">
        <link href="https://static.ietf.org/fonts/noto-sans-mono/import.css" rel="stylesheet">
        
            <link rel="stylesheet" href="https://static.ietf.org/dt/12.40.0/ietf/css/document_html_referenced.css">
            
            <script type="module" crossorigin="" src="https://static.ietf.org/dt/12.40.0/assets/embedded-2913faa2.js"></script>
<link href="https://static.ietf.org/dt/12.40.0/assets/create-pinia-singleton-11b3ca5c.js" type="text/javascript" crossorigin="anonymous" rel="modulepreload" as="script" />
<link href="https://static.ietf.org/dt/12.40.0/assets/Scrollbar-50c4ab08.js" type="text/javascript" crossorigin="anonymous" rel="modulepreload" as="script" />
            <script src="https://static.ietf.org/dt/12.40.0/ietf/js/document_html.js"></script>
            <script src="https://static.ietf.org/dt/12.40.0/ietf/js/theme.js"></script>
        
        <link rel="alternate" type="application/atom+xml" title="Document changes" href="/feed/document-changes/rfc2703/">
        <meta name="description"
            
                content="Protocol-independent Content Negotiation Framework (RFC 2703, )"
            >
        

<link rel="apple-touch-icon"
      sizes="180x180"
      href="https://static.ietf.org/dt/12.40.0/ietf/images/ietf-logo-nor-180.png">
<link rel="icon"
      sizes="32x32"
      href="https://static.ietf.org/dt/12.40.0/ietf/images/ietf-logo-nor-32.png">
<link rel="icon"
      sizes="16x16"
      href="https://static.ietf.org/dt/12.40.0/ietf/images/ietf-logo-nor-16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon"
      href="https://static.ietf.org/dt/12.40.0/ietf/images/ietf-logo-nor-mask.svg"
      color="#ffffff">
<meta name="msapplication-TileColor"
      content="#ffffff">
<meta name="theme-color"
      content="#ffffff">
        




<meta property="og:title" content="RFC 2703: Protocol-independent Content Negotiation Framework">
<meta property="og:url" content="https://datatracker.ietf.org/doc/html/rfc2703">
<link rel="canonical" href="https://datatracker.ietf.org/doc/html/rfc2703">
<meta property="og:site_name" content="IETF Datatracker">
<meta property="og:description" content="This memo sets out terminology, an abstract framework and goals for protocol-independent content negotiation, and identifies some technical issues which may need to be addressed. This memo provides information for the Internet community.">
<meta property="og:type" content="article">

<meta property="og:image" content="https://static.ietf.org/dt/12.40.0/ietf/images/ietf-logo-card.png">
<meta property="og:image:alt" content="Logo of the IETF">
<meta property="article:section" content="IETF - Internet Engineering Task Force">
<meta property="og:image:type" content="image/png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta name="twitter:card" content="summary_large_image">

<meta property="article:author" content="Graham Klyne">



        
        <style>
            
            .diff-form .select2-selection__rendered {
                direction: rtl;
                text-align: left;
            }
        </style>
    </head>
    <body>
        
        <noscript><iframe class="status" title="Site status" src="/status/latest"></iframe></noscript>
<div class="vue-embed" data-component="Status"></div>
        <div class="btn-toolbar sidebar-toolbar position-fixed top-0 end-0 m-2 m-lg-3 d-print-none">
            <div class="dropdown">
                <button class="btn btn-outline-secondary btn-sm me-1 dropdown-toggle d-flex align-items-center"
                    id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown"
                    aria-label="Toggle theme">
                        <i class="theme-icon-active bi bi-circle-half"></i>
                </button>

                <ul class="dropdown-menu" aria-labelledby="bd-theme">
                    <li>
                        <button type="button" class="dropdown-item d-flex align-items-center"
                            data-bs-theme-value="light" aria-pressed="false">
                            <i class="me-2 opacity-50 theme-icon bi bi-sun-fill"></i>
                            Light<i class="bi bi-check2 ms-auto d-none"></i>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dropdown-item d-flex align-items-center"
                            data-bs-theme-value="dark" aria-pressed="false">
                            <i class="me-2 opacity-50 theme-icon bi bi-moon-stars-fill"></i>
                            Dark<i class="bi bi-check2 ms-auto d-none"></i>
                        </button>
                    </li>
                    <li>
                        <button type="button" class="dropdown-item d-flex align-items-center active"
                            data-bs-theme-value="auto" aria-pressed="true">
                            <i class="me-2 opacity-50 theme-icon bi bi-circle-half"></i>
                            Auto<i class="bi bi-check2 ms-auto d-none"></i>
                        </button>
                    </li>
                </ul>
            </div>
            <button class="btn btn-outline-secondary btn-sm sidebar-toggle"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#sidebar"
                    aria-expanded="true"
                    aria-controls="sidebar"
                    aria-label="Toggle metadata sidebar"
                    title="Toggle metadata sidebar">
            <i class="bi bi-arrow-bar-left sidebar-shown"></i>
            <i class="bi bi-arrow-bar-right sidebar-collapsed"></i>
            </button>
        </div>
        <nav class="navbar bg-light-subtle px-1 fixed-top d-print-none d-md-none">
            <a class="nav-link ps-1"
               href="/doc/rfc2703/">
                
                    RFC 2703
                
                <br class="d-sm-none">

                <span class="ms-sm-3 badge rounded-pill badge-inf">
                    
                        Informational
                    
                </span>
            </a>
            <button class="navbar-toggler p-1"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#docinfo-collapse"
                    aria-controls="docinfo-collapse"
                    aria-expanded="false"
                    aria-label="Show document information">
                <span class="navbar-toggler-icon small"></span>
            </button>
            <div class="navbar-nav navbar-nav-scroll overscroll-none collapse pt-1" id="docinfo-collapse">
                <div class="bg-light-subtle p-0">
                    <table class="table table-sm table-borderless small">
                        <tbody class="meta align-top">
                            <tr>
                                <th scope="row"></th>
                                <th scope="row">Title</th>
                                <td class="edit"></td>
                                <td>Protocol-independent Content Negotiation Framework</td>
                            </tr>
                        </tbody>
                        







<tbody class="meta align-top ">
    <tr>
        <th scope="row">Document</th>
        <th scope="row">Document type</th>
        <td class="edit"></td>
        <td>
            





<span class="text-success">RFC
    
    - Informational
    
</span>

            
                
                    <br>September 1999
                
                <br>
                
                
                    <a class="btn btn-sm btn-warning"
                       title="Click to report an error in the document."
                       href="https://www.rfc-editor.org/errata.php#reportnew"
                       target="_blank">
                        Report errata
                    </a>
                
                
                
                
                
                
                
                
                
                    <div>
                        Was
                        <a href="/doc/draft-ietf-conneg-requirements/02/">draft-ietf-conneg-requirements</a>
                        (<a href="/wg/conneg/about/">conneg WG</a>)
                    </div>
                
            
            
            
                




    


            
        </td>
    </tr>
    
        <tr>
            <td></td>
            <th scope="row">Select version</th>
            <td class="edit"></td>
            <td>
                



    <ul class="revision-list pagination pagination-sm text-center flex-wrap my-0">
        
            
            
                
                    <li class="page-item">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-conneg-requirements-02"
                        rel="nofollow">
                            02
                        </a>
                    </li>
                
            
            
            <li class="page-item rfc active">
                <a class="page-link"
                href="/doc/html/rfc2703">
                    RFC 2703
                </a>
            </li>
        
    </ul>

            </td>
        </tr>
        
            <tr>
                <td></td>
                <th scope="row">Compare versions</th>
                <td class="edit"></td>
                <td>
                    



<form class="form-horizontal diff-form"
      action="https://author-tools.ietf.org/iddiff"
      method="get"
      target="_blank">

            <select class="form-select form-select-sm mb-1 select2-field"
                    data-max-entries="1"
                    data-width="resolve"
                    data-allow-clear="false"
                    data-minimum-input-length="0"
                    aria-label="From revision"
                    name="url1">
                
                    <option value="rfc2703">
                        RFC 2703
                        
                    </option>
                
                    <option value="draft-ietf-conneg-requirements-02" selected>
                        draft-ietf-conneg-requirements-02
                        
                    </option>
                
                    <option value="draft-ietf-conneg-requirements-01">
                        draft-ietf-conneg-requirements-01
                        
                    </option>
                
                    <option value="draft-ietf-conneg-requirements-00">
                        draft-ietf-conneg-requirements-00
                        
                    </option>
                
                
            </select>

            <select class="form-select form-select-sm mb-1 select2-field"
                    data-max-entries="1"
                    data-width="resolve"
                    data-allow-clear="false"
                    data-minimum-input-length="0"
                    aria-label="To revision"
                    name="url2">
                
                    <option value="rfc2703" selected>
                        RFC 2703
                        
                    </option>
                
                    <option value="draft-ietf-conneg-requirements-02">
                        draft-ietf-conneg-requirements-02
                        
                    </option>
                
                    <option value="draft-ietf-conneg-requirements-01">
                        draft-ietf-conneg-requirements-01
                        
                    </option>
                
                    <option value="draft-ietf-conneg-requirements-00">
                        draft-ietf-conneg-requirements-00
                        
                    </option>
                
                
            </select>

            <button type="submit"
                    class="btn btn-primary btn-sm"
                    value="--html"
                    name="difftype">
                Side-by-side
            </button>
            
            <button type="submit"
                    class="btn btn-primary btn-sm"
                    value="--hwdiff"
                    name="difftype">
                Inline
            </button>

</form>
                </td>
            </tr>
        
    
    <tr>
        <td></td>
        <th scope="row">Author</th>
        <td class="edit">
            
        </td>
        <td>
            
            
                <span ><a 
           title="Datatracker profile of Graham Klyne"
            href="/person/gk@ninebynine.org" >Graham Klyne</a> <a 
               href="mailto:gk%40ninebynine.org"
               aria-label="Compose email to gk@ninebynine.org"
               title="Compose email to gk@ninebynine.org">
                <i class="bi bi-envelope"></i></a></span>
            
            
                <br>
                <a class="btn btn-primary btn-sm mt-1" href="mailto:rfc2703@ietf.org?subject=rfc2703" title="Send email to the document authors">Email authors</a>
            
        </td>
    </tr>
    
    
    <tr>
        <td></td>
        <th scope="row">
            RFC stream
        </th>
        <td class="edit">
            
        </td>
        <td >
            
                
                
                    
                        



<img alt="IETF Logo"
     class="d-lm-none w-25 mt-1"
     
     
        
             src="https://static.ietf.org/dt/12.40.0/ietf/images/ietf-logo-nor-white.svg"
        
     
     >

<img alt="IETF Logo"
     class="d-dm-none w-25 mt-1"
     
     
        
             src="https://static.ietf.org/dt/12.40.0/ietf/images/ietf-logo-nor.svg"
        
     
     >
                    
                
                
            
        </td>
    </tr>
    
    <tr>
        <td></td>
        <th scope="row">
            Other formats
        </th>
        <td class="edit">
        </td>
        <td>
            
                
    <div class="buttonlist">
    
        
        <a class="btn btn-primary btn-sm"
          
          target="_blank"
          href="https://www.rfc-editor.org/rfc/rfc2703.txt">
            
                <i class="bi bi-file-text"></i> txt
            
        </a>
        
    
        
        <a class="btn btn-primary btn-sm"
          
          target="_blank"
          href="https://www.rfc-editor.org/rfc/rfc2703.html">
            
                <i class="bi bi-file-code"></i> html
            
        </a>
        
    
        
        <a class="btn btn-primary btn-sm"
          
            download="rfc2703.pdf"
          
         
          target="_blank"
          href="https://www.rfc-editor.org/rfc/pdfrfc/rfc2703.txt.pdf">
            
                <i class="bi bi-file-pdf"></i> pdf
            
        </a>
        
    
        
    
        
        <a class="btn btn-primary btn-sm"
          
          target="_blank"
          href="/doc/rfc2703/bibtex/">
            
                <i class="bi bi-file-ruled"></i> bibtex
            
        </a>
        
    
</div>

            
        </td>
    </tr>
    
    
        
            <tr>
                <td>
                </td>
                <th scope="row">
                    Additional resources
                </th>
                <td class="edit">
                    
                </td>
                <td>
                    
                        
                        
                            
                                <a href="http://www.imc.org/ietf-medfree/">
                                    Mailing list discussion
                                </a>
                            
                        
                    
                </td>
            </tr>
        
    
</tbody>
                        <tr>
                            <th scope="row"></th>
                            <th scope="row"></th>
                            <td class="edit"></td>
                            <td>
                                <a class="btn btn-sm btn-warning mb-3"
                                target="_blank"
                                href="https://github.com/ietf-tools/datatracker/issues/new/choose">
                                    Report a bug
                                    <i class="bi bi-bug"></i>
                                </a>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </nav>
        <div class="row g-0">
            <div class="col-md-9 d-flex justify-content-center lh-sm"
                 data-bs-spy="scroll"
                 data-bs-target="#toc-nav"
                 data-bs-smooth-scroll="true"
                 tabindex="0"
                 id="content">
                
                    <div class="rfcmarkup">
                        <br class="noprint">
                        <!-- [html-validate-disable-block attr-quotes, void-style, element-permitted-content, heading-level -- FIXME: rfcmarkup/rfc2html generates HTML with issues] -->
                        <div class="rfcmarkup"><pre>Network Working Group                                         G. Klyne
Request for Comments: 2703                    5GM/Content Technologies
Category: Informational                                 September 1999


           <span class="h1">Protocol-independent Content Negotiation Framework</span>

Status of this Memo

   This memo provides information for the Internet community.  It does
   not specify an Internet standard of any kind.  Distribution of this
   memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (1999).  All Rights Reserved.

Abstract

   A number of Internet application protocols have a need to provide
   content negotiation for the resources with which they interact.  MIME
   media types [<a href="#ref-1" title="&quot;Multipurpose Internet Mail Extensions (MIME) Part 1: Format of Internet message bodies&quot;">1</a>,<a href="#ref-2" title="&quot;Multipurpose Internet Mail Extensions (MIME) Part 2: Media Types&quot;">2</a>] provide a standard method for handling one major
   axis of variation, but resources also vary in ways which cannot be
   expressed using currently available MIME headers.

   This memo sets out terminology, an abstract framework and goals for
   protocol-independent content negotiation, and identifies some
   technical issues which may need to be addressed.

   The abstract framework does not attempt to specify the content
   negotiation process, but gives an indication of the anticipated scope
   and form of any such specification.  The goals set out the desired
   properties of a content negotiation mechanism.

Table of Contents

   <a href="#section-1">1</a>. Introduction.............................................<a href="#page-2">2</a>
     <a href="#section-1.1">1.1</a> Structure of this document ...........................<a href="#page-3">3</a>
     <a href="#section-1.2">1.2</a> Discussion of this document ..........................<a href="#page-3">3</a>
   <a href="#section-2">2</a>. Terminology and definitions..............................<a href="#page-3">3</a>
   <a href="#section-3">3</a>. Framework................................................<a href="#page-7">7</a>
     <a href="#section-3.1">3.1</a> Abstract framework for content negotiation ...........<a href="#page-8">8</a>
        <a href="#section-3.1.1">3.1.1</a> The negotiation process..........................<a href="#page-9">9</a>
     <a href="#section-3.2">3.2</a> Abstract model for negotiation metadata .............<a href="#page-10">10</a>
     <a href="#section-3.3">3.3</a> Text representation for negotiation metadata ........<a href="#page-11">11</a>
     <a href="#section-3.4">3.4</a> ASN.1 description of negotiation metadata ...........<a href="#page-11">11</a>
     <a href="#section-3.5">3.5</a> Protocol binding guidelines .........................<a href="#page-11">11</a>
   <a href="#section-4">4</a>. Goals...................................................<a href="#page-12">12</a>



<span class="grey">Klyne                        Informational                      [Page 1]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-2" ></span>
<span class="grey"><a href="/doc/html/rfc2703">RFC 2703</a>        Protocol-independent Content Negotiation  September 1999</span>


     <a href="#section-4.1">4.1</a> Generic framework and metadata goals ................<a href="#page-12">12</a>
     <a href="#section-4.2">4.2</a> Protocol-specific deployment goals ..................<a href="#page-12">12</a>
   <a href="#section-5">5</a>. Technical issues........................................<a href="#page-14">14</a>
     <a href="#section-5.1">5.1</a> Non-message resource transfers ......................<a href="#page-14">14</a>
     <a href="#section-5.2">5.2</a> End-to-end vs hop-by-hop negotiations ...............<a href="#page-14">14</a>
     <a href="#section-5.3">5.3</a> Third-party negotiation .............................<a href="#page-15">15</a>
     <a href="#section-5.4">5.4</a> Use of generic directory and resolution services ....<a href="#page-15">15</a>
     <a href="#section-5.5">5.5</a> Billing issues ......................................<a href="#page-15">15</a>
     <a href="#section-5.6">5.6</a> Performance considerations ..........................<a href="#page-15">15</a>
     <a href="#section-5.7">5.7</a> Confidence levels in negotiated options .............<a href="#page-16">16</a>
   <a href="#section-6">6</a>. Security Considerations.................................<a href="#page-16">16</a>
     <a href="#section-6.1">6.1</a> Privacy .............................................<a href="#page-16">16</a>
     <a href="#section-6.2">6.2</a> Denial of service attacks ...........................<a href="#page-17">17</a>
     <a href="#section-6.3">6.3</a> Mailing list interactions ...........................<a href="#page-17">17</a>
     <a href="#section-6.4">6.4</a> Use of security services ............................<a href="#page-17">17</a>
     <a href="#section-6.5">6.5</a> Disclosure of security weaknesses ...................<a href="#page-18">18</a>
        <a href="#section-6.5.1">6.5.1</a> User agent identification.......................<a href="#page-18">18</a>
        <a href="#section-6.5.2">6.5.2</a> Macro viruses...................................<a href="#page-18">18</a>
        <a href="#section-6.5.3">6.5.3</a> Personal vulnerability..........................<a href="#page-18">18</a>
     <a href="#section-6.6">6.6</a> Problems of negotiating security ....................<a href="#page-18">18</a>
   <a href="#section-7">7</a>. Acknowledgements........................................<a href="#page-18">18</a>
   <a href="#section-8">8</a>. References..............................................<a href="#page-19">19</a>
   <a href="#section-9">9</a>. Author&#x27;s Address........................................<a href="#page-19">19</a>
   <a href="#section-10">10</a>. Full Copyright Statement...............................<a href="#page-20">20</a>

<span class="h2"><a class="selflink" id="section-1" href="#section-1">1</a>. Introduction</span>

   A number of Internet application protocols have a need to provide
   content negotiation for the resources with which they interact.
   While MIME media types [<a href="#ref-1" title="&quot;Multipurpose Internet Mail Extensions (MIME) Part 1: Format of Internet message bodies&quot;">1</a>, <a href="#ref-2" title="&quot;Multipurpose Internet Mail Extensions (MIME) Part 2: Media Types&quot;">2</a>] provide a standard method for handling
   one major axis of variation, resources also vary in ways which cannot
   be expressed using currently available MIME headers.

   This memo sets out terminology, a framework and some goals for a
   protocol-independent content negotiation framework, and identifies
   some technical issues which may need to be addressed.

   The framework does not attempt to specify the content negotiation
   process; rather it gives an indication of the anticipated scope and
   form of any such specifications.

   The statement of goals is intended to set out the desired properties
   of a content negotiation framework, while trying to avoid any
   assumption of the form that framework may take.







<span class="grey">Klyne                        Informational                      [Page 2]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-3" ></span>
<span class="grey"><a href="/doc/html/rfc2703">RFC 2703</a>        Protocol-independent Content Negotiation  September 1999</span>


<span class="h3"><a class="selflink" id="section-1.1" href="#section-1.1">1.1</a> Structure of this document</span>

   The main part of this memo addresses four main areas:

   <a href="#section-2">Section 2</a> defines some of the terms which are used with special
   meaning.

   <a href="#section-3">Section 3</a> outlines a proposed framework for describing protocol-
   independent content negotiation.

   <a href="#section-4">Section 4</a> describes various goals for content negotiation.

   <a href="#section-5">Section 5</a> discusses some of the technical issues which are raised by
   this document, with cross-references to other work where appropriate.

<span class="h3"><a class="selflink" id="section-1.2" href="#section-1.2">1.2</a> Discussion of this document</span>

   Discussion of this document should take place on the content
   negotiation and media feature registration mailing list hosted by the
   Internet Mail Consortium (IMC).

   Please send comments regarding this document to:

      ietf-medfree@imc.org

   To subscribe to this list, send a message with the body &#x27;subscribe&#x27;
   to &quot;ietf-medfree-request@imc.org&quot;.

   To see what has gone on before you subscribed, please see the mailing
   list archive at:

      <a href="http://www.imc.org/ietf-medfree/">http://www.imc.org/ietf-medfree/</a>

<span class="h2"><a class="selflink" id="section-2" href="#section-2">2</a>. Terminology and definitions</span>

   This section introduces a number of terms which are used with
   specific meaning in the content negotiation documents. Many of these
   have been copied and adapted from [<a href="#ref-5" title="&quot;Transparent Content Negotiation in HTTP&quot;">5</a>].

   The terms are listed in alphabetical order.

   Capability
             An attribute of a sender or receiver (often the receiver)
             which indicates an ability to generate or process a
             particular type of message content.






<span class="grey">Klyne                        Informational                      [Page 3]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-4" ></span>
<span class="grey"><a href="/doc/html/rfc2703">RFC 2703</a>        Protocol-independent Content Negotiation  September 1999</span>


   Characteristic
             Some description of a sender or receiver which indicates a
             possible capability or preference.

   Choice message
             A choice message returns a representation of some selected
             variant or variants, together with the variant list of the
             negotiable resource. It can be generated when the sender
             has sufficient information to select a variant for the
             receiver, and also requires to inform the receiver about
             the other variants available.

   Connected mode
             A mode of operation in which sender and receiver are
             directly connected, and hence are not prevented from
             definitively determining each other&#x27;s capabilities.  (See
             also: Session mode)

   Content feature
             (see Feature)

   Content negotiation
             An exchange of information (negotiation metadata) which
             leads to selection of the appropriate representation
             (variant) when transferring a data resource.

   Data resource
             A network data object that can be transferred.  Data
             resources may be available in multiple representations
             (e.g. multiple languages, data formats, size, resolutions)
             or vary in other ways.  (See also: Message, Resource)

   Feature   A piece of information about the media handling properties
             of a message passing system component or of a data
             resource.

   Feature tag
             A name that identifies a &quot;feature&quot;.

   Feature set
             Information about a sender, recipient, data file or other
             participant in a message transfer which describes the set
             of features that it can handle.

             Where a &#x27;feature&#x27; describes a single identified attribute
             of a resource, a &#x27;feature set&#x27; describes full set of
             possible attributes.




<span class="grey">Klyne                        Informational                      [Page 4]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-5" ></span>
<span class="grey"><a href="/doc/html/rfc2703">RFC 2703</a>        Protocol-independent Content Negotiation  September 1999</span>


   List message
             A list message sends the variant list of a negotiable
             resource, but no variant data.  It can be generated when
             the sender does not want to, or is not allowed to, send a
             particular variant.

   Media feature
             information that indicates facilities assumed to be
             available for the message content to be properly rendered
             or otherwise presented.  Media features are not intended to
             include information that affects message transmission.

   Message   Data which is transmitted from a sender to a receiver,
             together with any encapsulation which may be applied.
             Where a data resource is the original data which may be
             available in a number of representations, a message
             contains those representation(s) which are actually
             transmitted. Negotiation metadata is not generally
             considered to be part of a message.

             Message data is distinguished from other transmitted data
             by the fact that its content is fully determined before the
             start of transmission.

   Negotiated content
             Message content which has been selected by content
             negotiation.

   Negotiation
             (See: content negotiation)

   Negotiable resource
             A data resource which has multiple representations
             (variants) associated with it. Selection of an appropriate
             variant for transmission in a message is accomplished by
             content negotiation between the sender and recipient.

   Negotiation metadata
             Information which is exchanged between the sender and
             receiver of a message by content negotiation in order to
             determine the variant which should be transferred.

   Neighbouring variant
             A particular representation (variant) of a variant resource
             which can safely be assumed to be subject to the same
             access controls as the variant resource itself. Not all
             variants of a given variant resource are necessarily
             neighbouring variants. The fact that a particular variant



<span class="grey">Klyne                        Informational                      [Page 5]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-6" ></span>
<span class="grey"><a href="/doc/html/rfc2703">RFC 2703</a>        Protocol-independent Content Negotiation  September 1999</span>


             is or is not a neighbouring variant has implications for
             security considerations when determining whether that
             variant can be sent to a receiver in place of the
             corresponding variant resource. It may also have
             implications when determining whether or not a sender is
             authorized to transmit a particular variant.

   Preference
             An attribute of a sender or receiver (often the receiver)
             which indicates an preference to generate or process one
             particular type of message content over another, even if
             both are possible.

   Receiver  A system component (device or program) which receives a
             message.

   Receiver-initiated transmission
             A message transmission which is requested by the eventual
             receiver of the message. Sometimes described as &#x27;pull&#x27;
             messaging. E.g. an HTTP GET operation.

   Resource  A document, data file or facility which is accessed or
             transmitted across a network.  (See also: Data resource)

   Sender    A system component (device or program) which transmits a
             message.

   Sender-initiated transmission
             A message transmission which is invoked by the sender of
             the message. Sometimes described as &#x27;push&#x27; messaging.  E.g.
             sending an e-mail.

   Session mode
             A mode of message transmission in which confirmation of
             message delivery is received by the sender in the same
             application session (usually the same transport connection)
             that is used to transmit the message.  (See also: connected
             mode, store and forward mode)

   Store and forward mode
             A mode of message transmission in which the message is held
             in storage for an unknown period of time on message
             transfer agents before being delivered.

   Syntax    The form used to express some value;  especially the format
             used to express a media feature value, or a feature set.
             (See also: feature value, feature set, type.)




<span class="grey">Klyne                        Informational                      [Page 6]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-7" ></span>
<span class="grey"><a href="/doc/html/rfc2703">RFC 2703</a>        Protocol-independent Content Negotiation  September 1999</span>


   Transmission
             The process of transferring a message from a sender to a
             receiver.  This may include content negotiation.

   Type      The range of values that can be indicated by some
             identifier of variable;  especially the range of values
             that can be indicated by a feature tag.  (See also:
             feature, syntax.)

             NOTE:  this differs from usage employed by the LDAP/X.500
             directory community, who use the terms &quot;attribute type&quot; to
             describe an identifier for a value in a directory entry,
             and &quot;attribute syntax&quot; to describe a range of allowed
             attribute values.

   User agent
             A system component which prepares and transmits a message,
             or receives a message and displays, prints or otherwise
             processes its contents.

   Variant   One of several possible representations of a data
             resource.

   Variant list
             A list containing variant descriptions, which can be bound
             to a negotiable resource.

   Variant description
             A machine-readable description of a variant resource,
             usually found in a variant list.  A variant description
             contains a variant resource identifier and various
             attributes which describe properties of the variant.

   Variant resource
             A data resource for which multiple representations
             (variants) are available.

<span class="h2"><a class="selflink" id="section-3" href="#section-3">3</a>. Framework</span>

   For the purposes of this document, message transmission protocol
   capabilities are explicitly disregarded:  it is presumed that these
   will be dealt with separately by some orthogonal mechanism.









<span class="grey">Klyne                        Informational                      [Page 7]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-8" ></span>
<span class="grey"><a href="/doc/html/rfc2703">RFC 2703</a>        Protocol-independent Content Negotiation  September 1999</span>


   Content negotiation covers three elements:

   1. expressing the capabilities of the sender and the data resource to
      be transmitted (as far as a particular message is concerned),

   2. expressing the capabilities of a receiver (in advance of the
      transmission of the message), and

   3. a protocol by which capabilities are exchanged.

   These negotiation elements are addressed by a negotiation framework
   incorporating a number of design elements with dependencies shown:

             [ Abstract  ]               [   Abstract   ]
             [negotiation]               [ negotiation  ]
             [  process  ]               [   metadata   ]
                   |                            |
                   V                            V
             [Negotiation]               [ Negotiation  ]
             [ protocol  ]               [   metadata   ]
             [  binding  ]               [representation]
                   |                            |
                    -------              -------
                           |            |
                           V            V
                       [Application protocol]
                       [   incorporating    ]
                       [content negotiation ]

   Within this overall framework, expressing the capabilities of sender
   and receiver is covered by negotiation metadata.  The protocol for
   exchanging capabilities is covered by the abstract negotiation
   framework and its binding to a specific application protocol.

   Application protocol independence is addressed by separating the
   abstract negotiation process and metadata from concrete
   representations and protocol bindings.

<span class="h3"><a class="selflink" id="section-3.1" href="#section-3.1">3.1</a> Abstract framework for content negotiation</span>

   The negotiation framework provides for an exchange of negotiation
   metadata between the sender and receiver of a message which leads to
   determination of a data format which the sender can provide and the
   recipient can process.  Thus, there are three main elements which are
   the subjects of the negotiation process and whose capabilities are
   described by the negotiation metadata: the sender, the transmitted
   data file format and the receiver.




<span class="grey">Klyne                        Informational                      [Page 8]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-9" ></span>
<span class="grey"><a href="/doc/html/rfc2703">RFC 2703</a>        Protocol-independent Content Negotiation  September 1999</span>


   The life of a data resource may be viewed as:

            (C)     (T)     (F)
        [<a href="#ref-A">A</a>]--&gt;--[S]--&gt;--[R]--&gt;--[U]

   where:

     [<a id="ref-A">A</a>] = author of document
     (C) = original document content
     [S] = message sending system
     (T) = transmitted data file (representation of (C))
     [R] = receiving system
     (F) = formatted (rendered) document data (presentation of (C))
     [U] = user or consumer of a document

   Here, it is [S] and [R] who exchange negotiation metadata to decide
   the form of (T), so these elements are the focus of our attention.

   Negotiation metadata provided by [S] would take account of available
   document content (C) (e.g. availability of resource variants) as well
   as its own possible ability to offer that content in a variety of
   formats.

   Negotiation metadata provided by [R] would similarly take account of
   the needs and preferences of its user [U] as well as its own
   capabilities to process and render received data.

<span class="h4"><a class="selflink" id="section-3.1.1" href="#section-3.1.1">3.1.1</a> The negotiation process</span>

   Negotiation between the sender [S] and the receiver [R] consists of a
   series of negotiation metadata exchanges that proceeds until either
   party determines a specific data file (T) to be transmitted.  If the
   sender makes the final determination, it can send the file directly.
   Otherwise the receiver must communicate its selection to the sender
   who sends the indicated file.

   This process implies an open-ended exchange of information between
   sender and receiver.  Not every implementation is expected to
   implement this scheme with the full generality thus implied.  Rather,
   it is expected that every concrete negotiation can be viewed as a
   subset of this process.

   For example, Transparent Content Negotiation (TCN) [<a href="#ref-5" title="&quot;Transparent Content Negotiation in HTTP&quot;">5</a>] uses a model
   in which one of the following happens:

   o  The recipient requests a resource with no variants, in which case
      the sender simply sends what is available.




<span class="grey">Klyne                        Informational                      [Page 9]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-10" ></span>
<span class="grey"><a href="/doc/html/rfc2703">RFC 2703</a>        Protocol-independent Content Negotiation  September 1999</span>


   o  A variant resource is requested, in which case the server replies
      with a list of available variants, and the client chooses one
      variant from those offered.

   o  The recipient requests a variant resource, and also provides
      negotiation metadata (in the form &#x27;Accept&#x27; headers) which allows
      the server to make a choice on the client&#x27;s behalf.

   Another, simpler example is that of fax negotiation:  in this case
   the intended recipient declares its capabilities, and the sender
   chooses a message variant to match.

   Each of these can be viewed as a particular case of the general
   negotiation process described above.  Similar observations can be
   made regarding the use of directory services or MIME &#x27;
   Multipart/alternative&#x27; in conjunction with e-mail message
   transmission.

<span class="h3"><a class="selflink" id="section-3.2" href="#section-3.2">3.2</a> Abstract model for negotiation metadata</span>

   A simple but general negotiation framework has been described, which
   is based on the exchange of negotiation metadata between sender and
   recipient.  The mechanism by which data is exchanged is not important
   to the abstract negotiation framework, but something does need to be
   said about the general form of the metadata.

   The terminology and definitions section of this document places
   constraints on the form of negotiation metadata, and the descriptions
   that follow should be read in conjunction with the definitions to
   which they refer.

   Negotiation metadata needs to encompass the following elements:

   o  Media feature: a way to describe attributes of a data resource.

   o  Feature set: a description of a range of possible media feature
      combinations which can be:  offered by a sender;  represented by a
      data file format;  or processed by a receiver.

   o  One or more naming schemes for labelling media features and
      feature sets.  These should be backed up by some kind of
      registration process to ensure uniqueness of names and to
      encourage a common vocabulary for commonly used features.

   o  A framework of data types for media features, indicating the range
      and properties of value types which can be represented.





<span class="grey">Klyne                        Informational                     [Page 10]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-11" ></span>
<span class="grey"><a href="/doc/html/rfc2703">RFC 2703</a>        Protocol-independent Content Negotiation  September 1999</span>


   o  A way to combine media features into feature sets, capable of
      expressing feature dependencies within a feature set (e.g.
      640x480 pixel size and 256 colours, or 800x600 pixel size and 16
      colours).

   o  Some way to rank feature sets based upon sender and receiver
      preferences for different feature values.

<span class="h3"><a class="selflink" id="section-3.3" href="#section-3.3">3.3</a> Text representation for negotiation metadata</span>

   A concrete textual representation for media feature values and
   feature set descriptions would provide a common vocabulary for
   feature data in text-based protocols like HTTP and SMTP.

   In defining a textual representation, the issue of allowable
   character sets needs to be addressed.  Whether or not negotiation
   metadata needs to support a full gamut of international characters
   will depend upon the framework of data types adopted for media
   features.  As negotiation metadata would be used as a protocol
   element (not directly visible to the user) rather than part of the
   message content, support for extended character sets may be not
   required.

   A textual representation for negotiation metadata would imply a
   textual representation for media feature names, and also for
   expressions of the media feature combining algebra.

<span class="h3"><a class="selflink" id="section-3.4" href="#section-3.4">3.4</a> ASN.1 description of negotiation metadata</span>

   For use with non-text-based protocols, an ASN.1 description and
   encoding designation for negotiation metadata could be helpful for
   incorporating the common negotiation framework into ASN.1-derived
   protocols like X.400, X.500, LDAP and SNMP.

   An ASN.1 description of negotiation metadata formats suggests that
   separate media feature naming scheme based on ISO object identifiers
   would be valuable.

<span class="h3"><a class="selflink" id="section-3.5" href="#section-3.5">3.5</a> Protocol binding guidelines</span>

   Specific protocol bindings will be needed to use the abstract
   framework for negotiation.

   Details of protocol bindings would be beyond the scope of this work,
   but guidelines maybe not.  (SASL might provide a useful model here.)






<span class="grey">Klyne                        Informational                     [Page 11]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-12" ></span>
<span class="grey"><a href="/doc/html/rfc2703">RFC 2703</a>        Protocol-independent Content Negotiation  September 1999</span>


<span class="h2"><a class="selflink" id="section-4" href="#section-4">4</a>. Goals</span>

   These goals are presented in two categories:

   1. Negotiation framework and metadata goals which address the broad
      goals of negotiation in a protocol-independent fashion.

   2. Specific goals which relate to the deployment of negotiation in
      the context of a specific protocol (e.g. relation to HTTP protocol
      operations, cache interactions, security issues, existing HTTP
      negotiation mechanisms, application to variant selection, etc.).
      These would be addressed by a specific protocol binding for the
      negotiation framework.

<span class="h3"><a class="selflink" id="section-4.1" href="#section-4.1">4.1</a> Generic framework and metadata goals</span>

   o  A common vocabulary for designating features and feature sets.

   o  A stable reference for commonly used features.

   o  An extensible framework, to allow rapid and easy adoption of new
      features.

   o  Permit an indication of quality or preference.

   o  Capture dependencies between feature values

   o  A uniform framework mechanism for exchanging negotiation metadata
      should be defined that can encompass existing negotiable features
      and is extensible to future (unanticipated) features.

   o  Efficient negotiation should be possible in both receiver
      initiated (&#x27;pull&#x27;) and sender initiated (&#x27;push&#x27;) message
      transfers.

   o  The structure of the negotiation procedure framework should stand
      independently of any particular message transfer protocol.

   o  Be capable of addressing the role of content negotiation in
      fulfilling the communication needs of less able computer users.

<span class="h3"><a class="selflink" id="section-4.2" href="#section-4.2">4.2</a> Protocol-specific deployment goals</span>

   o  A negotiation should generally result in identification of a
      mutually acceptable form of message data to be transferred.






<span class="grey">Klyne                        Informational                     [Page 12]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-13" ></span>
<span class="grey"><a href="/doc/html/rfc2703">RFC 2703</a>        Protocol-independent Content Negotiation  September 1999</span>


   o  If capabilities are being sent at times other than the time of
      message transmission, then they should include sufficient
      information to allow them to be verified and authenticated.

   o  A capability assertion should clearly identify the party to whom
      the capabilities apply, the party to whom they are being sent, and
      some indication of their date/time or range of validity.  To be
      secure, capability assertions should be protected against
      interception and substitution of valid data by invalid data.

   o  A request for capability information, if sent other than in
      response to delivery of a message, should clearly identify the
      requester, the party whose capabilities are being requested, and
      the time of the request.  It should include sufficient information
      to allow the request to be authenticated.

   o  In the context of a given application, content negotiation may use
      one or several methods for transmission, storage, or distribution
      of capabilities.

   o  The negotiation mechanism should include a standardized method for
      associating features with resource variants.

   o  Negotiation should provide a way to indicate provider and
      recipient preferences for specific features.

   o  Negotiation should have the minimum possible impact on network
      resource consumption, particularly in terms of bandwidth and
      number of protocol round-trips required.

   o  Systems should protect the privacy of users&#x27; profiles and
      providers&#x27; inventories of variants.

   o  Protocol specifications should identify and permit mechanisms to
      verify the reasonable accuracy of any capability data provided.

   o  Negotiation must not significantly jeopardize the overall
      operation or integrity of any system in the face of erroneous
      capability data, whether accidentally or maliciously provided.

   o  Intelligent gateways, proxies, or caches should be allowed to
      participate in the negotiation.

   o  Negotiation metadata should be regarded as cacheable, and explicit
      cache control mechanisms provided to forestall the introduction of
      ad-hoc cache-busting techniques.





<span class="grey">Klyne                        Informational                     [Page 13]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-14" ></span>
<span class="grey"><a href="/doc/html/rfc2703">RFC 2703</a>        Protocol-independent Content Negotiation  September 1999</span>


   o  Automatic negotiation should not pre-empt a user&#x27;s ability to
      choose a document format from those available.

<span class="h2"><a class="selflink" id="section-5" href="#section-5">5</a>. Technical issues</span>

<span class="h3"><a class="selflink" id="section-5.1" href="#section-5.1">5.1</a> Non-message resource transfers</span>

   The ideas for generic content negotiation have been conceived and
   developed in the context of message-oriented data transmissions.

   Message data is defined elsewhere as a data whose entire content is
   decided before the start of data transmission.  The following are
   examples of non-message data transfers.

   o  streamed data,

   o  interactive computations,

   o  real-time data acquisition,

   Does a proposed approach to negotiation based on message data
   reasonably extend to streamed data (e.g. data whose content is not
   fully determined by the time the first data items are transmitted)?

   It may be that the metadata will be applicable, but the abstract
   negotiation process framework may be insufficient to these more
   demanding circumstances.

<span class="h3"><a class="selflink" id="section-5.2" href="#section-5.2">5.2</a> End-to-end vs hop-by-hop negotiations</span>

   Could this distinction place any special demands or constraints on a
   generic negotiation framework, or is this simply a protocol issue?

   o  End-to-end negotiation gives greatest confidence in the outcome.

   o  Hop-by-hop may have advantages in a network of occasionally-
      connected systems, but will place additional demands on
      intervening message transmission agents.

   Hop-by-hop negotiation implies that negotiation responses are not
   necessarily a definitive indication of an endpoint system&#x27;s
   capabilities.  This in turn implies a possible need for time-to-live
   and re-verification mechanisms to flush out stale negotiation data.

   Note that one of the stated goals is to allow proxies and caches to
   participate in the negotiation process, as appropriate.





<span class="grey">Klyne                        Informational                     [Page 14]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-15" ></span>
<span class="grey"><a href="/doc/html/rfc2703">RFC 2703</a>        Protocol-independent Content Negotiation  September 1999</span>


<span class="h3"><a class="selflink" id="section-5.3" href="#section-5.3">5.3</a> Third-party negotiation</span>

   An extension of the hop-by-hop vs. end-to-end negotiation theme is to
   consider the implications of allowing any system other than an
   endpoint participant in the message transmission to supply
   negotiation metadata.

   Any use of a third party in the negotiation process inevitably
   increases the possibilities for introducing errors into the
   negotiation metadata.

   One particular example of a third party participant in a negotiation
   process that is frequently suggested is the use of a directory
   service using LDAP or similar protocols.  What additional steps need
   to be taken to ensure reasonable reliability of negotiation metadata
   supplied by this means?

<span class="h3"><a class="selflink" id="section-5.4" href="#section-5.4">5.4</a> Use of generic directory and resolution services</span>

   It is clearly helpful to use existing protocols such as LDAP to
   exchange content negotiation metadata.

   To achieve this, it be necessary to define directory or other schema
   elements which are specific to content negotiation.  For example, an
   LDAP attribute type for a media feature set.

<span class="h3"><a class="selflink" id="section-5.5" href="#section-5.5">5.5</a> Billing issues</span>

   Negotiation may raise some billing-related issues in some contexts
   because it potentially incurs a two-way exchange of data not
   necessarily completed during a single connection.  There is an issue
   of who pays for return messages, etc., in a non-connected environment
   like e-mail or fax.

<span class="h3"><a class="selflink" id="section-5.6" href="#section-5.6">5.6</a> Performance considerations</span>

   Negotiation can impact performance in both positive and negative
   ways.

   The obvious negative impact arises from the exchange of additional
   data which necessarily consumes some additional bandwidth.  There is
   also an issue of round-trip or third-party query delays while
   negotiation metadata is being exchanged before transmission of the
   message itself is commenced.

   Over the Internet, there are some bandwidth/latency trade-offs which
   can be made. For example, in Internet e-mail the MIME type &#x27;
   multipart/alternative&#x27; can be used to send multiple versions of a



<span class="grey">Klyne                        Informational                     [Page 15]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-16" ></span>
<span class="grey"><a href="/doc/html/rfc2703">RFC 2703</a>        Protocol-independent Content Negotiation  September 1999</span>


   resource:  this preserves latency by using additional bandwidth to
   send a greater volume of data.  On the other hand, HTTP [<a href="#ref-7" title="&quot;Hyptertext Transfer Protocol -- HTTP/1.1&quot;">7</a>] suggests
   a negotiation mechanism which preserves bandwidth at the cost of
   introducing a round-trip delay (<a href="#section-12.2">section 12.2</a>, Agent-driven
   negotiation).

   To set against the negative performance impact of content
   negotiation, it is to be hoped that overall network efficiency is to
   be improved if it results in the most useful data format being
   delivered to its intended recipient, first time, almost every time.

<span class="h3"><a class="selflink" id="section-5.7" href="#section-5.7">5.7</a> Confidence levels in negotiated options</span>

   In some cases (e.g. when there has been a direct exchange of
   information with the remote system) the communicating parties will
   have a high degree of confidence in the outcome of a negotiation.
   Here, a data exchange can be performed without need for subsequent
   confirmation that the options used were acceptable.

   In other cases, the options will be a best-guess, and it may be
   necessary to make provision for parties to reject the options
   actually used in preference for some other set.

   This consideration is likely to interact with performance
   considerations.

   A useful pattern, adopted by TCN [<a href="#ref-5" title="&quot;Transparent Content Negotiation in HTTP&quot;">5</a>], is to define a negotiation
   procedure which guarantees a correct outcome.  This forms the
   foundation for a procedure which attempts to use easily-obtained but
   less reliable information in an attempt to optimize the negotiation
   process but that contains checks to guarantee the final result will
   be the same as would have been obtained by the full negotiation
   procedure.  Such procedures sometimes have to resort to the original
   &quot;full cycle&quot; negotiation procedure, but in a majority of cases are
   expected to reach their conclusion by an optimized route.

<span class="h2"><a class="selflink" id="section-6" href="#section-6">6</a>. Security Considerations</span>

   The purposes of this section is to identify and catalogue some
   security issues that feature negotiation protocols should consider.

<span class="h3"><a class="selflink" id="section-6.1" href="#section-6.1">6.1</a> Privacy</span>

   Privacy may be adversely affected by:

   o  Unintended disclosure of personal information.





<span class="grey">Klyne                        Informational                     [Page 16]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-17" ></span>
<span class="grey"><a href="/doc/html/rfc2703">RFC 2703</a>        Protocol-independent Content Negotiation  September 1999</span>


   o  Spoofed requests for negotiation data simply for the purposes of
      gathering information, and not as part of a bona fide message
      transmission.

<span class="h3"><a class="selflink" id="section-6.2" href="#section-6.2">6.2</a> Denial of service attacks</span>

   Service denial may be caused by:

   o  Injection of false negotiation data.

   o  Excessive requests for negotiation data

<span class="h3"><a class="selflink" id="section-6.3" href="#section-6.3">6.3</a> Mailing list interactions</span>

   Content negotiation with final recipients is somewhat at odds with
   normal practice for maintaining lists for redistribution of Internet
   mail.

   It may be appropriate for a sender to negotiate data formats with a
   list manager, and for a list manager to negotiate with message
   recipients.  But the common practice of keeping confidential the
   identities and addresses of mailing list subscribers suggests that
   end-to-end negotiation through a mailing list is not consistent with
   good security practice.

<span class="h3"><a class="selflink" id="section-6.4" href="#section-6.4">6.4</a> Use of security services</span>

   Protocols that employ security services for message transfer should
   also apply those services to content negotiation:

   o  Authenticated requests for negotiation metadata provide a means
      for a potential recipient to moderate the distribution of media
      capability information.

   o  Authentication of negotiation metadata provides a means for
      potential message senders to avoid using incorrect information
      injected by some other party.

   o  Encryption of negotiation data may help to prevent disclosure of
      sensitive capability-related information to snoopers.

   o  Conducting a negotiation exchange over an authenticated or
      encrypted protocol session (e.g. SASL), transport connection or
      network path (e.g. TLS, IPSEC) can provide for mutual
      authentication of both parties in an exchange of negotiation data.






<span class="grey">Klyne                        Informational                     [Page 17]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-18" ></span>
<span class="grey"><a href="/doc/html/rfc2703">RFC 2703</a>        Protocol-independent Content Negotiation  September 1999</span>


<span class="h3"><a class="selflink" id="section-6.5" href="#section-6.5">6.5</a> Disclosure of security weaknesses</span>

<span class="h4"><a class="selflink" id="section-6.5.1" href="#section-6.5.1">6.5.1</a> User agent identification</span>

   Disclosure of capability information may allow a potential attacker
   to deduce what message handling agent is used, and hence may lead to
   the exploitation of known security weaknesses in that agent.

<span class="h4"><a class="selflink" id="section-6.5.2" href="#section-6.5.2">6.5.2</a> Macro viruses</span>

   Macro viruses are a widespread problem among applications such as
   word processors and spreadsheets.  Knowing which applications a
   recipient employs (e.g. by file format) may assist in a malicious
   attack.  However, such viruses can be spread easily without such
   knowledge by sending multiple messages, where each message infects a
   specific application version.

<span class="h4"><a class="selflink" id="section-6.5.3" href="#section-6.5.3">6.5.3</a> Personal vulnerability</span>

   One application of content negotiation is to enable the delivery of
   message content that meets specific requirements of less able people.
   Disclosure of this information may make such people potential targets
   for attacks that play on their personal vulnerabilities.

<span class="h3"><a class="selflink" id="section-6.6" href="#section-6.6">6.6</a> Problems of negotiating security</span>

   If feature negotiation is used to decide upon security-related
   features to be used, some special problems may be created if the
   negotiation procedure can be subverted to prevent the selection of
   effective security procedures.

   The security considerations section of GSS-API negotiation [<a href="#ref-8" title="&quot;The Simple and Protected GSS-API Negotiation Mechanism&quot;">8</a>]
   discusses the use of integrity protecting mechanisms with security
   negotiation.

<span class="h2"><a class="selflink" id="section-7" href="#section-7">7</a>. Acknowledgements</span>

   Some material in this memo has been derived from earlier memos by
   Koen Holtman, Andrew Mutz, Ted Hardie, Larry Masinter, Dan Wing, Neil
   Joffe.  Matters relating to the importance and relevance of content
   negotiation to less-able users were raised by Al Gilman.

   This memo has also been informed by the debates of the IETF &quot;conneg&quot;
   working group.







<span class="grey">Klyne                        Informational                     [Page 18]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-19" ></span>
<span class="grey"><a href="/doc/html/rfc2703">RFC 2703</a>        Protocol-independent Content Negotiation  September 1999</span>


<span class="h2"><a class="selflink" id="section-8" href="#section-8">8</a>. References</span>

   [<a id="ref-1">1</a>]  Freed, N. and N. Borenstein, &quot;Multipurpose Internet Mail
        Extensions (MIME) Part 1: Format of Internet message bodies&quot;,
        <a href="/doc/html/rfc2045">RFC 2045</a>, November 1996.

   [<a id="ref-2">2</a>]  Freed, N. and N. Borenstein, &quot;Multipurpose Internet Mail
        Extensions (MIME) Part 2: Media Types&quot;, <a href="/doc/html/rfc2046">RFC 2046</a>, November 1996.

   [<a id="ref-3">3</a>]  Holtman, K., et al., &quot;The Alternates Header Field&quot;, Work in
        Progress.

   [<a id="ref-4">4</a>]  Hardie, T., &quot;Scenarios for the Delivery of Negotiated Content&quot;,
        Work in Progress.

   [<a id="ref-5">5</a>]  Holtman, K. and A. Mutz, &quot;Transparent Content Negotiation in
        HTTP&quot;, <a href="/doc/html/rfc2295">RFC 2295</a>, March 1998.

   [<a id="ref-6">6</a>]  Wing, D., &quot;Indicating Supported Media Features Using Extensions
        to DSN and MDN&quot;, <a href="/doc/html/rfc2530">RFC 2530</a>, March 1999.

   [<a id="ref-7">7</a>]  Fielding, R., Gettys, J., Mogul, J., Frytyk, H. and T. Berners-
        Lee, &quot;Hyptertext Transfer Protocol -- HTTP/1.1&quot;, <a href="/doc/html/rfc2068">RFC 2068</a>,
        January 1997.

   [<a id="ref-8">8</a>]  Blaize, E. and D. Pinkas, &quot;The Simple and Protected GSS-API
        Negotiation Mechanism&quot;, <a href="/doc/html/rfc2478">RFC 2478</a>, December 1998.

<span class="h2"><a class="selflink" id="section-9" href="#section-9">9</a>. Author&#x27;s Address</span>

   Graham Klyne
   5th Generation Messaging Ltd.  Content Technologies Ltd.
   5 Watlington Street            1220 Parkview, Arlington Business Park
   Nettlebed                      Theale
   Henley-on-Thames, RG9 5AB      Reading, RG7 4SA
   United Kingdom                 United Kingdom.

   Phone: +44 1491 641 641        +44 118 930 1300
   Fax:   +44 1491 641 611        +44 118 930 1301
   EMail: GK@ACM.ORG











<span class="grey">Klyne                        Informational                     [Page 19]</span></pre>
<hr class='noprint'/><!--NewPage--><pre class='newpage'><span id="page-20" ></span>
<span class="grey"><a href="/doc/html/rfc2703">RFC 2703</a>        Protocol-independent Content Negotiation  September 1999</span>


<span class="h2"><a class="selflink" id="section-10" href="#section-10">10</a>. Full Copyright Statement</span>

   Copyright (C) The Internet Society (1999).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   &quot;AS IS&quot; basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.



















Klyne                        Informational                     [Page 20]
</pre></div>
                    </div>
                
            </div>
            <div class="d-print-none col-md-3 bg-light-subtle collapse show" id="sidebar">
                <div class="position-fixed border-start sidebar overflow-scroll overscroll-none no-scrollbar">
                    <div class="d-flex flex-column vh-100 pt-2 pt-lg-3 ps-3 pl-md-2 pl-lg-3">
                        <div>
                            <a class="btn btn-primary btn-sm" href="/doc/rfc2703/">Datatracker</a>
                            <p class="fw-bold pt-2">
                                
                                    RFC 2703
                                
                                <br>
                                





<span class="text-success">RFC
    
    - Informational
    
</span>

                            </p>
                        </div>
                        
                        <ul class="nav nav-tabs nav-fill small me-2" role="tablist">
                            <li class="nav-item" role="presentation" title="Document information">
                                <button class="nav-link px-2"
                                        id="docinfo-tab"
                                        data-bs-toggle="tab"
                                        data-bs-target="#docinfo-tab-pane"
                                        type="button"
                                        role="tab"
                                        aria-controls="docinfo-tab-pane"
                                        aria-selected="true">
                                    <i class="bi bi-info-circle"></i><span class="d-none d-md-block d-xl-inline ms-xl-1">Info</span>
                                </button>
                            </li>
                            <li class="nav-item" role="presentation" title="Table of contents">
                                <button class="nav-link px-2"
                                        id="toc-tab"
                                        data-bs-toggle="tab"
                                        data-bs-target="#toc-tab-pane"
                                        type="button"
                                        role="tab"
                                        aria-controls="toc-tab-pane"
                                        aria-selected="false">
                                    <i class="bi bi-list-ol"></i><span class="d-none d-md-block d-xl-inline ms-xl-1">Contents</span>
                                </button>
                            </li>
                            <li class="nav-item" role="presentation" title="Preferences">
                                <button class="nav-link px-2"
                                        id="pref-tab"
                                        data-bs-toggle="tab"
                                        data-bs-target="#pref-tab-pane"
                                        type="button"
                                        role="tab"
                                        aria-controls="pref-tab-pane"
                                        aria-selected="false">
                                    <i class="bi bi-gear"></i><span class="d-none d-md-block d-xl-inline ms-xl-1">Prefs</span>
                                </button>
                            </li>
                        </ul>
                        <div class="overflow-auto tab-content pt-2 me-2">
                            <div class="tab-pane"
                                 id="docinfo-tab-pane"
                                 role="tabpanel"
                                 aria-labelledby="docinfo-tab"
                                 tabindex="0">
                                <table class="table table-sm table-borderless">
                                    







<tbody class="meta align-top ">
    <tr>
        <th scope="row">Document</th>
        <th scope="row">Document type</th>
        <td class="edit"></td>
        <td>
            





<span class="text-success">RFC
    
    - Informational
    
</span>

            
                
                    <br>September 1999
                
                <br>
                
                
                    <a class="btn btn-sm btn-warning"
                       title="Click to report an error in the document."
                       href="https://www.rfc-editor.org/errata.php#reportnew"
                       target="_blank">
                        Report errata
                    </a>
                
                
                
                
                
                
                
                
                
                    <div>
                        Was
                        <a href="/doc/draft-ietf-conneg-requirements/02/">draft-ietf-conneg-requirements</a>
                        (<a href="/wg/conneg/about/">conneg WG</a>)
                    </div>
                
            
            
            
                




    


            
        </td>
    </tr>
    
        <tr>
            <td></td>
            <th scope="row">Select version</th>
            <td class="edit"></td>
            <td>
                



    <ul class="revision-list pagination pagination-sm text-center flex-wrap my-0">
        
            
            
                
                    <li class="page-item">
                        <a class="page-link"
                        href="/doc/html/draft-ietf-conneg-requirements-02"
                        rel="nofollow">
                            02
                        </a>
                    </li>
                
            
            
            <li class="page-item rfc active">
                <a class="page-link"
                href="/doc/html/rfc2703">
                    RFC 2703
                </a>
            </li>
        
    </ul>

            </td>
        </tr>
        
            <tr>
                <td></td>
                <th scope="row">Compare versions</th>
                <td class="edit"></td>
                <td>
                    



<form class="form-horizontal diff-form"
      action="https://author-tools.ietf.org/iddiff"
      method="get"
      target="_blank">

            <select class="form-select form-select-sm mb-1 select2-field"
                    data-max-entries="1"
                    data-width="resolve"
                    data-allow-clear="false"
                    data-minimum-input-length="0"
                    aria-label="From revision"
                    name="url1">
                
                    <option value="rfc2703">
                        RFC 2703
                        
                    </option>
                
                    <option value="draft-ietf-conneg-requirements-02" selected>
                        draft-ietf-conneg-requirements-02
                        
                    </option>
                
                    <option value="draft-ietf-conneg-requirements-01">
                        draft-ietf-conneg-requirements-01
                        
                    </option>
                
                    <option value="draft-ietf-conneg-requirements-00">
                        draft-ietf-conneg-requirements-00
                        
                    </option>
                
                
            </select>

            <select class="form-select form-select-sm mb-1 select2-field"
                    data-max-entries="1"
                    data-width="resolve"
                    data-allow-clear="false"
                    data-minimum-input-length="0"
                    aria-label="To revision"
                    name="url2">
                
                    <option value="rfc2703" selected>
                        RFC 2703
                        
                    </option>
                
                    <option value="draft-ietf-conneg-requirements-02">
                        draft-ietf-conneg-requirements-02
                        
                    </option>
                
                    <option value="draft-ietf-conneg-requirements-01">
                        draft-ietf-conneg-requirements-01
                        
                    </option>
                
                    <option value="draft-ietf-conneg-requirements-00">
                        draft-ietf-conneg-requirements-00
                        
                    </option>
                
                
            </select>

            <button type="submit"
                    class="btn btn-primary btn-sm"
                    value="--html"
                    name="difftype">
                Side-by-side
            </button>
            
            <button type="submit"
                    class="btn btn-primary btn-sm"
                    value="--hwdiff"
                    name="difftype">
                Inline
            </button>

</form>
                </td>
            </tr>
        
    
    <tr>
        <td></td>
        <th scope="row">Author</th>
        <td class="edit">
            
        </td>
        <td>
            
            
                <span ><a 
           title="Datatracker profile of Graham Klyne"
            href="/person/gk@ninebynine.org" >Graham Klyne</a> <a 
               href="mailto:gk%40ninebynine.org"
               aria-label="Compose email to gk@ninebynine.org"
               title="Compose email to gk@ninebynine.org">
                <i class="bi bi-envelope"></i></a></span>
            
            
                <br>
                <a class="btn btn-primary btn-sm mt-1" href="mailto:rfc2703@ietf.org?subject=rfc2703" title="Send email to the document authors">Email authors</a>
            
        </td>
    </tr>
    
    
    <tr>
        <td></td>
        <th scope="row">
            RFC stream
        </th>
        <td class="edit">
            
        </td>
        <td >
            
                
                
                    
                        



<img alt="IETF Logo"
     class="d-lm-none w-25 mt-1"
     
     
        
             src="https://static.ietf.org/dt/12.40.0/ietf/images/ietf-logo-nor-white.svg"
        
     
     >

<img alt="IETF Logo"
     class="d-dm-none w-25 mt-1"
     
     
        
             src="https://static.ietf.org/dt/12.40.0/ietf/images/ietf-logo-nor.svg"
        
     
     >
                    
                
                
            
        </td>
    </tr>
    
    <tr>
        <td></td>
        <th scope="row">
            Other formats
        </th>
        <td class="edit">
        </td>
        <td>
            
                
    <div class="buttonlist">
    
        
        <a class="btn btn-primary btn-sm"
          
          target="_blank"
          href="https://www.rfc-editor.org/rfc/rfc2703.txt">
            
                <i class="bi bi-file-text"></i> txt
            
        </a>
        
    
        
        <a class="btn btn-primary btn-sm"
          
          target="_blank"
          href="https://www.rfc-editor.org/rfc/rfc2703.html">
            
                <i class="bi bi-file-code"></i> html
            
        </a>
        
    
        
        <a class="btn btn-primary btn-sm"
          
            download="rfc2703.pdf"
          
         
          target="_blank"
          href="https://www.rfc-editor.org/rfc/pdfrfc/rfc2703.txt.pdf">
            
                <i class="bi bi-file-pdf"></i> pdf
            
        </a>
        
    
        
    
        
        <a class="btn btn-primary btn-sm"
          
          target="_blank"
          href="/doc/rfc2703/bibtex/">
            
                <i class="bi bi-file-ruled"></i> bibtex
            
        </a>
        
    
</div>

            
        </td>
    </tr>
    
    
        
            <tr>
                <td>
                </td>
                <th scope="row">
                    Additional resources
                </th>
                <td class="edit">
                    
                </td>
                <td>
                    
                        
                        
                            
                                <a href="http://www.imc.org/ietf-medfree/">
                                    Mailing list discussion
                                </a>
                            
                        
                    
                </td>
            </tr>
        
    
</tbody>
                                </table>
                                <a class="btn btn-sm btn-warning mb-3"
                                target="_blank"
                                href="https://github.com/ietf-tools/datatracker/issues/new/choose">
                                    Report a datatracker bug
                                    <i class="bi bi-bug"></i>
                                </a>
                            </div>
                            <div class="tab-pane mb-5"
                                 id="toc-tab-pane"
                                 role="tabpanel"
                                 aria-labelledby="toc-tab"
                                 tabindex="0">
                                <nav class="nav nav-pills flex-column small" id="toc-nav">
                                </nav>
                            </div>
                            <div class="tab-pane mb-5 small"
                                 id="pref-tab-pane"
                                 role="tabpanel"
                                 aria-labelledby="pref-tab"
                                 tabindex="0">
                                <label class="form-label fw-bold mb-2">Show sidebar by default</label>
                                <div class="btn-group-vertical btn-group-sm d-flex" role="group">
                                    <input type="radio" class="btn-check" name="sidebar" id="on-radio">
                                    <label class="btn btn-outline-primary" for="on-radio">Yes</label>
                                    <input type="radio" class="btn-check" name="sidebar" id="off-radio">
                                    <label class="btn btn-outline-primary" for="off-radio">No</label>
                                </div>
                                <label class="form-label fw-bold mt-4 mb-2">Tab to show by default</label>
                                <div class="btn-group-vertical btn-group-sm d-flex" role="group">
                                    <input type="radio" class="btn-check" name="deftab" id="docinfo-radio">
                                    <label class="btn btn-outline-primary" for="docinfo-radio">
                                        <i class="bi bi-info-circle me-1"></i>Info
                                    </label>
                                    <input type="radio" class="btn-check" name="deftab" id="toc-radio">
                                    <label class="btn btn-outline-primary" for="toc-radio">
                                        <i class="bi bi-list-ol me-1"></i>Contents
                                    </label>
                                </div>
                                <label class="form-label fw-bold mt-4 mb-2">HTMLization configuration</label>
                                <div class="btn-group-vertical btn-group-sm d-flex" role="group">
                                    <input type="radio" class="btn-check" name="htmlconf" id="txt-radio">
                                    <label class="btn btn-outline-primary" for="txt-radio" title="This is the traditional HTMLization method.">
                                        <i class="bi bi-badge-sd me-1"></i>HTMLize the plaintext
                                    </label>
                                    <input type="radio" class="btn-check" name="htmlconf" id="html-radio">
                                    <label class="btn btn-outline-primary" for="html-radio" title="This is the modern HTMLization method.">
                                        <i class="bi bi-badge-hd me-1"></i>Plaintextify the HTML
                                    </label>
                                </div>
                                <label class="form-label fw-bold mt-4 mb-2" for="ptsize">Maximum font size</label>
                                <input type="range" class="form-range" min="7" max="16" id="ptsize" oninput="ptdemo.value = ptsize.value">
                                <label class="form-label fw-bold mt-4 mb-2">Page dependencies</label>
                                <div class="btn-group-vertical btn-group-sm d-flex" role="group">
                                    <input type="radio" class="btn-check" name="pagedeps" id="inline-radio">
                                    <label class="btn btn-outline-primary" for="inline-radio" title="Generate larger, standalone web pages that do not require network access to render.">
                                        <i class="bi bi-box me-1"></i>Inline
                                    </label>
                                    <input type="radio" class="btn-check" name="pagedeps" id="reference-radio">
                                    <label class="btn btn-outline-primary" for="reference-radio" title="Generate regular web pages that require network access to render.">
                                        <i class="bi bi-link-45deg me-1"></i>Reference
                                    </label>
                                </div>
                                <label class="form-label fw-bold mt-4 mb-2">Citation links</label>
                                <div class="btn-group-vertical btn-group-sm d-flex" role="group">
                                    <input type="radio" class="btn-check" name="reflinks" id="refsection-radio">
                                    <label class="btn btn-outline-primary" for="refsection-radio" title="Citation links go to the reference section.">
                                        <i class="bi bi-arrow-clockwise"></i> Go to reference section
                                    </label>
                                    <input type="radio" class="btn-check" name="reflinks" id="citation-radio">
                                    <label class="btn btn-outline-primary" for="citation-radio" title="Citation links go directly to the cited document.">
                                        <i class="bi bi-link-45deg me-1"></i>Go to linked document
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
<script type="text/javascript">
  var _paq = window._paq || [];
  
  _paq.push(['disableCookies']);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//analytics.ietf.org/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', 7]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="//analytics.ietf.org/piwik.php?idsite=7" style="border:0;" alt="" /></p></noscript>

    <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9405be893eca4afa',t:'MTc0NzM0NDcwOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
